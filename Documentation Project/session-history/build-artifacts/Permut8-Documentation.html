





<!DOCTYPE html>
<html
  lang="en"
  
  data-color-mode="auto" data-light-theme="light" data-dark-theme="dark"
  data-a11y-animated-images="system" data-a11y-link-underlines="true"
  
  >



  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://github.githubassets.com">
  <link rel="dns-prefetch" href="https://avatars.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">
  <link rel="preconnect" href="https://github.githubassets.com" crossorigin>
  <link rel="preconnect" href="https://avatars.githubusercontent.com">

  


  <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/light_experimental-d0637bbdaa51.css" /><link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/dark_experimental-b3eb81810916.css" /><link data-color-theme="light_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_high_contrast_experimental-10abdc3747c3.css" /><link data-color-theme="light_colorblind" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_colorblind_experimental-49cf0efe982a.css" /><link data-color-theme="light_colorblind_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_colorblind_high_contrast_experimental-e379dad4f96f.css" /><link data-color-theme="light_tritanopia" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_tritanopia_experimental-73918b3a2f64.css" /><link data-color-theme="light_tritanopia_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_tritanopia_high_contrast_experimental-b843cf381204.css" /><link data-color-theme="dark_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_high_contrast_experimental-5748739a6b50.css" /><link data-color-theme="dark_colorblind" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_colorblind_experimental-c45cc62af0e7.css" /><link data-color-theme="dark_colorblind_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_colorblind_high_contrast_experimental-32b00a22b284.css" /><link data-color-theme="dark_tritanopia" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_tritanopia_experimental-dfdb41647a89.css" /><link data-color-theme="dark_tritanopia_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_tritanopia_high_contrast_experimental-66cec90757f5.css" /><link data-color-theme="dark_dimmed" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_dimmed_experimental-a537244628ca.css" /><link data-color-theme="dark_dimmed_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_dimmed_high_contrast_experimental-dc9a2a96cdc6.css" />


    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-primitives-225433424a87.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-b4bd0459f984.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/global-46e30a0a488d.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/github-ef14fd9f242b.css" />
  <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/repository-fa462f1c51f1.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/code-177d21388df8.css" />

  


  <script type="application/json" id="client-env">{"locale":"en","featureFlags":["alternate_user_config_repo","api_insights_show_missing_data_banner","appearance_settings","billing_sku_level_budgets","client_version_header","codespaces_prebuild_region_target_update","contact_requests_implicit_opt_in","contentful_lp_flex_features","contentful_lp_footnotes","contentful_lp_form_phone_e164","copilot_chat_attach_images","copilot_chat_attach_multiple_images","copilot_chat_attachments","copilot_chat_autocomplete","copilot_chat_custom_instructions","copilot_chat_interview_survey","copilot_chat_opening_thread_switch","copilot_chat_repo_custom_instructions_preview","copilot_chat_vision_in_claude","copilot_chat_wholearea_dd","copilot_custom_copilots_feature_preview","copilot_custom_copilots_org_owned","copilot_dotcom_chat_file_upload","copilot_duplicate_thread","copilot_free_to_paid_telem","copilot_ftp_settings_upgrade","copilot_ftp_upgrade_to_pro_from_models","copilot_ftp_your_copilot_settings","copilot_immersive_draft_issue_template_required","copilot_immersive_issue_creation_cta","copilot_immersive_issue_preview","copilot_new_conversation_starters","copilot_new_immersive_references_ui","copilot_no_floating_button","copilot_read_shared_conversation","copilot_share_active_subthread","copilot_showcase_icebreakers","copilot_task_oriented_assistive_prompts","copilot_topics_as_references","copilot_workbench_iterate_panel","copilot_workbench_preview_analytics","copilot_workbench_refresh_on_wsod","copilot_workbench_user_limits","custom_copilots_capi_mode","direct_to_salesforce","dnd_no_touch_device_check","dotcom_chat_client_side_skills","ghost_pilot_confidence_truncation_25","ghost_pilot_confidence_truncation_40","insert_before_patch","issues_react_blur_item_picker_on_close","issues_react_bots_timeline_pagination","issues_react_create_milestone","issues_react_include_bots_in_pickers","issues_react_prohibit_title_fallback","issues_react_remove_placeholders","lifecycle_label_name_updates","link_contact_sales_swp_marketo","marketing_pages_search_explore_provider","memex_mwl_filter_field_delimiter","memex_roadmap_drag_style","nonreporting_relay_graphql_status_codes","primer_primitives_experimental","primer_react_css_modules_ga","primer_react_select_panel_with_modern_action_list","progress_bar_delay_99","remove_child_patch","repository_suggester_elastic_search","sample_network_conn_type","site_homepage_contentful","site_msbuild_hide_integrations","site_msbuild_launch","site_msbuild_webgl_hero","spark_auth_token_endpoint","spark_commit_on_default_branch","spark_update_user_edit_status","swp_enterprise_contact_form","use_copilot_avatar","use_paginated_org_picker_cost_center_form","use_paginated_repo_picker_cost_center_form"],"login":"madeofants"}</script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/wp-runtime-4162cb475399.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js-a8c266e5f126.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_stacktrace-parser_dist_s-1d3d52-babac9434833.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_failbot_failbot_ts-25fbe4f052b4.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/environment-89128d48c6ff.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_primer_behaviors_dist_esm_index_mjs-c44edfed7f0d.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_selector-observer_dist_index_esm_js-cdf2757bd188.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_relative-time-element_dist_index_js-5913bc24f35d.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_text-expander-element_dist_index_js-e50fb7a5fe8c.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_auto-complete-element_dist_index_js-node_modules_github_catalyst_-8e9f78-c1e2fb329866.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_filter-input-element_dist_index_js-node_modules_github_remote-inp-d8c643-251bc3964eb6.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_markdown-toolbar-element_dist_index_js-6a8c7d9a08fe.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_file-attachment-element_dist_index_js-node_modules_primer_view-co-cadbad-fad3eaf3c7ec.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/github-elements-a0eacac9865b.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/element-registry-693be3bf2c51.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_githu-bb80ec-34c4b68b1dd3.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_lit-html_lit-html_js-b93a87060d31.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_morphdom_dist_morphdom-esm_js-300e8e4e0414.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_fzy_js_index_js-node_modules_github_paste-markdown_dist_index_js-63a26702fa42.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js-595819d3686f.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_remote-form_dist_index_js-node_modules_delegated-events_dist_inde-893f9f-1bcf38e06f01.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_color-convert_index_js-1a149db8dc99.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_quote-selection_dist_index_js-node_modules_github_session-resume_-c1aa61-91618cb63471.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_updatable-content_updatable-content_ts-a5daa16ae903.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_task-list_ts-app_assets_modules_github_sso_ts-ui_packages-900dde-f953ddf42948.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_sticky-scroll-into-view_ts-84e0c4a441a7.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_ajax-error_ts-app_assets_modules_github_behaviors_include-d0d0a6-a7da4270c5f4.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_commenting_edit_ts-app_assets_modules_github_behaviors_ht-83c235-567e0f340e27.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/behaviors-b02c9c945bf2.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_delegated-events_dist_index_js-node_modules_github_catalyst_lib_index_js-ea8eaa-eefe25567449.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/notifications-global-eadae94940d6.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_github_catalyst_lib_inde-dbbea9-558c1f223d1d.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/code-menu-6d3334d79340.js" defer="defer"></script>
  
  <script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/primer-react-957709c85fcc.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/react-core-612ceb281475.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/react-lib-8705026b409a.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/octicons-react-9fd6ca6872cc.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_emotion_is-prop-valid_dist_emotion-is-prop-valid_esm_js-node_modules_emo-b1c483-b5947865157f.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-ui_packages_react-router_node_modules_cookie_dist_index_js-node_modules_primer_live-r-4288ca-b9012d3355e6.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_dompurify_dist_purify_es_mjs-7457ebdd1a1f.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_lodash-es__Stack_js-node_modules_lodash-es__Uint8Array_js-node_modules_l-4faaa6-16c4e2c524de.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_lodash-es_isEqual_js-a0841ced23fc.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_tanstack_react-virtual_dist_esm_index_js-807aab04afeb.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_catalyst_lib_index_js-node_modules_github_hydro-analytics-client_-189aa3-aa0d1c491a18.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_focus-visible_dist_focus-visible_js-node_modules_fzy_js_index_js-node_mo-296806-a0e432a5dd85.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_document-metadata_document-metadata_ts-ui_packages_history_history_ts-ui_packages-417c81-00e1a3522739.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_paths_index_ts-2c6108a4a75d.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_ref-selector_RefSelector_tsx-09f18b452658.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_commit-attribution_index_ts-ui_packages_commit-checks-status_index_ts-ui_packages-762eaa-0ccc80d07903.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_app-uuid_app-uuid_ts-ui_packages_repos-file-tree-view_repos-file-tree-view_ts-ui_-e7c631-8808400bf5af.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_diffs_diff-parts_ts-3d204ed86299.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_hydro-analytics_hydro-analytics_ts-ui_packages_use-client-value_use-client-value_-6f712e-5abe20edbfb5.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_code-view-shared_hooks_use-canonical-object_ts-ui_packages_code-view-shared_hooks-7b64b1-b9ed65eb20ca.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_blob-anchor_ts-ui_packages_code-nav_code-nav_ts-ui_packages_filter--8253c1-5fde020dbad1.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/react-code-view-88aed7cfecd9.js" defer="defer"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.dabe715f485ee3a2cf59.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/react-code-view.f828e7c17d2129f3c506.module.css" />


  <title>Permut8-Firmware-Tutorial/Permut8-Documentation.html at main 路 madeofants/Permut8-Firmware-Tutorial</title>



  <meta name="route-pattern" content="/:user_id/:repository/blob/*name(/*path)" data-turbo-transient>
  <meta name="route-controller" content="blob" data-turbo-transient>
  <meta name="route-action" content="show" data-turbo-transient>
  <meta name="fetch-nonce" content="v2:e88805ed-c33d-2cf4-8a22-17058f8d142a">

    
  <meta name="current-catalog-service-hash" content="f3abb0cc802f3d7b95fc8762b94bdcb13bf39634c40c357301c4aa1d67a256fb">


  <meta name="request-id" content="9E5B:184BFB:4688FEC:62342A9:684C4FA6" data-turbo-transient="true" /><meta name="html-safe-nonce" content="b726f4cb0bf5abf7c84b533bddadd694f4b99f871761b11aeb7743337775bb5f" data-turbo-transient="true" /><meta name="visitor-payload" content="eyJyZWZlcnJlciI6Imh0dHBzOi8vZ2l0aHViLmNvbS9tYWRlb2ZhbnRzL1Blcm11dDgtRmlybXdhcmUtVHV0b3JpYWwiLCJyZXF1ZXN0X2lkIjoiOUU1QjoxODRCRkI6NDY4OEZFQzo2MjM0MkE5OjY4NEM0RkE2IiwidmlzaXRvcl9pZCI6IjIwNjU2NjA4MjkwODY2NjI3NzkiLCJyZWdpb25fZWRnZSI6ImlhZCIsInJlZ2lvbl9yZW5kZXIiOiJpYWQifQ==" data-turbo-transient="true" /><meta name="visitor-hmac" content="6e4eca2d06bd1210e55f56ad6da32135fb7316317cb657d733217aa3dd1617ee" data-turbo-transient="true" />


    <meta name="hovercard-subject-tag" content="repository:1001550000" data-turbo-transient>


  <meta name="github-keyboard-shortcuts" content="repository,source-code,file-tree,copilot" data-turbo-transient="true" />
  

  <meta name="selected-link" value="repo_source" data-turbo-transient>
  <link rel="assets" href="https://github.githubassets.com/">

    <meta name="google-site-verification" content="Apib7-x98H0j5cPqHWwSMm6dNU4GmODRoqxLiDzdx9I">

<meta name="octolytics-url" content="https://collector.github.com/github/collect" /><meta name="octolytics-actor-id" content="44012456" /><meta name="octolytics-actor-login" content="madeofants" /><meta name="octolytics-actor-hash" content="5d237bbd1cf1552ff0c9553c97846fefe5b75618c013c3dc4539dd1ae563b45b" />

  <meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-turbo-transient="true" />

  




    <meta name="user-login" content="madeofants">

  <link rel="sudo-modal" href="/sessions/sudo_modal">

    <meta name="viewport" content="width=device-width">

    

      <meta name="description" content="A language reference and tutorial for writing firmware using the Permut8 plugin by Sonic Charge. All docs were written using AI agents to generate text from  source and any original documentation I could find, then I managed and proofread the project using Claude Code from a document base I started in a different worflow. - Permut8-Firmware-Tutorial/Permut8-Documentation.html at main 路 madeofants/Permut8-Firmware-Tutorial">

      <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">

    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <meta property="fb:app_id" content="1401488693436528">
    <meta name="apple-itunes-app" content="app-id=1477376905, app-argument=https://github.com/madeofants/Permut8-Firmware-Tutorial/blob/main/Permut8-Documentation.html" />

      <meta name="twitter:image" content="https://opengraph.githubassets.com/38a9431405f21337650577ef3a5cc6e034f79f58ec03725916145e22d6fe949f/madeofants/Permut8-Firmware-Tutorial" /><meta name="twitter:site" content="@github" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:title" content="Permut8-Firmware-Tutorial/Permut8-Documentation.html at main 路 madeofants/Permut8-Firmware-Tutorial" /><meta name="twitter:description" content="A language reference and tutorial for writing firmware using the Permut8 plugin by Sonic Charge. All docs were written using AI agents to generate text from  source and any original documentation I..." />
  <meta property="og:image" content="https://opengraph.githubassets.com/38a9431405f21337650577ef3a5cc6e034f79f58ec03725916145e22d6fe949f/madeofants/Permut8-Firmware-Tutorial" /><meta property="og:image:alt" content="A language reference and tutorial for writing firmware using the Permut8 plugin by Sonic Charge. All docs were written using AI agents to generate text from  source and any original documentation I..." /><meta property="og:image:width" content="1200" /><meta property="og:image:height" content="600" /><meta property="og:site_name" content="GitHub" /><meta property="og:type" content="object" /><meta property="og:title" content="Permut8-Firmware-Tutorial/Permut8-Documentation.html at main 路 madeofants/Permut8-Firmware-Tutorial" /><meta property="og:url" content="https://github.com/madeofants/Permut8-Firmware-Tutorial/blob/main/Permut8-Documentation.html" /><meta property="og:description" content="A language reference and tutorial for writing firmware using the Permut8 plugin by Sonic Charge. All docs were written using AI agents to generate text from  source and any original documentation I..." />
  


      <link rel="shared-web-socket" href="wss://alive.github.com/_sockets/u/44012456/ws?session=eyJ2IjoiVjMiLCJ1Ijo0NDAxMjQ1NiwicyI6MTY5MjI0ODcxMiwiYyI6MzY4MDQ2NTAyOCwidCI6MTc0OTgzMTU5MX0=--c44b5335ad685ddf781d6f8e583f19256a4a8d188148aabab4036f14053f4a41" data-refresh-url="/_alive" data-session-id="54465c72a3781134ab36f0af3afe22a655a4c98e84fc2509d67b9076c5b8e8a2">
      <link rel="shared-web-socket-src" href="/assets-cdn/worker/socket-worker-719e0337f526.js">


      <meta name="hostname" content="github.com">


      <meta name="keyboard-shortcuts-preference" content="all">
      <meta name="hovercards-preference" content="true">
      <meta name="announcement-preference-hovercard" content="true">

        <meta name="expected-hostname" content="github.com">


  <meta http-equiv="x-pjax-version" content="66f56c3cebe8da80f5c74ce3d157fc8da61f239600d4f70aa143d2726e2f2b71" data-turbo-track="reload">
  <meta http-equiv="x-pjax-csp-version" content="352e51c42d5f5727a7c545752bf34d1f83f40219e7036c6959817149a51651bc" data-turbo-track="reload">
  <meta http-equiv="x-pjax-css-version" content="4e8d942c1e58aee61c7c4c8c9889c1c76351814c062c507d76d301fb8bcb7735" data-turbo-track="reload">
  <meta http-equiv="x-pjax-js-version" content="c872b8e6971c4564cccd69fec9a329503b0ca8f5c31134c67ea60eef4dc61dd6" data-turbo-track="reload">

  <meta name="turbo-cache-control" content="no-preview" data-turbo-transient="">

      <meta name="turbo-cache-control" content="no-cache" data-turbo-transient>

    <meta data-hydrostats="publish">
  <meta name="go-import" content="github.com/madeofants/Permut8-Firmware-Tutorial git https://github.com/madeofants/Permut8-Firmware-Tutorial.git">

  <meta name="octolytics-dimension-user_id" content="44012456" /><meta name="octolytics-dimension-user_login" content="madeofants" /><meta name="octolytics-dimension-repository_id" content="1001550000" /><meta name="octolytics-dimension-repository_nwo" content="madeofants/Permut8-Firmware-Tutorial" /><meta name="octolytics-dimension-repository_public" content="true" /><meta name="octolytics-dimension-repository_is_fork" content="false" /><meta name="octolytics-dimension-repository_network_root_id" content="1001550000" /><meta name="octolytics-dimension-repository_network_root_nwo" content="madeofants/Permut8-Firmware-Tutorial" />



    

    <meta name="turbo-body-classes" content="logged-in env-production page-responsive">


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <meta name="release" content="583deed267781cba590eee5acc5ea3a2d0754cc1">

  <link rel="mask-icon" href="https://github.githubassets.com/assets/pinned-octocat-093da3e6fa40.svg" color="#000000">
  <link rel="alternate icon" class="js-site-favicon" type="image/png" href="https://github.githubassets.com/favicons/favicon.png">
  <link rel="icon" class="js-site-favicon" type="image/svg+xml" href="https://github.githubassets.com/favicons/favicon.svg" data-base-href="https://github.githubassets.com/favicons/favicon">

<meta name="theme-color" content="#1e2327">
<meta name="color-scheme" content="light dark" />


  <link rel="manifest" href="/manifest.json" crossOrigin="use-credentials">

  </head>

  <body class="logged-in env-production page-responsive" style="word-wrap: break-word;">
    <div data-turbo-body class="logged-in env-production page-responsive" style="word-wrap: break-word;">
      



    <div class="position-relative header-wrapper js-header-wrapper ">
      <a href="#start-of-content" data-skip-target-assigned="false" class="p-3 color-bg-accent-emphasis color-fg-on-emphasis show-on-focus js-skip-to-content">Skip to content</a>

      <span data-view-component="true" class="progress-pjax-loader Progress position-fixed width-full">
    <span style="width: 0%;" data-view-component="true" class="Progress-item progress-pjax-loader-bar left-0 top-0 color-bg-accent-emphasis"></span>
</span>      
      
      <script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_ui-commands_ui-commands_ts-eb77c4447210.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/keyboard-shortcuts-dialog-693d9bb9de03.js" defer="defer"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.dabe715f485ee3a2cf59.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/keyboard-shortcuts-dialog.47de85e2c17af43cefd5.module.css" />

<react-partial
  partial-name="keyboard-shortcuts-dialog"
  data-ssr="false"
  data-attempted-ssr="false"
>
  
  <script type="application/json" data-target="react-partial.embeddedData">{"props":{"docsUrl":"https://docs.github.com/get-started/accessibility/keyboard-shortcuts"}}</script>
  <div data-target="react-partial.reactRoot"></div>
</react-partial>




      

          

              <header class="AppHeader" role="banner">
  <h2 class="sr-only">Navigation Menu</h2>


    

    <div class="AppHeader-globalBar pb-2 js-global-bar">
      <div class="AppHeader-globalBar-start responsive-context-region">
        <div class="">
            <deferred-side-panel data-url="/_side-panels/global">
  <include-fragment data-target="deferred-side-panel.fragment" data-nonce="v2:e88805ed-c33d-2cf4-8a22-17058f8d142a" data-view-component="true">
  
      <button aria-label="Open global navigation menu" data-action="click:deferred-side-panel#loadPanel click:deferred-side-panel#panelOpened" data-show-dialog-id="dialog-087cce1c-f58f-423b-8e32-39414d7a424a" id="dialog-show-dialog-087cce1c-f58f-423b-8e32-39414d7a424a" type="button" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button p-0 color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-three-bars Button-visual">
    <path d="M1 2.75A.75.75 0 0 1 1.75 2h12.5a.75.75 0 0 1 0 1.5H1.75A.75.75 0 0 1 1 2.75Zm0 5A.75.75 0 0 1 1.75 7h12.5a.75.75 0 0 1 0 1.5H1.75A.75.75 0 0 1 1 7.75ZM1.75 12h12.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Z"></path>
</svg>
</button>

<dialog-helper>
  <dialog data-target="deferred-side-panel.panel" id="dialog-087cce1c-f58f-423b-8e32-39414d7a424a" aria-modal="true" aria-labelledby="dialog-087cce1c-f58f-423b-8e32-39414d7a424a-title" aria-describedby="dialog-087cce1c-f58f-423b-8e32-39414d7a424a-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-small-portrait Overlay--motion-scaleFade Overlay--placement-left SidePanel Overlay--disableScroll">
    <div styles="flex-direction: row;" data-view-component="true" class="Overlay-header">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title sr-only" id="dialog-087cce1c-f58f-423b-8e32-39414d7a424a-title">
        Global navigation
      </h1>
            <div data-view-component="true" class="d-flex">
      <div data-view-component="true" class="AppHeader-logo position-relative">
        <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-mark-github">
    <path d="M12 1C5.9225 1 1 5.9225 1 12C1 16.8675 4.14875 20.9787 8.52125 22.4362C9.07125 22.5325 9.2775 22.2025 9.2775 21.9137C9.2775 21.6525 9.26375 20.7862 9.26375 19.865C6.5 20.3737 5.785 19.1912 5.565 18.5725C5.44125 18.2562 4.905 17.28 4.4375 17.0187C4.0525 16.8125 3.5025 16.3037 4.42375 16.29C5.29 16.2762 5.90875 17.0875 6.115 17.4175C7.105 19.0812 8.68625 18.6137 9.31875 18.325C9.415 17.61 9.70375 17.1287 10.02 16.8537C7.5725 16.5787 5.015 15.63 5.015 11.4225C5.015 10.2262 5.44125 9.23625 6.1425 8.46625C6.0325 8.19125 5.6475 7.06375 6.2525 5.55125C6.2525 5.55125 7.17375 5.2625 9.2775 6.67875C10.1575 6.43125 11.0925 6.3075 12.0275 6.3075C12.9625 6.3075 13.8975 6.43125 14.7775 6.67875C16.8813 5.24875 17.8025 5.55125 17.8025 5.55125C18.4075 7.06375 18.0225 8.19125 17.9125 8.46625C18.6138 9.23625 19.04 10.2125 19.04 11.4225C19.04 15.6437 16.4688 16.5787 14.0213 16.8537C14.42 17.1975 14.7638 17.8575 14.7638 18.8887C14.7638 20.36 14.75 21.5425 14.75 21.9137C14.75 22.2025 14.9563 22.5462 15.5063 22.4362C19.8513 20.9787 23 16.8537 23 12C23 5.9225 18.0775 1 12 1Z"></path>
</svg>
</div></div>
    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="dialog-087cce1c-f58f-423b-8e32-39414d7a424a" aria-label="Close" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="dialog-087cce1c-f58f-423b-8e32-39414d7a424a-title">
        <div data-view-component="true" class="Overlay-body d-flex flex-column px-2">    <div data-view-component="true" class="d-flex flex-column mb-3">
        <nav aria-label="Site navigation" data-view-component="true" class="ActionList">
  
  <nav-list>
    <ul data-target="nav-list.topLevelList" data-view-component="true" class="ActionListWrap">
        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-hotkey="g d" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;HOME&quot;,&quot;label&quot;:null}" id="item-9085c2b4-fb25-435e-aced-08517fc59b78" href="/dashboard" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-home">
    <path d="M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Home
</span>      
</a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-hotkey="g i" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;ISSUES&quot;,&quot;label&quot;:null}" id="item-ee08abf3-be02-4210-8f0f-55ef33fe1df3" href="/issues" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Issues
</span>      
</a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-hotkey="g p" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;PULL_REQUESTS&quot;,&quot;label&quot;:null}" id="item-6a49d098-64ba-4a36-8a0c-dd5a17b35a4b" href="/pulls" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-pull-request">
    <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Pull requests
</span>      
</a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-item-id="projects" data-view-component="true" class="ActionListItem">
    
    
    <a data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;PROJECTS&quot;,&quot;label&quot;:null}" id="item-ecd8a6db-1666-445e-b48b-c86c24d096ca" href="/projects" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-table">
    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM6.5 6.5v8h7.75a.25.25 0 0 0 .25-.25V6.5Zm8-1.5V1.75a.25.25 0 0 0-.25-.25H6.5V5Zm-13 1.5v7.75c0 .138.112.25.25.25H5v-8ZM5 5V1.5H1.75a.25.25 0 0 0-.25.25V5Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Projects
</span>      
</a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;DISCUSSIONS&quot;,&quot;label&quot;:null}" id="item-b67c523c-4a5a-4ab0-a470-08412feb1e2a" href="/discussions" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment-discussion">
    <path d="M1.75 1h8.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 10.25 10H7.061l-2.574 2.573A1.458 1.458 0 0 1 2 11.543V10h-.25A1.75 1.75 0 0 1 0 8.25v-5.5C0 1.784.784 1 1.75 1ZM1.5 2.75v5.5c0 .138.112.25.25.25h1a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h3.5a.25.25 0 0 0 .25-.25v-5.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13 2a.25.25 0 0 0-.25-.25h-.5a.75.75 0 0 1 0-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 14.25 12H14v1.543a1.458 1.458 0 0 1-2.487 1.03L9.22 12.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.22 2.22v-2.19a.75.75 0 0 1 .75-.75h1a.25.25 0 0 0 .25-.25Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Discussions
</span>      
</a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;CODESPACES&quot;,&quot;label&quot;:null}" id="item-3352e812-4f75-441b-a95b-d63d9a477819" href="https://github.com/codespaces" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-codespaces">
    <path d="M0 11.25c0-.966.784-1.75 1.75-1.75h12.5c.966 0 1.75.784 1.75 1.75v3A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm2-9.5C2 .784 2.784 0 3.75 0h8.5C13.216 0 14 .784 14 1.75v5a1.75 1.75 0 0 1-1.75 1.75h-8.5A1.75 1.75 0 0 1 2 6.75Zm1.75-.25a.25.25 0 0 0-.25.25v5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-5a.25.25 0 0 0-.25-.25Zm-2 9.5a.25.25 0 0 0-.25.25v3c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-3a.25.25 0 0 0-.25-.25Z"></path><path d="M7 12.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75Zm-4 0a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Codespaces
</span>      
</a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;COPILOT&quot;,&quot;label&quot;:null}" id="item-31109287-7694-478f-ac10-bcc6428d7133" href="/copilot" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copilot">
    <path d="M7.998 15.035c-4.562 0-7.873-2.914-7.998-3.749V9.338c.085-.628.677-1.686 1.588-2.065.013-.07.024-.143.036-.218.029-.183.06-.384.126-.612-.201-.508-.254-1.084-.254-1.656 0-.87.128-1.769.693-2.484.579-.733 1.494-1.124 2.724-1.261 1.206-.134 2.262.034 2.944.765.05.053.096.108.139.165.044-.057.094-.112.143-.165.682-.731 1.738-.899 2.944-.765 1.23.137 2.145.528 2.724 1.261.566.715.693 1.614.693 2.484 0 .572-.053 1.148-.254 1.656.066.228.098.429.126.612.012.076.024.148.037.218.924.385 1.522 1.471 1.591 2.095v1.872c0 .766-3.351 3.795-8.002 3.795Zm0-1.485c2.28 0 4.584-1.11 5.002-1.433V7.862l-.023-.116c-.49.21-1.075.291-1.727.291-1.146 0-2.059-.327-2.71-.991A3.222 3.222 0 0 1 8 6.303a3.24 3.24 0 0 1-.544.743c-.65.664-1.563.991-2.71.991-.652 0-1.236-.081-1.727-.291l-.023.116v4.255c.419.323 2.722 1.433 5.002 1.433ZM6.762 2.83c-.193-.206-.637-.413-1.682-.297-1.019.113-1.479.404-1.713.7-.247.312-.369.789-.369 1.554 0 .793.129 1.171.308 1.371.162.181.519.379 1.442.379.853 0 1.339-.235 1.638-.54.315-.322.527-.827.617-1.553.117-.935-.037-1.395-.241-1.614Zm4.155-.297c-1.044-.116-1.488.091-1.681.297-.204.219-.359.679-.242 1.614.091.726.303 1.231.618 1.553.299.305.784.54 1.638.54.922 0 1.28-.198 1.442-.379.179-.2.308-.578.308-1.371 0-.765-.123-1.242-.37-1.554-.233-.296-.693-.587-1.713-.7Z"></path><path d="M6.25 9.037a.75.75 0 0 1 .75.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 .75-.75Zm4.25.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 1.5 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Copilot
</span>      
</a>
  
</li>

        
          <li role="presentation" aria-hidden="true" data-view-component="true" class="ActionList-sectionDivider"></li>
        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;EXPLORE&quot;,&quot;label&quot;:null}" id="item-9b514f56-fa7e-4590-b7b4-79a6e6217d80" href="/explore" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-telescope">
    <path d="M14.184 1.143v-.001l1.422 2.464a1.75 1.75 0 0 1-.757 2.451L3.104 11.713a1.75 1.75 0 0 1-2.275-.702l-.447-.775a1.75 1.75 0 0 1 .53-2.32L11.682.573a1.748 1.748 0 0 1 2.502.57Zm-4.709 9.32h-.001l2.644 3.863a.75.75 0 1 1-1.238.848l-1.881-2.75v2.826a.75.75 0 0 1-1.5 0v-2.826l-1.881 2.75a.75.75 0 1 1-1.238-.848l2.049-2.992a.746.746 0 0 1 .293-.253l1.809-.87a.749.749 0 0 1 .944.252ZM9.436 3.92h-.001l-4.97 3.39.942 1.63 5.42-2.61Zm3.091-2.108h.001l-1.85 1.26 1.505 2.605 2.016-.97a.247.247 0 0 0 .13-.151.247.247 0 0 0-.022-.199l-1.422-2.464a.253.253 0 0 0-.161-.119.254.254 0 0 0-.197.038ZM1.756 9.157a.25.25 0 0 0-.075.33l.447.775a.25.25 0 0 0 .325.1l1.598-.769-.83-1.436-1.465 1Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Explore
</span>      
</a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;MARKETPLACE&quot;,&quot;label&quot;:null}" id="item-cf6d33c4-b5dc-42ca-9979-eb5470103fa8" href="/marketplace" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-gift">
    <path d="M2 2.75A2.75 2.75 0 0 1 4.75 0c.983 0 1.873.42 2.57 1.232.268.318.497.668.68 1.042.183-.375.411-.725.68-1.044C9.376.42 10.266 0 11.25 0a2.75 2.75 0 0 1 2.45 4h.55c.966 0 1.75.784 1.75 1.75v2c0 .698-.409 1.301-1 1.582v4.918A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25V9.332C.409 9.05 0 8.448 0 7.75v-2C0 4.784.784 4 1.75 4h.55c-.192-.375-.3-.8-.3-1.25ZM7.25 9.5H2.5v4.75c0 .138.112.25.25.25h4.5Zm1.5 0v5h4.5a.25.25 0 0 0 .25-.25V9.5Zm0-4V8h5.5a.25.25 0 0 0 .25-.25v-2a.25.25 0 0 0-.25-.25Zm-7 0a.25.25 0 0 0-.25.25v2c0 .138.112.25.25.25h5.5V5.5h-5.5Zm3-4a1.25 1.25 0 0 0 0 2.5h2.309c-.233-.818-.542-1.401-.878-1.793-.43-.502-.915-.707-1.431-.707ZM8.941 4h2.309a1.25 1.25 0 0 0 0-2.5c-.516 0-1 .205-1.43.707-.337.392-.646.975-.879 1.793Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Marketplace
</span>      
</a>
  
</li>

</ul>  </nav-list>
</nav>

        <div data-view-component="true" class="my-3 d-flex flex-justify-center height-full">
          <span data-view-component="true">
  <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>    <span class="sr-only">Loading</span>
</span>
</div>
</div>
      <div data-view-component="true" class="flex-1"></div>


      <div data-view-component="true" class="px-2">      <p class="color-fg-subtle text-small text-light">&copy; 2025 GitHub, Inc.</p>

      <div data-view-component="true" class="d-flex flex-wrap text-small text-light">
          <a target="_blank" href="https://github.com/about" data-view-component="true" class="Link mr-2">About</a>
          <a target="_blank" href="https://github.blog" data-view-component="true" class="Link mr-2">Blog</a>
          <a target="_blank" href="https://docs.github.com/site-policy/github-terms/github-terms-of-service" data-view-component="true" class="Link mr-2">Terms</a>
          <a target="_blank" href="https://docs.github.com/site-policy/privacy-policies/github-privacy-statement" data-view-component="true" class="Link mr-2">Privacy</a>
          <a target="_blank" href="https://github.com/security" data-view-component="true" class="Link mr-2">Security</a>
          <a target="_blank" href="https://www.githubstatus.com/" data-view-component="true" class="Link mr-3">Status</a>

</div></div>
</div>
      </scrollable-region>
      
</dialog></dialog-helper>


  <div data-show-on-forbidden-error hidden>
    <div class="Box">
  <div class="blankslate-container">
    <div data-view-component="true" class="blankslate blankslate-spacious color-bg-default rounded-2">
      

      <h3 data-view-component="true" class="blankslate-heading">        Uh oh!
</h3>
      <p data-view-component="true">        <p class="color-fg-muted my-2 mb-2 ws-normal">There was an error while loading. <a class="Link--inTextBlock" data-turbo="false" href="" aria-label="Please reload this page">Please reload this page</a>.</p>
</p>

</div>  </div>
</div>  </div>
</include-fragment></deferred-side-panel>
        </div>

        <a class="AppHeader-logo ml-1 "
          href="https://github.com/"
          data-hotkey="g d"
          aria-label="Homepage "
          data-turbo="false"
          data-analytics-event="{&quot;category&quot;:&quot;Header&quot;,&quot;action&quot;:&quot;go to dashboard&quot;,&quot;label&quot;:&quot;icon:logo&quot;}"
        >
          <svg height="32" aria-hidden="true" viewBox="0 0 24 24" version="1.1" width="32" data-view-component="true" class="octicon octicon-mark-github v-align-middle">
    <path d="M12 1C5.9225 1 1 5.9225 1 12C1 16.8675 4.14875 20.9787 8.52125 22.4362C9.07125 22.5325 9.2775 22.2025 9.2775 21.9137C9.2775 21.6525 9.26375 20.7862 9.26375 19.865C6.5 20.3737 5.785 19.1912 5.565 18.5725C5.44125 18.2562 4.905 17.28 4.4375 17.0187C4.0525 16.8125 3.5025 16.3037 4.42375 16.29C5.29 16.2762 5.90875 17.0875 6.115 17.4175C7.105 19.0812 8.68625 18.6137 9.31875 18.325C9.415 17.61 9.70375 17.1287 10.02 16.8537C7.5725 16.5787 5.015 15.63 5.015 11.4225C5.015 10.2262 5.44125 9.23625 6.1425 8.46625C6.0325 8.19125 5.6475 7.06375 6.2525 5.55125C6.2525 5.55125 7.17375 5.2625 9.2775 6.67875C10.1575 6.43125 11.0925 6.3075 12.0275 6.3075C12.9625 6.3075 13.8975 6.43125 14.7775 6.67875C16.8813 5.24875 17.8025 5.55125 17.8025 5.55125C18.4075 7.06375 18.0225 8.19125 17.9125 8.46625C18.6138 9.23625 19.04 10.2125 19.04 11.4225C19.04 15.6437 16.4688 16.5787 14.0213 16.8537C14.42 17.1975 14.7638 17.8575 14.7638 18.8887C14.7638 20.36 14.75 21.5425 14.75 21.9137C14.75 22.2025 14.9563 22.5462 15.5063 22.4362C19.8513 20.9787 23 16.8537 23 12C23 5.9225 18.0775 1 12 1Z"></path>
</svg>
        </a>

          <context-region-controller
  class="AppHeader-context responsive-context-region"
  data-is-responsive
  data-max-items=5
  
>

  <div class="AppHeader-context-full">
    <nav role="navigation" aria-label="GitHub Breadcrumb">
        
<context-region data-target="context-region-controller.contextRegion" role="list"  data-action="context-region-changed:context-region-controller#crumbsChanged" data-is-responsive>
    <context-region-crumb
      data-crumb-id="contextregion-usercrumb-madeofants"
      data-targets="context-region.crumbs"
      data-label="madeofants"
      data-href="/madeofants"
      data-pre-rendered
      data-is-responsive
      role="listitem"
      
    >
      <a data-analytics-event="{&quot;category&quot;:&quot;SiteHeaderComponent&quot;,&quot;action&quot;:&quot;context_region_crumb&quot;,&quot;label&quot;:&quot;madeofants&quot;,&quot;screen_size&quot;:&quot;full&quot;}" data-hovercard-type="user" data-hovercard-url="/users/madeofants/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" data-target="context-region-crumb.linkElement" href="/madeofants" id="contextregion-usercrumb-madeofants-link" data-view-component="true" class="AppHeader-context-item">
        <span data-target="context-region-crumb.labelElement" class="AppHeader-context-item-label ">
          madeofants
        </span>

</a>
      <context-region-divider data-target="context-region-crumb.dividerElement" data-pre-rendered >
  <span class="AppHeader-context-item-separator">
    <span class="sr-only">/</span>
    <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path d="M10.956 1.27994L6.06418 14.7201L5 14.7201L9.89181 1.27994L10.956 1.27994Z" fill="currentcolor" />
    </svg>
  </span>
</context-region-divider>

    </context-region-crumb>

      <li data-target="context-region-controller.overflowMenuContainer context-region.overflowMenuContainer" role="listitem" hidden>
        <action-menu data-target="context-region-controller.overflowActionMenu" data-select-variant="none" data-view-component="true">
  <focus-group direction="vertical" mnemonics retain>
    <button id="action-menu-1b9fbab8-55bc-4eac-888f-8a1a2554fb36-button" popovertarget="action-menu-1b9fbab8-55bc-4eac-888f-8a1a2554fb36-overlay" aria-controls="action-menu-1b9fbab8-55bc-4eac-888f-8a1a2554fb36-list" aria-haspopup="true" aria-labelledby="tooltip-b88e413e-4d74-447b-8987-b82702515389" type="button" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal Button-visual">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg>
</button><tool-tip id="tooltip-b88e413e-4d74-447b-8987-b82702515389" for="action-menu-1b9fbab8-55bc-4eac-888f-8a1a2554fb36-button" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Show more breadcrumb items</tool-tip>


<anchored-position data-target="action-menu.overlay" id="action-menu-1b9fbab8-55bc-4eac-888f-8a1a2554fb36-overlay" anchor="action-menu-1b9fbab8-55bc-4eac-888f-8a1a2554fb36-button" align="start" side="outside-bottom" anchor-offset="normal" popover="auto" data-view-component="true">
  <div data-view-component="true" class="Overlay Overlay--size-auto">
    
      <div data-view-component="true" class="Overlay-body Overlay-body--paddingNone">          <action-list>
  <div data-view-component="true">
    <ul aria-labelledby="action-menu-1b9fbab8-55bc-4eac-888f-8a1a2554fb36-button" id="action-menu-1b9fbab8-55bc-4eac-888f-8a1a2554fb36-list" role="menu" data-view-component="true" class="ActionListWrap--inset ActionListWrap">
        <li hidden="hidden" data-crumb-id="contextregion-usercrumb-madeofants" data-targets="context-region.overflowCrumbs action-list.items" data-analytics-event="{&quot;category&quot;:&quot;SiteHeaderComponent&quot;,&quot;action&quot;:&quot;context_region_overflow_menu_crumb&quot;,&quot;label&quot;:&quot;global-navigation&quot;}" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-281cf5f4-5b82-45fe-97aa-a7e302096b61" href="/madeofants" role="menuitem" data-view-component="true" class="ActionListContent">
      
        <span data-view-component="true" class="ActionListItem-label">
          madeofants
</span>      
</a>
  
</li>
        <li hidden="hidden" data-crumb-id="contextregion-repositorycrumb-permut8-firmware-tutorial" data-targets="context-region.overflowCrumbs action-list.items" data-analytics-event="{&quot;category&quot;:&quot;SiteHeaderComponent&quot;,&quot;action&quot;:&quot;context_region_overflow_menu_crumb&quot;,&quot;label&quot;:&quot;global-navigation&quot;}" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-77183ad3-7808-46fd-87af-246a41b75e3a" href="/madeofants/Permut8-Firmware-Tutorial" role="menuitem" data-view-component="true" class="ActionListContent">
      
        <span data-view-component="true" class="ActionListItem-label">
          Permut8-Firmware-Tutorial
</span>      
</a>
  
</li>
</ul>    
</div></action-list>


</div>
      
</div></anchored-position>  </focus-group>
</action-menu>
  <context-region-divider data-target="context-region-crumb.dividerElement" data-pre-rendered >
  <span class="AppHeader-context-item-separator">
    <span class="sr-only">/</span>
    <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path d="M10.956 1.27994L6.06418 14.7201L5 14.7201L9.89181 1.27994L10.956 1.27994Z" fill="currentcolor" />
    </svg>
  </span>
</context-region-divider>


      </li>
    <context-region-crumb
      data-crumb-id="contextregion-repositorycrumb-permut8-firmware-tutorial"
      data-targets="context-region.crumbs"
      data-label="Permut8-Firmware-Tutorial"
      data-href="/madeofants/Permut8-Firmware-Tutorial"
      data-pre-rendered
      data-is-responsive
      role="listitem"
      
    >
      <a data-analytics-event="{&quot;category&quot;:&quot;SiteHeaderComponent&quot;,&quot;action&quot;:&quot;context_region_crumb&quot;,&quot;label&quot;:&quot;Permut8-Firmware-Tutorial&quot;,&quot;screen_size&quot;:&quot;full&quot;}" data-target="context-region-crumb.linkElement" href="/madeofants/Permut8-Firmware-Tutorial" id="contextregion-repositorycrumb-permut8-firmware-tutorial-link" data-view-component="true" class="AppHeader-context-item">
        <span data-target="context-region-crumb.labelElement" class="AppHeader-context-item-label ">
          Permut8-Firmware-Tutorial
        </span>

</a>
      <context-region-divider data-target="context-region-crumb.dividerElement" data-pre-rendered >
  <span class="AppHeader-context-item-separator">
    <span class="sr-only">/</span>
    <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path d="M10.956 1.27994L6.06418 14.7201L5 14.7201L9.89181 1.27994L10.956 1.27994Z" fill="currentcolor" />
    </svg>
  </span>
</context-region-divider>

    </context-region-crumb>

</context-region>

    </nav>
  </div>
</context-region-controller>

      </div>
      <div class="AppHeader-globalBar-end">
          <div class="AppHeader-search" >
              


<qbsearch-input class="search-input" data-scope="repo:madeofants/Permut8-Firmware-Tutorial" data-custom-scopes-path="/search/custom_scopes" data-delete-custom-scopes-csrf="iPrGLXL8QRLc_J27sigm8itc4marbKpkld_5qyoolUvMYQh_HUBp8EkmZP0pCWjtiJNvNpIt_Eh8SW15euOKcQ" data-max-custom-scopes="10" data-header-redesign-enabled="true" data-initial-value="" data-blackbird-suggestions-path="/search/suggestions" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" data-current-repository="madeofants/Permut8-Firmware-Tutorial" data-current-org="" data-current-owner="madeofants" data-logged-in="true" data-copilot-chat-enabled="false" data-nl-search-enabled="false">
  <div
    class="search-input-container search-with-dialog position-relative d-flex flex-row flex-items-center height-auto color-bg-transparent border-0 color-fg-subtle mx-0"
    data-action="click:qbsearch-input#searchInputContainerClicked"
  >
      
            <button type="button" data-action="click:qbsearch-input#handleExpand" class="AppHeader-button AppHeader-search-whenNarrow" aria-label="Search or jump to" aria-expanded="false" aria-haspopup="dialog">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
          </button>


<div class="AppHeader-search-whenRegular">
  <div class="AppHeader-search-wrap AppHeader-search-wrap--hasTrailing">
    <div class="AppHeader-search-control AppHeader-search-control-overflow">
      <label
        for="AppHeader-searchInput"
        aria-label="Search or jump to"
        class="AppHeader-search-visual--leading"
      >
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
      </label>

                <button
            type="button"
            data-target="qbsearch-input.inputButton"
            data-action="click:qbsearch-input#handleExpand"
            class="AppHeader-searchButton form-control input-contrast text-left color-fg-subtle no-wrap"
            data-hotkey="s,/"
            data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;searchbar&quot;,&quot;context&quot;:&quot;global&quot;,&quot;tag&quot;:&quot;input&quot;,&quot;label&quot;:&quot;searchbar_input_global_navbar&quot;}"
            aria-describedby="search-error-message-flash"
          >
            <div class="overflow-hidden">
              <span id="qb-input-query" data-target="qbsearch-input.inputButtonText">
                  Type <kbd class="AppHeader-search-kbd">/</kbd> to search
              </span>
            </div>
          </button>

    </div>


  </div>
</div>

    <input type="hidden" name="type" class="js-site-search-type-field">

    
<div class="Overlay--hidden " data-modal-dialog-overlay>
  <modal-dialog data-action="close:qbsearch-input#handleClose cancel:qbsearch-input#handleClose" data-target="qbsearch-input.searchSuggestionsDialog" role="dialog" id="search-suggestions-dialog" aria-modal="true" aria-labelledby="search-suggestions-dialog-header" data-view-component="true" class="Overlay Overlay--width-medium Overlay--height-auto">
      <h1 id="search-suggestions-dialog-header" class="sr-only">Search code, repositories, users, issues, pull requests...</h1>
    <div class="Overlay-body Overlay-body--paddingNone">
      
          <div data-view-component="true">        <div class="search-suggestions position-absolute width-full color-shadow-large border color-fg-default color-bg-default overflow-hidden d-flex flex-column query-builder-container"
          style="border-radius: 12px;"
          data-target="qbsearch-input.queryBuilderContainer"
          hidden
        >
          <!-- '"` --><!-- </textarea></xmp> --></option></form><form id="query-builder-test-form" action="" accept-charset="UTF-8" method="get">
  <query-builder data-target="qbsearch-input.queryBuilder" id="query-builder-query-builder-test" data-filter-key=":" data-view-component="true" class="QueryBuilder search-query-builder">
    <div class="FormControl FormControl--fullWidth">
      <label id="query-builder-test-label" for="query-builder-test" class="FormControl-label sr-only">
        Search
      </label>
      <div
        class="QueryBuilder-StyledInput width-fit "
        data-target="query-builder.styledInput"
      >
          <span id="query-builder-test-leadingvisual-wrap" class="FormControl-input-leadingVisualWrap QueryBuilder-leadingVisualWrap">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search FormControl-input-leadingVisual">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
          </span>
        <div data-target="query-builder.styledInputContainer" class="QueryBuilder-StyledInputContainer">
          <div
            aria-hidden="true"
            class="QueryBuilder-StyledInputContent"
            data-target="query-builder.styledInputContent"
          ></div>
          <div class="QueryBuilder-InputWrapper">
            <div aria-hidden="true" class="QueryBuilder-Sizer" data-target="query-builder.sizer"></div>
            <input id="query-builder-test" name="query-builder-test" value="" autocomplete="off" type="text" role="combobox" spellcheck="false" aria-expanded="false" aria-describedby="validation-2c69f922-6808-4142-97bd-4c0e7117b66e" data-target="query-builder.input" data-action="
          input:query-builder#inputChange
          blur:query-builder#inputBlur
          keydown:query-builder#inputKeydown
          focus:query-builder#inputFocus
        " data-view-component="true" class="FormControl-input QueryBuilder-Input FormControl-medium" />
          </div>
        </div>
          <span class="sr-only" id="query-builder-test-clear">Clear</span>
          <button role="button" id="query-builder-test-clear-button" aria-labelledby="query-builder-test-clear query-builder-test-label" data-target="query-builder.clearButton" data-action="
                click:query-builder#clear
                focus:query-builder#clearButtonFocus
                blur:query-builder#clearButtonBlur
              " variant="small" hidden="hidden" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium mr-1 px-2 py-0 d-flex flex-items-center rounded-1 color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x-circle-fill Button-visual">
    <path d="M2.343 13.657A8 8 0 1 1 13.658 2.343 8 8 0 0 1 2.343 13.657ZM6.03 4.97a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042L6.94 8 4.97 9.97a.749.749 0 0 0 .326 1.275.749.749 0 0 0 .734-.215L8 9.06l1.97 1.97a.749.749 0 0 0 1.275-.326.749.749 0 0 0-.215-.734L9.06 8l1.97-1.97a.749.749 0 0 0-.326-1.275.749.749 0 0 0-.734.215L8 6.94Z"></path>
</svg>
</button>

      </div>
      <template id="search-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
</template>

<template id="code-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code">
    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</template>

<template id="file-code-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-file-code">
    <path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 14.25 15h-9a.75.75 0 0 1 0-1.5h9a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 10 4.25V1.5H5.75a.25.25 0 0 0-.25.25v2.5a.75.75 0 0 1-1.5 0Zm1.72 4.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.47-1.47-1.47-1.47a.75.75 0 0 1 0-1.06ZM3.28 7.78 1.81 9.25l1.47 1.47a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Zm8.22-6.218V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path>
</svg>
</template>

<template id="history-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-history">
    <path d="m.427 1.927 1.215 1.215a8.002 8.002 0 1 1-1.6 5.685.75.75 0 1 1 1.493-.154 6.5 6.5 0 1 0 1.18-4.458l1.358 1.358A.25.25 0 0 1 3.896 6H.25A.25.25 0 0 1 0 5.75V2.104a.25.25 0 0 1 .427-.177ZM7.75 4a.75.75 0 0 1 .75.75v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5A.75.75 0 0 1 7.75 4Z"></path>
</svg>
</template>

<template id="repo-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo">
    <path d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z"></path>
</svg>
</template>

<template id="bookmark-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-bookmark">
    <path d="M3 2.75C3 1.784 3.784 1 4.75 1h6.5c.966 0 1.75.784 1.75 1.75v11.5a.75.75 0 0 1-1.227.579L8 11.722l-3.773 3.107A.751.751 0 0 1 3 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.91l3.023-2.489a.75.75 0 0 1 .954 0l3.023 2.49V2.75a.25.25 0 0 0-.25-.25Z"></path>
</svg>
</template>

<template id="plus-circle-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-plus-circle">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7.25-3.25v2.5h2.5a.75.75 0 0 1 0 1.5h-2.5v2.5a.75.75 0 0 1-1.5 0v-2.5h-2.5a.75.75 0 0 1 0-1.5h2.5v-2.5a.75.75 0 0 1 1.5 0Z"></path>
</svg>
</template>

<template id="circle-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-dot-fill">
    <path d="M8 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z"></path>
</svg>
</template>

<template id="trash-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-trash">
    <path d="M11 1.75V3h2.25a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1 0-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75ZM4.496 6.675l.66 6.6a.25.25 0 0 0 .249.225h5.19a.25.25 0 0 0 .249-.225l.66-6.6a.75.75 0 0 1 1.492.149l-.66 6.6A1.748 1.748 0 0 1 10.595 15h-5.19a1.75 1.75 0 0 1-1.741-1.575l-.66-6.6a.75.75 0 1 1 1.492-.15ZM6.5 1.75V3h3V1.75a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25Z"></path>
</svg>
</template>

<template id="team-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-people">
    <path d="M2 5.5a3.5 3.5 0 1 1 5.898 2.549 5.508 5.508 0 0 1 3.034 4.084.75.75 0 1 1-1.482.235 4 4 0 0 0-7.9 0 .75.75 0 0 1-1.482-.236A5.507 5.507 0 0 1 3.102 8.05 3.493 3.493 0 0 1 2 5.5ZM11 4a3.001 3.001 0 0 1 2.22 5.018 5.01 5.01 0 0 1 2.56 3.012.749.749 0 0 1-.885.954.752.752 0 0 1-.549-.514 3.507 3.507 0 0 0-2.522-2.372.75.75 0 0 1-.574-.73v-.352a.75.75 0 0 1 .416-.672A1.5 1.5 0 0 0 11 5.5.75.75 0 0 1 11 4Zm-5.5-.5a2 2 0 1 0-.001 3.999A2 2 0 0 0 5.5 3.5Z"></path>
</svg>
</template>

<template id="project-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-project">
    <path d="M1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0ZM1.5 1.75v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25ZM11.75 3a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-1.5 0v-7.5a.75.75 0 0 1 .75-.75Zm-8.25.75a.75.75 0 0 1 1.5 0v5.5a.75.75 0 0 1-1.5 0ZM8 3a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 3Z"></path>
</svg>
</template>

<template id="pencil-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-pencil">
    <path d="M11.013 1.427a1.75 1.75 0 0 1 2.474 0l1.086 1.086a1.75 1.75 0 0 1 0 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 0 1-.927-.928l.929-3.25c.081-.286.235-.547.445-.758l8.61-8.61Zm.176 4.823L9.75 4.81l-6.286 6.287a.253.253 0 0 0-.064.108l-.558 1.953 1.953-.558a.253.253 0 0 0 .108-.064Zm1.238-3.763a.25.25 0 0 0-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 0 0 0-.354Z"></path>
</svg>
</template>

<template id="copilot-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copilot">
    <path d="M7.998 15.035c-4.562 0-7.873-2.914-7.998-3.749V9.338c.085-.628.677-1.686 1.588-2.065.013-.07.024-.143.036-.218.029-.183.06-.384.126-.612-.201-.508-.254-1.084-.254-1.656 0-.87.128-1.769.693-2.484.579-.733 1.494-1.124 2.724-1.261 1.206-.134 2.262.034 2.944.765.05.053.096.108.139.165.044-.057.094-.112.143-.165.682-.731 1.738-.899 2.944-.765 1.23.137 2.145.528 2.724 1.261.566.715.693 1.614.693 2.484 0 .572-.053 1.148-.254 1.656.066.228.098.429.126.612.012.076.024.148.037.218.924.385 1.522 1.471 1.591 2.095v1.872c0 .766-3.351 3.795-8.002 3.795Zm0-1.485c2.28 0 4.584-1.11 5.002-1.433V7.862l-.023-.116c-.49.21-1.075.291-1.727.291-1.146 0-2.059-.327-2.71-.991A3.222 3.222 0 0 1 8 6.303a3.24 3.24 0 0 1-.544.743c-.65.664-1.563.991-2.71.991-.652 0-1.236-.081-1.727-.291l-.023.116v4.255c.419.323 2.722 1.433 5.002 1.433ZM6.762 2.83c-.193-.206-.637-.413-1.682-.297-1.019.113-1.479.404-1.713.7-.247.312-.369.789-.369 1.554 0 .793.129 1.171.308 1.371.162.181.519.379 1.442.379.853 0 1.339-.235 1.638-.54.315-.322.527-.827.617-1.553.117-.935-.037-1.395-.241-1.614Zm4.155-.297c-1.044-.116-1.488.091-1.681.297-.204.219-.359.679-.242 1.614.091.726.303 1.231.618 1.553.299.305.784.54 1.638.54.922 0 1.28-.198 1.442-.379.179-.2.308-.578.308-1.371 0-.765-.123-1.242-.37-1.554-.233-.296-.693-.587-1.713-.7Z"></path><path d="M6.25 9.037a.75.75 0 0 1 .75.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 .75-.75Zm4.25.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 1.5 0Z"></path>
</svg>
</template>

<template id="copilot-error-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copilot-error">
    <path d="M16 11.24c0 .112-.072.274-.21.467L13 9.688V7.862l-.023-.116c-.49.21-1.075.291-1.727.291-.198 0-.388-.009-.571-.029L6.833 5.226a4.01 4.01 0 0 0 .17-.782c.117-.935-.037-1.395-.241-1.614-.193-.206-.637-.413-1.682-.297-.683.076-1.115.231-1.395.415l-1.257-.91c.579-.564 1.413-.877 2.485-.996 1.206-.134 2.262.034 2.944.765.05.053.096.108.139.165.044-.057.094-.112.143-.165.682-.731 1.738-.899 2.944-.765 1.23.137 2.145.528 2.724 1.261.566.715.693 1.614.693 2.484 0 .572-.053 1.148-.254 1.656.066.228.098.429.126.612.012.076.024.148.037.218.924.385 1.522 1.471 1.591 2.095Zm-5.083-8.707c-1.044-.116-1.488.091-1.681.297-.204.219-.359.679-.242 1.614.091.726.303 1.231.618 1.553.299.305.784.54 1.638.54.922 0 1.28-.198 1.442-.379.179-.2.308-.578.308-1.371 0-.765-.123-1.242-.37-1.554-.233-.296-.693-.587-1.713-.7Zm2.511 11.074c-1.393.776-3.272 1.428-5.43 1.428-4.562 0-7.873-2.914-7.998-3.749V9.338c.085-.628.677-1.686 1.588-2.065.013-.07.024-.143.036-.218.029-.183.06-.384.126-.612-.18-.455-.241-.963-.252-1.475L.31 4.107A.747.747 0 0 1 0 3.509V3.49a.748.748 0 0 1 .625-.73c.156-.026.306.047.435.139l14.667 10.578a.592.592 0 0 1 .227.264.752.752 0 0 1 .046.249v.022a.75.75 0 0 1-1.19.596Zm-1.367-.991L5.635 7.964a5.128 5.128 0 0 1-.889.073c-.652 0-1.236-.081-1.727-.291l-.023.116v4.255c.419.323 2.722 1.433 5.002 1.433 1.539 0 3.089-.505 4.063-.934Z"></path>
</svg>
</template>

<template id="workflow-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-workflow">
    <path d="M0 1.75C0 .784.784 0 1.75 0h3.5C6.216 0 7 .784 7 1.75v3.5A1.75 1.75 0 0 1 5.25 7H4v4a1 1 0 0 0 1 1h4v-1.25C9 9.784 9.784 9 10.75 9h3.5c.966 0 1.75.784 1.75 1.75v3.5A1.75 1.75 0 0 1 14.25 16h-3.5A1.75 1.75 0 0 1 9 14.25v-.75H5A2.5 2.5 0 0 1 2.5 11V7h-.75A1.75 1.75 0 0 1 0 5.25Zm1.75-.25a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25v-3.5a.25.25 0 0 0-.25-.25Zm9 9a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25v-3.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
</template>

<template id="book-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-book">
    <path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"></path>
</svg>
</template>

<template id="code-review-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code-review">
    <path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 13H8.061l-2.574 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25v-8.5C0 1.784.784 1 1.75 1ZM1.5 2.75v8.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Zm5.28 1.72a.75.75 0 0 1 0 1.06L5.31 7l1.47 1.47a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.75.75 0 0 1 1.06 0Zm2.44 0a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L10.69 7 9.22 5.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</template>

<template id="codespaces-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-codespaces">
    <path d="M0 11.25c0-.966.784-1.75 1.75-1.75h12.5c.966 0 1.75.784 1.75 1.75v3A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm2-9.5C2 .784 2.784 0 3.75 0h8.5C13.216 0 14 .784 14 1.75v5a1.75 1.75 0 0 1-1.75 1.75h-8.5A1.75 1.75 0 0 1 2 6.75Zm1.75-.25a.25.25 0 0 0-.25.25v5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-5a.25.25 0 0 0-.25-.25Zm-2 9.5a.25.25 0 0 0-.25.25v3c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-3a.25.25 0 0 0-.25-.25Z"></path><path d="M7 12.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75Zm-4 0a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75Z"></path>
</svg>
</template>

<template id="comment-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment">
    <path d="M1 2.75C1 1.784 1.784 1 2.75 1h10.5c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0 1 13.25 12H9.06l-2.573 2.573A1.458 1.458 0 0 1 4 13.543V12H2.75A1.75 1.75 0 0 1 1 10.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h4.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
</template>

<template id="comment-discussion-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment-discussion">
    <path d="M1.75 1h8.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 10.25 10H7.061l-2.574 2.573A1.458 1.458 0 0 1 2 11.543V10h-.25A1.75 1.75 0 0 1 0 8.25v-5.5C0 1.784.784 1 1.75 1ZM1.5 2.75v5.5c0 .138.112.25.25.25h1a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h3.5a.25.25 0 0 0 .25-.25v-5.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13 2a.25.25 0 0 0-.25-.25h-.5a.75.75 0 0 1 0-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 14.25 12H14v1.543a1.458 1.458 0 0 1-2.487 1.03L9.22 12.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.22 2.22v-2.19a.75.75 0 0 1 .75-.75h1a.25.25 0 0 0 .25-.25Z"></path>
</svg>
</template>

<template id="organization-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-organization">
    <path d="M1.75 16A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0h8.5C11.216 0 12 .784 12 1.75v12.5c0 .085-.006.168-.018.25h2.268a.25.25 0 0 0 .25-.25V8.285a.25.25 0 0 0-.111-.208l-1.055-.703a.749.749 0 1 1 .832-1.248l1.055.703c.487.325.779.871.779 1.456v5.965A1.75 1.75 0 0 1 14.25 16h-3.5a.766.766 0 0 1-.197-.026c-.099.017-.2.026-.303.026h-3a.75.75 0 0 1-.75-.75V14h-1v1.25a.75.75 0 0 1-.75.75Zm-.25-1.75c0 .138.112.25.25.25H4v-1.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 .75.75v1.25h2.25a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25ZM3.75 6h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM3 3.75A.75.75 0 0 1 3.75 3h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 3.75Zm4 3A.75.75 0 0 1 7.75 6h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 7 6.75ZM7.75 3h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM3 9.75A.75.75 0 0 1 3.75 9h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 9.75ZM7.75 9h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5Z"></path>
</svg>
</template>

<template id="rocket-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-rocket">
    <path d="M14.064 0h.186C15.216 0 16 .784 16 1.75v.186a8.752 8.752 0 0 1-2.564 6.186l-.458.459c-.314.314-.641.616-.979.904v3.207c0 .608-.315 1.172-.833 1.49l-2.774 1.707a.749.749 0 0 1-1.11-.418l-.954-3.102a1.214 1.214 0 0 1-.145-.125L3.754 9.816a1.218 1.218 0 0 1-.124-.145L.528 8.717a.749.749 0 0 1-.418-1.11l1.71-2.774A1.748 1.748 0 0 1 3.31 4h3.204c.288-.338.59-.665.904-.979l.459-.458A8.749 8.749 0 0 1 14.064 0ZM8.938 3.623h-.002l-.458.458c-.76.76-1.437 1.598-2.02 2.5l-1.5 2.317 2.143 2.143 2.317-1.5c.902-.583 1.74-1.26 2.499-2.02l.459-.458a7.25 7.25 0 0 0 2.123-5.127V1.75a.25.25 0 0 0-.25-.25h-.186a7.249 7.249 0 0 0-5.125 2.123ZM3.56 14.56c-.732.732-2.334 1.045-3.005 1.148a.234.234 0 0 1-.201-.064.234.234 0 0 1-.064-.201c.103-.671.416-2.273 1.15-3.003a1.502 1.502 0 1 1 2.12 2.12Zm6.94-3.935c-.088.06-.177.118-.266.175l-2.35 1.521.548 1.783 1.949-1.2a.25.25 0 0 0 .119-.213ZM3.678 8.116 5.2 5.766c.058-.09.117-.178.176-.266H3.309a.25.25 0 0 0-.213.119l-1.2 1.95ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
</template>

<template id="shield-check-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-shield-check">
    <path d="m8.533.133 5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667l5.25-1.68a1.748 1.748 0 0 1 1.066 0Zm-.61 1.429.001.001-5.25 1.68a.251.251 0 0 0-.174.237V7c0 1.36.275 2.666 1.057 3.859.784 1.194 2.121 2.342 4.366 3.298a.196.196 0 0 0 .154 0c2.245-.957 3.582-2.103 4.366-3.297C13.225 9.666 13.5 8.358 13.5 7V3.48a.25.25 0 0 0-.174-.238l-5.25-1.68a.25.25 0 0 0-.153 0ZM11.28 6.28l-3.5 3.5a.75.75 0 0 1-1.06 0l-1.5-1.5a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l.97.97 2.97-2.97a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
</template>

<template id="heart-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-heart">
    <path d="m8 14.25.345.666a.75.75 0 0 1-.69 0l-.008-.004-.018-.01a7.152 7.152 0 0 1-.31-.17 22.055 22.055 0 0 1-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.066 22.066 0 0 1-3.744 2.584l-.018.01-.006.003h-.002ZM4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.58 20.58 0 0 0 8 13.393a20.58 20.58 0 0 0 3.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.749.749 0 0 1-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5Z"></path>
</svg>
</template>

<template id="server-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-server">
    <path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v4c0 .372-.116.717-.314 1 .198.283.314.628.314 1v4a1.75 1.75 0 0 1-1.75 1.75H1.75A1.75 1.75 0 0 1 0 12.75v-4c0-.358.109-.707.314-1a1.739 1.739 0 0 1-.314-1v-4C0 1.784.784 1 1.75 1ZM1.5 2.75v4c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-4a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Zm.25 5.75a.25.25 0 0 0-.25.25v4c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-4a.25.25 0 0 0-.25-.25ZM7 4.75A.75.75 0 0 1 7.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5A.75.75 0 0 1 7 4.75ZM7.75 10h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM3 4.75A.75.75 0 0 1 3.75 4h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 4.75ZM3.75 10h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5Z"></path>
</svg>
</template>

<template id="globe-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-globe">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM5.78 8.75a9.64 9.64 0 0 0 1.363 4.177c.255.426.542.832.857 1.215.245-.296.551-.705.857-1.215A9.64 9.64 0 0 0 10.22 8.75Zm4.44-1.5a9.64 9.64 0 0 0-1.363-4.177c-.307-.51-.612-.919-.857-1.215a9.927 9.927 0 0 0-.857 1.215A9.64 9.64 0 0 0 5.78 7.25Zm-5.944 1.5H1.543a6.507 6.507 0 0 0 4.666 5.5c-.123-.181-.24-.365-.352-.552-.715-1.192-1.437-2.874-1.581-4.948Zm-2.733-1.5h2.733c.144-2.074.866-3.756 1.58-4.948.12-.197.237-.381.353-.552a6.507 6.507 0 0 0-4.666 5.5Zm10.181 1.5c-.144 2.074-.866 3.756-1.58 4.948-.12.197-.237.381-.353.552a6.507 6.507 0 0 0 4.666-5.5Zm2.733-1.5a6.507 6.507 0 0 0-4.666-5.5c.123.181.24.365.353.552.714 1.192 1.436 2.874 1.58 4.948Z"></path>
</svg>
</template>

<template id="issue-opened-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
</template>

<template id="device-mobile-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-device-mobile">
    <path d="M3.75 0h8.5C13.216 0 14 .784 14 1.75v12.5A1.75 1.75 0 0 1 12.25 16h-8.5A1.75 1.75 0 0 1 2 14.25V1.75C2 .784 2.784 0 3.75 0ZM3.5 1.75v12.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25ZM8 13a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path>
</svg>
</template>

<template id="package-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-package">
    <path d="m8.878.392 5.25 3.045c.54.314.872.89.872 1.514v6.098a1.75 1.75 0 0 1-.872 1.514l-5.25 3.045a1.75 1.75 0 0 1-1.756 0l-5.25-3.045A1.75 1.75 0 0 1 1 11.049V4.951c0-.624.332-1.201.872-1.514L7.122.392a1.75 1.75 0 0 1 1.756 0ZM7.875 1.69l-4.63 2.685L8 7.133l4.755-2.758-4.63-2.685a.248.248 0 0 0-.25 0ZM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432Zm6.25 8.271 4.625-2.683a.25.25 0 0 0 .125-.216V5.677L8.75 8.432Z"></path>
</svg>
</template>

<template id="credit-card-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-credit-card">
    <path d="M10.75 9a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5h-1.5Z"></path><path d="M0 3.75C0 2.784.784 2 1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25ZM14.5 6.5h-13v5.75c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25Zm0-2.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25V5h13Z"></path>
</svg>
</template>

<template id="play-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-play">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path>
</svg>
</template>

<template id="gift-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-gift">
    <path d="M2 2.75A2.75 2.75 0 0 1 4.75 0c.983 0 1.873.42 2.57 1.232.268.318.497.668.68 1.042.183-.375.411-.725.68-1.044C9.376.42 10.266 0 11.25 0a2.75 2.75 0 0 1 2.45 4h.55c.966 0 1.75.784 1.75 1.75v2c0 .698-.409 1.301-1 1.582v4.918A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25V9.332C.409 9.05 0 8.448 0 7.75v-2C0 4.784.784 4 1.75 4h.55c-.192-.375-.3-.8-.3-1.25ZM7.25 9.5H2.5v4.75c0 .138.112.25.25.25h4.5Zm1.5 0v5h4.5a.25.25 0 0 0 .25-.25V9.5Zm0-4V8h5.5a.25.25 0 0 0 .25-.25v-2a.25.25 0 0 0-.25-.25Zm-7 0a.25.25 0 0 0-.25.25v2c0 .138.112.25.25.25h5.5V5.5h-5.5Zm3-4a1.25 1.25 0 0 0 0 2.5h2.309c-.233-.818-.542-1.401-.878-1.793-.43-.502-.915-.707-1.431-.707ZM8.941 4h2.309a1.25 1.25 0 0 0 0-2.5c-.516 0-1 .205-1.43.707-.337.392-.646.975-.879 1.793Z"></path>
</svg>
</template>

<template id="code-square-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code-square">
    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25Zm7.47 3.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L10.69 8 9.22 6.53a.75.75 0 0 1 0-1.06ZM6.78 6.53 5.31 8l1.47 1.47a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-2-2a.75.75 0 0 1 0-1.06l2-2a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
</template>

<template id="device-desktop-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-device-desktop">
    <path d="M14.25 1c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0 1 14.25 12h-3.727c.099 1.041.52 1.872 1.292 2.757A.752.752 0 0 1 11.25 16h-6.5a.75.75 0 0 1-.565-1.243c.772-.885 1.192-1.716 1.292-2.757H1.75A1.75 1.75 0 0 1 0 10.25v-7.5C0 1.784.784 1 1.75 1ZM1.75 2.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25ZM9.018 12H6.982a5.72 5.72 0 0 1-.765 2.5h3.566a5.72 5.72 0 0 1-.765-2.5Z"></path>
</svg>
</template>

        <div class="position-relative">
                <ul
                  role="listbox"
                  class="ActionListWrap QueryBuilder-ListWrap"
                  aria-label="Suggestions"
                  data-action="
                    combobox-commit:query-builder#comboboxCommit
                    mousedown:query-builder#resultsMousedown
                  "
                  data-target="query-builder.resultsList"
                  data-persist-list=false
                  id="query-builder-test-results"
                ></ul>
        </div>
      <div class="FormControl-inlineValidation" id="validation-2c69f922-6808-4142-97bd-4c0e7117b66e" hidden="hidden">
        <span class="FormControl-inlineValidation--visual">
          <svg aria-hidden="true" height="12" viewBox="0 0 12 12" version="1.1" width="12" data-view-component="true" class="octicon octicon-alert-fill">
    <path d="M4.855.708c.5-.896 1.79-.896 2.29 0l4.675 8.351a1.312 1.312 0 0 1-1.146 1.954H1.33A1.313 1.313 0 0 1 .183 9.058ZM7 7V3H5v4Zm-1 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"></path>
</svg>
        </span>
        <span></span>
</div>    </div>
    <div data-target="query-builder.screenReaderFeedback" aria-live="polite" aria-atomic="true" class="sr-only"></div>
</query-builder></form>
          <div class="d-flex flex-row color-fg-muted px-3 text-small color-bg-default search-feedback-prompt">
            <a target="_blank" href="https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax" data-view-component="true" class="Link color-fg-accent text-normal ml-2">Search syntax tips</a>            <div class="d-flex flex-1"></div>
              <button data-action="click:qbsearch-input#showFeedbackDialog" type="button" data-view-component="true" class="Button--link Button--medium Button color-fg-accent text-normal ml-2">  <span class="Button-content">
    <span class="Button-label">Give feedback</span>
  </span>
</button>
          </div>
        </div>
</div>

    </div>
</modal-dialog></div>
  </div>
  <div data-action="click:qbsearch-input#retract" class="dark-backdrop position-fixed" hidden data-target="qbsearch-input.darkBackdrop"></div>
  <div class="color-fg-default">
    
<dialog-helper>
  <dialog data-target="qbsearch-input.feedbackDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="feedback-dialog" aria-modal="true" aria-labelledby="feedback-dialog-title" aria-describedby="feedback-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-medium Overlay--motion-scaleFade Overlay--disableScroll">
    <div data-view-component="true" class="Overlay-header">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title " id="feedback-dialog-title">
        Provide feedback
      </h1>
        
    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="feedback-dialog" aria-label="Close" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="feedback-dialog-title">
        <div data-view-component="true" class="Overlay-body">        <!-- '"` --><!-- </textarea></xmp> --></option></form><form id="code-search-feedback-form" data-turbo="false" action="/search/feedback" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="SjeIuKs-KIO1ABXHWGMGDwNXL5Xq7BzPq4n284rfDojKJ7XgpQg2JOd3uRZn3wS3uIFIj7Za_euF0KfsM_ZC_Q" />
          <p>We read every piece of feedback, and take your input very seriously.</p>
          <textarea name="feedback" class="form-control width-full mb-2" style="height: 120px" id="feedback"></textarea>
          <input name="include_email" id="include_email" aria-label="Include my email address so I can be contacted" class="form-control mr-2" type="checkbox">
          <label for="include_email" style="font-weight: normal">Include my email address so I can be contacted</label>
</form></div>
      </scrollable-region>
      <div data-view-component="true" class="Overlay-footer Overlay-footer--alignEnd">          <button data-close-dialog-id="feedback-dialog" type="button" data-view-component="true" class="btn">    Cancel
</button>
          <button form="code-search-feedback-form" data-action="click:qbsearch-input#submitFeedback" type="submit" data-view-component="true" class="btn-primary btn">    Submit feedback
</button>
</div>
</dialog></dialog-helper>

    <custom-scopes data-target="qbsearch-input.customScopesManager">
    
<dialog-helper>
  <dialog data-target="custom-scopes.customScopesModalDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="custom-scopes-dialog" aria-modal="true" aria-labelledby="custom-scopes-dialog-title" aria-describedby="custom-scopes-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-medium Overlay--motion-scaleFade Overlay--disableScroll">
    <div data-view-component="true" class="Overlay-header Overlay-header--divided">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title " id="custom-scopes-dialog-title">
        Saved searches
      </h1>
        <h2 id="custom-scopes-dialog-description" class="Overlay-description">Use saved searches to filter your results more quickly</h2>
    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="custom-scopes-dialog" aria-label="Close" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="custom-scopes-dialog-title">
        <div data-view-component="true" class="Overlay-body">        <div data-target="custom-scopes.customScopesModalDialogFlash"></div>

        <div hidden class="create-custom-scope-form" data-target="custom-scopes.createCustomScopeForm">
        <!-- '"` --><!-- </textarea></xmp> --></option></form><form id="custom-scopes-dialog-form" data-turbo="false" action="/search/custom_scopes" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="puYAw_3vCK4KGqypJyexCtpE9YcFI-yu_YYpoj8wn56Z0LXvpKlqU2PJLLTSaPEnx5vQHmtqtxUEcphbUzhbsQ" />
          <div data-target="custom-scopes.customScopesModalDialogFlash"></div>

          <input type="hidden" id="custom_scope_id" name="custom_scope_id" data-target="custom-scopes.customScopesIdField">

          <div class="form-group">
            <label for="custom_scope_name">Name</label>
            <auto-check src="/search/custom_scopes/check_name" required>
              <input
                type="text"
                name="custom_scope_name"
                id="custom_scope_name"
                data-target="custom-scopes.customScopesNameField"
                class="form-control"
                autocomplete="off"
                placeholder="github-ruby"
                required
                maxlength="50">
              <input type="hidden" value="lG7dFSkKg3SBtebc5ISpmByoj4ICNhclncQIbZlmf8zp_o-3ocMfq7eeBXlGrAtRFkJa20kkpWNP2zt6Vfm6_w" data-csrf="true" />
            </auto-check>
          </div>

          <div class="form-group">
            <label for="custom_scope_query">Query</label>
            <input
              type="text"
              name="custom_scope_query"
              id="custom_scope_query"
              data-target="custom-scopes.customScopesQueryField"
              class="form-control"
              autocomplete="off"
              placeholder="(repo:mona/a OR repo:mona/b) AND lang:python"
              required
              maxlength="500">
          </div>

          <p class="text-small color-fg-muted">
            To see all available qualifiers, see our <a class="Link--inTextBlock" href="https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax">documentation</a>.
          </p>
</form>        </div>

        <div data-target="custom-scopes.manageCustomScopesForm">
          <div data-target="custom-scopes.list"></div>
        </div>

</div>
      </scrollable-region>
      <div data-view-component="true" class="Overlay-footer Overlay-footer--alignEnd Overlay-footer--divided">          <button data-action="click:custom-scopes#customScopesCancel" type="button" data-view-component="true" class="btn">    Cancel
</button>
          <button form="custom-scopes-dialog-form" data-action="click:custom-scopes#customScopesSubmit" data-target="custom-scopes.customScopesSubmitButton" type="submit" data-view-component="true" class="btn-primary btn">    Create saved search
</button>
</div>
</dialog></dialog-helper>
    </custom-scopes>
  </div>
</qbsearch-input>  <input type="hidden" value="PXEEr8FuL1zE3j_KkYnZzjJgs8o3oRaozbz4nNSg6bN9HF9MbR2PnI_KJXffaSxZIU5fftLEKx72B3z96tFQpQ" data-csrf="true" class="js-data-jump-to-suggestions-path-csrf" />


          </div>

        
          <div class="AppHeader-CopilotChat hide-sm hide-md">
  <react-partial-anchor>
      <a href="/copilot" data-target="react-partial-anchor.anchor" id="copilot-chat-header-button" aria-labelledby="tooltip-08cad99d-90e1-460f-8762-14ab162dc7bf" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button AppHeader-buttonLeft cursor-wait">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copilot Button-visual">
    <path d="M7.998 15.035c-4.562 0-7.873-2.914-7.998-3.749V9.338c.085-.628.677-1.686 1.588-2.065.013-.07.024-.143.036-.218.029-.183.06-.384.126-.612-.201-.508-.254-1.084-.254-1.656 0-.87.128-1.769.693-2.484.579-.733 1.494-1.124 2.724-1.261 1.206-.134 2.262.034 2.944.765.05.053.096.108.139.165.044-.057.094-.112.143-.165.682-.731 1.738-.899 2.944-.765 1.23.137 2.145.528 2.724 1.261.566.715.693 1.614.693 2.484 0 .572-.053 1.148-.254 1.656.066.228.098.429.126.612.012.076.024.148.037.218.924.385 1.522 1.471 1.591 2.095v1.872c0 .766-3.351 3.795-8.002 3.795Zm0-1.485c2.28 0 4.584-1.11 5.002-1.433V7.862l-.023-.116c-.49.21-1.075.291-1.727.291-1.146 0-2.059-.327-2.71-.991A3.222 3.222 0 0 1 8 6.303a3.24 3.24 0 0 1-.544.743c-.65.664-1.563.991-2.71.991-.652 0-1.236-.081-1.727-.291l-.023.116v4.255c.419.323 2.722 1.433 5.002 1.433ZM6.762 2.83c-.193-.206-.637-.413-1.682-.297-1.019.113-1.479.404-1.713.7-.247.312-.369.789-.369 1.554 0 .793.129 1.171.308 1.371.162.181.519.379 1.442.379.853 0 1.339-.235 1.638-.54.315-.322.527-.827.617-1.553.117-.935-.037-1.395-.241-1.614Zm4.155-.297c-1.044-.116-1.488.091-1.681.297-.204.219-.359.679-.242 1.614.091.726.303 1.231.618 1.553.299.305.784.54 1.638.54.922 0 1.28-.198 1.442-.379.179-.2.308-.578.308-1.371 0-.765-.123-1.242-.37-1.554-.233-.296-.693-.587-1.713-.7Z"></path><path d="M6.25 9.037a.75.75 0 0 1 .75.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 .75-.75Zm4.25.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 1.5 0Z"></path>
</svg>
</a><tool-tip id="tooltip-08cad99d-90e1-460f-8762-14ab162dc7bf" for="copilot-chat-header-button" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Chat with Copilot</tool-tip>

    <template data-target="react-partial-anchor.template">
      <script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_tanstack_query-core_build_modern_queryObserver_js-node_modules_tanstack_-defd52-0024bc0658ed.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_react-relay_index_js-a597b32944e2.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_remark-gfm_lib_index_js-node_modules_remark-parse_lib_index_js-node_modu-44d0fc-a919845a804c.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_hastscript_lib_index_js-node_modules_lowlight_lib_all_js-node_modules_re-713cc1-b7c90cd7720d.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_decorators_js-node_modules_accname_dist_access-690142-222222869963.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_focus-visible_dist_focus-visible_js-node_modules_github_hotkey_dist_inde-9239ad-9003aa70891d.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_item-picker_components_RepositoryPicker_tsx-ui_packages_safe-html_SafeHTML_tsx-7f3b157d05b4.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_copilot-chat_utils_copilot-chat-helpers_ts-37fece7ad4d7.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_copilot-markdown_MarkdownRenderer_tsx-3b04e1013f19.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_copilot-chat_utils_CopilotChatContext_tsx-64ed89e38f86.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_copilot-chat_components_CopilotIconAnimation_tsx-ui_packages_copilot-chat_compone-8be2e4-3a7750060c6e.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/copilot-chat-3e0e1da85ad0.js" defer="defer"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.dabe715f485ee3a2cf59.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/copilot-chat.2ae6ba95f674bcf88bc3.module.css" />
      <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/copilot-markdown-rendering-f6845e8f5d6b.css" />
      <include-fragment src="/github-copilot/chat?skip_anchor=true" data-nonce="v2:e88805ed-c33d-2cf4-8a22-17058f8d142a" data-view-component="true">
  
  <div data-show-on-forbidden-error hidden>
    <div class="Box">
  <div class="blankslate-container">
    <div data-view-component="true" class="blankslate blankslate-spacious color-bg-default rounded-2">
      

      <h3 data-view-component="true" class="blankslate-heading">        Uh oh!
</h3>
      <p data-view-component="true">        <p class="color-fg-muted my-2 mb-2 ws-normal">There was an error while loading. <a class="Link--inTextBlock" data-turbo="false" href="" aria-label="Please reload this page">Please reload this page</a>.</p>
</p>

</div>  </div>
</div>  </div>
</include-fragment>
    </template>
  </react-partial-anchor>
  <react-partial-anchor>
    <button id="global-copilot-menu-button" data-target="react-partial-anchor.anchor" aria-expanded="false" aria-labelledby="tooltip-b5bc5e73-5a46-43a6-b3f0-118f68db692b" type="button" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button AppHeader-buttonRight">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down Button-visual">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg>
</button><tool-tip id="tooltip-b5bc5e73-5a46-43a6-b3f0-118f68db692b" for="global-copilot-menu-button" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Open Copilot</tool-tip>

    <template data-target="react-partial-anchor.template">
      <script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/global-copilot-menu-e4af1f6d8af8.js" defer="defer"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.dabe715f485ee3a2cf59.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/global-copilot-menu.972c8de5acbdcb17b799.module.css" />

<react-partial
  partial-name="global-copilot-menu"
  data-ssr="false"
  data-attempted-ssr="false"
>
  
  <script type="application/json" data-target="react-partial.embeddedData">{"props":{}}</script>
  <div data-target="react-partial.reactRoot"></div>
</react-partial>

    </template>
  </react-partial-anchor>
</div>


        <div class="AppHeader-actions position-relative">
             <react-partial-anchor>
      <button id="global-create-menu-anchor" aria-label="Create something new" data-target="react-partial-anchor.anchor" type="button" disabled="disabled" data-view-component="true" class="AppHeader-button global-create-button cursor-wait Button--secondary Button--medium Button width-auto color-fg-muted">  <span class="Button-content">
      <span class="Button-visual Button-leadingVisual">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-plus">
    <path d="M7.75 2a.75.75 0 0 1 .75.75V7h4.25a.75.75 0 0 1 0 1.5H8.5v4.25a.75.75 0 0 1-1.5 0V8.5H2.75a.75.75 0 0 1 0-1.5H7V2.75A.75.75 0 0 1 7.75 2Z"></path>
</svg>
      </span>
    <span class="Button-label"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg></span>
  </span>
</button><tool-tip id="tooltip-15a449d0-caa3-4d87-91e3-27f87452ebeb" for="global-create-menu-anchor" popover="manual" data-direction="s" data-type="description" data-view-component="true" class="sr-only position-absolute">Create new...</tool-tip>

      <template data-target="react-partial-anchor.template">
        <script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_catalyst_lib_index_js-node_modules_github_hydro-analytics-client_-4da1df-de7253948a7c.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_document-metadata_document-metadata_ts-ui_packages_promise-with-resolvers-polyfil-b81d9e-bf9e0c14eede.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/global-create-menu-25d44959288c.js" defer="defer"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.dabe715f485ee3a2cf59.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/global-create-menu.b1ee6a6bae56a89148b1.module.css" />

<react-partial
  partial-name="global-create-menu"
  data-ssr="false"
  data-attempted-ssr="false"
>
  
  <script type="application/json" data-target="react-partial.embeddedData">{"props":{"createRepo":true,"importRepo":true,"codespaces":true,"spark":false,"gist":true,"createOrg":true,"createProject":false,"createProjectUrl":"/madeofants?tab=projects","createLegacyProject":false,"createIssue":false,"org":null,"owner":"madeofants","repo":"Permut8-Firmware-Tutorial"}}</script>
  <div data-target="react-partial.reactRoot"></div>
</react-partial>

      </template>
    </react-partial-anchor>


            <a href="/issues" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;ISSUES_HEADER&quot;,&quot;label&quot;:null}" id="icon-button-6ae49455-4d95-49fd-8fbd-cbb5eb8ab727" aria-labelledby="tooltip-9a4614a1-7539-4fd0-89a2-b416835130a1" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened Button-visual">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
</a><tool-tip id="tooltip-9a4614a1-7539-4fd0-89a2-b416835130a1" for="icon-button-6ae49455-4d95-49fd-8fbd-cbb5eb8ab727" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Your issues</tool-tip>

            <a href="/pulls" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;PULL_REQUESTS_HEADER&quot;,&quot;label&quot;:null}" id="icon-button-b67b147f-14bb-4ef4-aeb8-9877a7b3d09f" aria-labelledby="tooltip-f5f0f89e-ec5e-497c-9d40-b971ea0f9507" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-pull-request Button-visual">
    <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"></path>
</svg>
</a><tool-tip id="tooltip-f5f0f89e-ec5e-497c-9d40-b971ea0f9507" for="icon-button-b67b147f-14bb-4ef4-aeb8-9877a7b3d09f" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Your pull requests</tool-tip>

        </div>

          <notification-indicator data-channel="eyJjIjoibm90aWZpY2F0aW9uLWNoYW5nZWQ6NDQwMTI0NTYiLCJ0IjoxNzQ5ODMxNTkxfQ==--7937471c02d110d1787ca90e1cf4af48a4a5b6f88b7f1323fc141fa085eabdde" data-indicator-mode="none" data-tooltip-global="You have unread notifications" data-tooltip-unavailable="Notifications are unavailable at the moment." data-tooltip-none="You have no unread notifications" data-header-redesign-enabled="true" data-fetch-indicator-src="/notifications/indicator" data-fetch-indicator-enabled="true" data-view-component="true" class="js-socket-channel">
    <a id="AppHeader-notifications-button" href="/notifications" aria-labelledby="notification-indicator-tooltip" data-hotkey="g n" data-target="notification-indicator.link" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;NOTIFICATIONS_HEADER&quot;,&quot;label&quot;:null}" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button  color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-inbox Button-visual">
    <path d="M2.8 2.06A1.75 1.75 0 0 1 4.41 1h7.18c.7 0 1.333.417 1.61 1.06l2.74 6.395c.04.093.06.194.06.295v4.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25v-4.5c0-.101.02-.202.06-.295Zm1.61.44a.25.25 0 0 0-.23.152L1.887 8H4.75a.75.75 0 0 1 .6.3L6.625 10h2.75l1.275-1.7a.75.75 0 0 1 .6-.3h2.863L11.82 2.652a.25.25 0 0 0-.23-.152Zm10.09 7h-2.875l-1.275 1.7a.75.75 0 0 1-.6.3h-3.5a.75.75 0 0 1-.6-.3L4.375 9.5H1.5v3.75c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25Z"></path>
</svg>
</a>

    <tool-tip id="notification-indicator-tooltip" data-target="notification-indicator.tooltip" for="AppHeader-notifications-button" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Notifications</tool-tip>
</notification-indicator>

        <div class="AppHeader-user">
          <deferred-side-panel data-url="/_side-panels/user?repository_id=1001550000">
  <include-fragment data-target="deferred-side-panel.fragment" data-nonce="v2:e88805ed-c33d-2cf4-8a22-17058f8d142a" data-view-component="true">
  
    <react-partial-anchor
  
>
  <button data-target="react-partial-anchor.anchor" data-login="madeofants" aria-label="Open user navigation menu" type="button" data-view-component="true" class="cursor-wait Button--invisible Button--medium Button Button--invisible-noVisuals color-bg-transparent p-0">  <span class="Button-content">
    <span class="Button-label"><img src="https://avatars.githubusercontent.com/u/44012456?v=4" alt="" size="32" height="32" width="32" data-view-component="true" class="avatar circle" /></span>
  </span>
</button>
  <template data-target="react-partial-anchor.template">
    <script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/global-user-nav-drawer-43e174f4fe91.js" defer="defer"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.dabe715f485ee3a2cf59.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/global-user-nav-drawer.f5c870dfa3e88b836b2b.module.css" />

<react-partial
  partial-name="global-user-nav-drawer"
  data-ssr="false"
  data-attempted-ssr="false"
>
  
  <script type="application/json" data-target="react-partial.embeddedData">{"props":{"owner":{"login":"madeofants","name":null,"avatarUrl":"https://avatars.githubusercontent.com/u/44012456?v=4"},"drawerId":"global-user-nav-drawer","lazyLoadItemDataFetchUrl":"/_side-panels/user.json","canAddAccount":true,"addAccountPath":"/login?add_account=1\u0026return_to=https%3A%2F%2Fgithub.com%2Fmadeofants%2FPermut8-Firmware-Tutorial%2Fblob%2Fmain%2FPermut8-Documentation.html","switchAccountPath":"/switch_account","loginAccountPath":"/login?add_account=1","projectsPath":"/madeofants?tab=projects","gistsUrl":"https://gist.github.com/mine","docsUrl":"https://docs.github.com","yourEnterpriseUrl":null,"enterpriseSettingsUrl":null,"supportUrl":"https://support.github.com","showAccountSwitcher":true,"showCopilot":true,"showEnterprises":true,"showEnterprise":false,"showGists":true,"showOrganizations":true,"showSponsors":true,"showUpgrade":true,"showFeaturesPreviews":true,"showEnterpriseSettings":false,"createMenuProps":{"createRepo":true,"importRepo":true,"codespaces":true,"spark":false,"gist":true,"createOrg":true,"createProject":false,"createProjectUrl":"/madeofants?tab=projects","createLegacyProject":false,"createIssue":false,"org":null,"owner":"madeofants","repo":"Permut8-Firmware-Tutorial"}}}</script>
  <div data-target="react-partial.reactRoot"></div>
</react-partial>

  </template>
</react-partial-anchor>


  <div data-show-on-forbidden-error hidden>
    <div class="Box">
  <div class="blankslate-container">
    <div data-view-component="true" class="blankslate blankslate-spacious color-bg-default rounded-2">
      

      <h3 data-view-component="true" class="blankslate-heading">        Uh oh!
</h3>
      <p data-view-component="true">        <p class="color-fg-muted my-2 mb-2 ws-normal">There was an error while loading. <a class="Link--inTextBlock" data-turbo="false" href="" aria-label="Please reload this page">Please reload this page</a>.</p>
</p>

</div>  </div>
</div>  </div>
</include-fragment></deferred-side-panel>
        </div>

        <div class="position-absolute mt-2">
            
<site-header-logged-in-user-menu>

</site-header-logged-in-user-menu>

        </div>
      </div>
    </div>


    
        <div class="AppHeader-localBar" >
          <nav data-pjax="#js-repo-pjax-container" aria-label="Repository" data-view-component="true" class="js-repo-nav js-sidenav-container-pjax js-responsive-underlinenav overflow-hidden UnderlineNav">

  <ul data-view-component="true" class="UnderlineNav-body list-style-none">
      <li data-view-component="true" class="d-inline-flex">
  <a id="code-tab" href="/madeofants/Permut8-Firmware-Tutorial" data-tab-item="i0code-tab" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages repo_deployments repo_attestations /madeofants/Permut8-Firmware-Tutorial" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g c" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Code&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code UnderlineNav-octicon d-none d-sm-inline">
    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
        <span data-content="Code">Code</span>
          <span id="code-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="issues-tab" href="/madeofants/Permut8-Firmware-Tutorial/issues" data-tab-item="i1issues-tab" data-selected-links="repo_issues repo_labels repo_milestones /madeofants/Permut8-Firmware-Tutorial/issues" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g i" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Issues&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened UnderlineNav-octicon d-none d-sm-inline">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
        <span data-content="Issues">Issues</span>
          <span id="issues-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="0" hidden="hidden" data-view-component="true" class="Counter">0</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="pull-requests-tab" href="/madeofants/Permut8-Firmware-Tutorial/pulls" data-tab-item="i2pull-requests-tab" data-selected-links="repo_pulls checks /madeofants/Permut8-Firmware-Tutorial/pulls" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g p" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Pull requests&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-pull-request UnderlineNav-octicon d-none d-sm-inline">
    <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"></path>
</svg>
        <span data-content="Pull requests">Pull requests</span>
          <span id="pull-requests-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="0" hidden="hidden" data-view-component="true" class="Counter">0</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="actions-tab" href="/madeofants/Permut8-Firmware-Tutorial/actions" data-tab-item="i3actions-tab" data-selected-links="repo_actions /madeofants/Permut8-Firmware-Tutorial/actions" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g a" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Actions&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-play UnderlineNav-octicon d-none d-sm-inline">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path>
</svg>
        <span data-content="Actions">Actions</span>
          <span id="actions-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="projects-tab" href="/madeofants/Permut8-Firmware-Tutorial/projects" data-tab-item="i4projects-tab" data-selected-links="repo_projects new_repo_project repo_project /madeofants/Permut8-Firmware-Tutorial/projects" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g b" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Projects&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-table UnderlineNav-octicon d-none d-sm-inline">
    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM6.5 6.5v8h7.75a.25.25 0 0 0 .25-.25V6.5Zm8-1.5V1.75a.25.25 0 0 0-.25-.25H6.5V5Zm-13 1.5v7.75c0 .138.112.25.25.25H5v-8ZM5 5V1.5H1.75a.25.25 0 0 0-.25.25V5Z"></path>
</svg>
        <span data-content="Projects">Projects</span>
          <span id="projects-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="0" hidden="hidden" data-view-component="true" class="Counter">0</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="wiki-tab" href="/madeofants/Permut8-Firmware-Tutorial/wiki" data-tab-item="i5wiki-tab" data-selected-links="repo_wiki /madeofants/Permut8-Firmware-Tutorial/wiki" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g w" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Wiki&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-book UnderlineNav-octicon d-none d-sm-inline">
    <path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"></path>
</svg>
        <span data-content="Wiki">Wiki</span>
          <span id="wiki-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="security-tab" href="/madeofants/Permut8-Firmware-Tutorial/security" data-tab-item="i6security-tab" data-selected-links="security overview alerts policy token_scanning code_scanning /madeofants/Permut8-Firmware-Tutorial/security" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g s" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Security&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-shield UnderlineNav-octicon d-none d-sm-inline">
    <path d="M7.467.133a1.748 1.748 0 0 1 1.066 0l5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667Zm.61 1.429a.25.25 0 0 0-.153 0l-5.25 1.68a.25.25 0 0 0-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.196.196 0 0 0 .154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.251.251 0 0 0-.174-.237l-5.25-1.68ZM8.75 4.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 1.5 0ZM9 10.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
        <span data-content="Security">Security</span>
          <include-fragment src="/madeofants/Permut8-Firmware-Tutorial/security/overall-count" accept="text/fragment+html" data-nonce="v2:e88805ed-c33d-2cf4-8a22-17058f8d142a" data-view-component="true">
  
  <div data-show-on-forbidden-error hidden>
    <div class="Box">
  <div class="blankslate-container">
    <div data-view-component="true" class="blankslate blankslate-spacious color-bg-default rounded-2">
      

      <h3 data-view-component="true" class="blankslate-heading">        Uh oh!
</h3>
      <p data-view-component="true">        <p class="color-fg-muted my-2 mb-2 ws-normal">There was an error while loading. <a class="Link--inTextBlock" data-turbo="false" href="" aria-label="Please reload this page">Please reload this page</a>.</p>
</p>

</div>  </div>
</div>  </div>
</include-fragment>

    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="insights-tab" href="/madeofants/Permut8-Firmware-Tutorial/pulse" data-tab-item="i7insights-tab" data-selected-links="repo_graphs repo_contributors dependency_graph dependabot_updates pulse people community /madeofants/Permut8-Firmware-Tutorial/pulse" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Insights&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-graph UnderlineNav-octicon d-none d-sm-inline">
    <path d="M1.5 1.75V13.5h13.75a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75V1.75a.75.75 0 0 1 1.5 0Zm14.28 2.53-5.25 5.25a.75.75 0 0 1-1.06 0L7 7.06 4.28 9.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.25-3.25a.75.75 0 0 1 1.06 0L10 7.94l4.72-4.72a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
        <span data-content="Insights">Insights</span>
          <span id="insights-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="settings-tab" href="/madeofants/Permut8-Firmware-Tutorial/settings" data-tab-item="i8settings-tab" data-selected-links="code_review_limits code_quality codespaces_repository_settings collaborators custom_tabs github_models_repo_settings hooks integration_installations interaction_limits issue_template_editor key_links_settings notifications repo_announcements repo_branch_settings repo_custom_properties repo_keys_settings repo_pages_settings repo_protected_tags_settings repo_rule_insights repo_rules_bypass_requests repo_rulesets repo_settings_copilot_coding_guidelines repo_settings_copilot_content_exclusion repo_settings_copilot_swe_agent repo_settings reported_content repository_actions_settings_add_new_runner repository_actions_settings_general repository_actions_settings_runner_details repository_actions_settings_runners repository_actions_settings repository_environments role_details secrets_settings_actions secrets_settings_codespaces secrets_settings_dependabot secrets security_analysis security_products /madeofants/Permut8-Firmware-Tutorial/settings" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Settings&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-gear UnderlineNav-octicon d-none d-sm-inline">
    <path d="M8 0a8.2 8.2 0 0 1 .701.031C9.444.095 9.99.645 10.16 1.29l.288 1.107c.018.066.079.158.212.224.231.114.454.243.668.386.123.082.233.09.299.071l1.103-.303c.644-.176 1.392.021 1.82.63.27.385.506.792.704 1.218.315.675.111 1.422-.364 1.891l-.814.806c-.049.048-.098.147-.088.294.016.257.016.515 0 .772-.01.147.038.246.088.294l.814.806c.475.469.679 1.216.364 1.891a7.977 7.977 0 0 1-.704 1.217c-.428.61-1.176.807-1.82.63l-1.102-.302c-.067-.019-.177-.011-.3.071a5.909 5.909 0 0 1-.668.386c-.133.066-.194.158-.211.224l-.29 1.106c-.168.646-.715 1.196-1.458 1.26a8.006 8.006 0 0 1-1.402 0c-.743-.064-1.289-.614-1.458-1.26l-.289-1.106c-.018-.066-.079-.158-.212-.224a5.738 5.738 0 0 1-.668-.386c-.123-.082-.233-.09-.299-.071l-1.103.303c-.644.176-1.392-.021-1.82-.63a8.12 8.12 0 0 1-.704-1.218c-.315-.675-.111-1.422.363-1.891l.815-.806c.05-.048.098-.147.088-.294a6.214 6.214 0 0 1 0-.772c.01-.147-.038-.246-.088-.294l-.815-.806C.635 6.045.431 5.298.746 4.623a7.92 7.92 0 0 1 .704-1.217c.428-.61 1.176-.807 1.82-.63l1.102.302c.067.019.177.011.3-.071.214-.143.437-.272.668-.386.133-.066.194-.158.211-.224l.29-1.106C6.009.645 6.556.095 7.299.03 7.53.01 7.764 0 8 0Zm-.571 1.525c-.036.003-.108.036-.137.146l-.289 1.105c-.147.561-.549.967-.998 1.189-.173.086-.34.183-.5.29-.417.278-.97.423-1.529.27l-1.103-.303c-.109-.03-.175.016-.195.045-.22.312-.412.644-.573.99-.014.031-.021.11.059.19l.815.806c.411.406.562.957.53 1.456a4.709 4.709 0 0 0 0 .582c.032.499-.119 1.05-.53 1.456l-.815.806c-.081.08-.073.159-.059.19.162.346.353.677.573.989.02.03.085.076.195.046l1.102-.303c.56-.153 1.113-.008 1.53.27.161.107.328.204.501.29.447.222.85.629.997 1.189l.289 1.105c.029.109.101.143.137.146a6.6 6.6 0 0 0 1.142 0c.036-.003.108-.036.137-.146l.289-1.105c.147-.561.549-.967.998-1.189.173-.086.34-.183.5-.29.417-.278.97-.423 1.529-.27l1.103.303c.109.029.175-.016.195-.045.22-.313.411-.644.573-.99.014-.031.021-.11-.059-.19l-.815-.806c-.411-.406-.562-.957-.53-1.456a4.709 4.709 0 0 0 0-.582c-.032-.499.119-1.05.53-1.456l.815-.806c.081-.08.073-.159.059-.19a6.464 6.464 0 0 0-.573-.989c-.02-.03-.085-.076-.195-.046l-1.102.303c-.56.153-1.113.008-1.53-.27a4.44 4.44 0 0 0-.501-.29c-.447-.222-.85-.629-.997-1.189l-.289-1.105c-.029-.11-.101-.143-.137-.146a6.6 6.6 0 0 0-1.142 0ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM9.5 8a1.5 1.5 0 1 0-3.001.001A1.5 1.5 0 0 0 9.5 8Z"></path>
</svg>
        <span data-content="Settings">Settings</span>
          <span id="settings-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
</ul>
    <div style="visibility:hidden;" data-view-component="true" class="UnderlineNav-actions js-responsive-underlinenav-overflow position-absolute pr-3 pr-md-4 pr-lg-5 right-0">      <action-menu data-select-variant="none" data-view-component="true">
  <focus-group direction="vertical" mnemonics retain>
    <button id="action-menu-b7e893fa-8534-4527-b439-93e4cc1f5328-button" popovertarget="action-menu-b7e893fa-8534-4527-b439-93e4cc1f5328-overlay" aria-controls="action-menu-b7e893fa-8534-4527-b439-93e4cc1f5328-list" aria-haspopup="true" aria-labelledby="tooltip-f03954a4-296c-4102-b0ef-f05cc6ea1115" type="button" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium UnderlineNav-item">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal Button-visual">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg>
</button><tool-tip id="tooltip-f03954a4-296c-4102-b0ef-f05cc6ea1115" for="action-menu-b7e893fa-8534-4527-b439-93e4cc1f5328-button" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Additional navigation options</tool-tip>


<anchored-position data-target="action-menu.overlay" id="action-menu-b7e893fa-8534-4527-b439-93e4cc1f5328-overlay" anchor="action-menu-b7e893fa-8534-4527-b439-93e4cc1f5328-button" align="start" side="outside-bottom" anchor-offset="normal" popover="auto" data-view-component="true">
  <div data-view-component="true" class="Overlay Overlay--size-auto">
    
      <div data-view-component="true" class="Overlay-body Overlay-body--paddingNone">          <action-list>
  <div data-view-component="true">
    <ul aria-labelledby="action-menu-b7e893fa-8534-4527-b439-93e4cc1f5328-button" id="action-menu-b7e893fa-8534-4527-b439-93e4cc1f5328-list" role="menu" data-view-component="true" class="ActionListWrap--inset ActionListWrap">
        <li hidden="hidden" data-menu-item="i0code-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-4b82ca85-80ef-4725-8db2-f3c5cb624fb6" href="/madeofants/Permut8-Firmware-Tutorial" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code">
    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Code
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i1issues-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-0a18fb73-c15f-4043-98fa-f1932ffb9dce" href="/madeofants/Permut8-Firmware-Tutorial/issues" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Issues
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i2pull-requests-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-8b748dc7-8bc8-41dd-94d3-086ec9d3d064" href="/madeofants/Permut8-Firmware-Tutorial/pulls" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-pull-request">
    <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Pull requests
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i3actions-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-118a40e3-0bb1-45f0-9bc7-d2a362667a86" href="/madeofants/Permut8-Firmware-Tutorial/actions" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-play">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Actions
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i4projects-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-7d8e83ea-9224-4744-87fc-b8e29c64a017" href="/madeofants/Permut8-Firmware-Tutorial/projects" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-table">
    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM6.5 6.5v8h7.75a.25.25 0 0 0 .25-.25V6.5Zm8-1.5V1.75a.25.25 0 0 0-.25-.25H6.5V5Zm-13 1.5v7.75c0 .138.112.25.25.25H5v-8ZM5 5V1.5H1.75a.25.25 0 0 0-.25.25V5Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Projects
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i5wiki-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-4319086d-d6d1-46d7-b998-ee067e4a3f7d" href="/madeofants/Permut8-Firmware-Tutorial/wiki" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-book">
    <path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Wiki
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i6security-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-e49a1bad-022e-48bd-bb86-cff1290b1bfc" href="/madeofants/Permut8-Firmware-Tutorial/security" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-shield">
    <path d="M7.467.133a1.748 1.748 0 0 1 1.066 0l5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667Zm.61 1.429a.25.25 0 0 0-.153 0l-5.25 1.68a.25.25 0 0 0-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.196.196 0 0 0 .154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.251.251 0 0 0-.174-.237l-5.25-1.68ZM8.75 4.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 1.5 0ZM9 10.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Security
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i7insights-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-8978788a-8271-415d-8836-678bde8b210d" href="/madeofants/Permut8-Firmware-Tutorial/pulse" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-graph">
    <path d="M1.5 1.75V13.5h13.75a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75V1.75a.75.75 0 0 1 1.5 0Zm14.28 2.53-5.25 5.25a.75.75 0 0 1-1.06 0L7 7.06 4.28 9.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.25-3.25a.75.75 0 0 1 1.06 0L10 7.94l4.72-4.72a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Insights
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i8settings-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-814d000f-8146-4ab6-b35b-7bd2b5b0cc10" href="/madeofants/Permut8-Firmware-Tutorial/settings" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-gear">
    <path d="M8 0a8.2 8.2 0 0 1 .701.031C9.444.095 9.99.645 10.16 1.29l.288 1.107c.018.066.079.158.212.224.231.114.454.243.668.386.123.082.233.09.299.071l1.103-.303c.644-.176 1.392.021 1.82.63.27.385.506.792.704 1.218.315.675.111 1.422-.364 1.891l-.814.806c-.049.048-.098.147-.088.294.016.257.016.515 0 .772-.01.147.038.246.088.294l.814.806c.475.469.679 1.216.364 1.891a7.977 7.977 0 0 1-.704 1.217c-.428.61-1.176.807-1.82.63l-1.102-.302c-.067-.019-.177-.011-.3.071a5.909 5.909 0 0 1-.668.386c-.133.066-.194.158-.211.224l-.29 1.106c-.168.646-.715 1.196-1.458 1.26a8.006 8.006 0 0 1-1.402 0c-.743-.064-1.289-.614-1.458-1.26l-.289-1.106c-.018-.066-.079-.158-.212-.224a5.738 5.738 0 0 1-.668-.386c-.123-.082-.233-.09-.299-.071l-1.103.303c-.644.176-1.392-.021-1.82-.63a8.12 8.12 0 0 1-.704-1.218c-.315-.675-.111-1.422.363-1.891l.815-.806c.05-.048.098-.147.088-.294a6.214 6.214 0 0 1 0-.772c.01-.147-.038-.246-.088-.294l-.815-.806C.635 6.045.431 5.298.746 4.623a7.92 7.92 0 0 1 .704-1.217c.428-.61 1.176-.807 1.82-.63l1.102.302c.067.019.177.011.3-.071.214-.143.437-.272.668-.386.133-.066.194-.158.211-.224l.29-1.106C6.009.645 6.556.095 7.299.03 7.53.01 7.764 0 8 0Zm-.571 1.525c-.036.003-.108.036-.137.146l-.289 1.105c-.147.561-.549.967-.998 1.189-.173.086-.34.183-.5.29-.417.278-.97.423-1.529.27l-1.103-.303c-.109-.03-.175.016-.195.045-.22.312-.412.644-.573.99-.014.031-.021.11.059.19l.815.806c.411.406.562.957.53 1.456a4.709 4.709 0 0 0 0 .582c.032.499-.119 1.05-.53 1.456l-.815.806c-.081.08-.073.159-.059.19.162.346.353.677.573.989.02.03.085.076.195.046l1.102-.303c.56-.153 1.113-.008 1.53.27.161.107.328.204.501.29.447.222.85.629.997 1.189l.289 1.105c.029.109.101.143.137.146a6.6 6.6 0 0 0 1.142 0c.036-.003.108-.036.137-.146l.289-1.105c.147-.561.549-.967.998-1.189.173-.086.34-.183.5-.29.417-.278.97-.423 1.529-.27l1.103.303c.109.029.175-.016.195-.045.22-.313.411-.644.573-.99.014-.031.021-.11-.059-.19l-.815-.806c-.411-.406-.562-.957-.53-1.456a4.709 4.709 0 0 0 0-.582c-.032-.499.119-1.05.53-1.456l.815-.806c.081-.08.073-.159.059-.19a6.464 6.464 0 0 0-.573-.989c-.02-.03-.085-.076-.195-.046l-1.102.303c-.56.153-1.113.008-1.53-.27a4.44 4.44 0 0 0-.501-.29c-.447-.222-.85-.629-.997-1.189l-.289-1.105c-.029-.11-.101-.143-.137-.146a6.6 6.6 0 0 0-1.142 0ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM9.5 8a1.5 1.5 0 1 0-3.001.001A1.5 1.5 0 0 0 9.5 8Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Settings
</span>      
</a>
  
</li>
</ul>    
</div></action-list>


</div>
      
</div></anchored-position>  </focus-group>
</action-menu></div>
</nav>
          
        </div>
</header>


      <div hidden="hidden" data-view-component="true" class="js-stale-session-flash stale-session-flash flash flash-warn flash-full">
  
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
        <span class="js-stale-session-flash-signed-in" hidden>You signed in with another tab or window. <a class="Link--inTextBlock" href="">Reload</a> to refresh your session.</span>
        <span class="js-stale-session-flash-signed-out" hidden>You signed out in another tab or window. <a class="Link--inTextBlock" href="">Reload</a> to refresh your session.</span>
        <span class="js-stale-session-flash-switched" hidden>You switched accounts on another tab or window. <a class="Link--inTextBlock" href="">Reload</a> to refresh your session.</span>

    <button id="icon-button-a7dbb3b4-af1f-4002-9a15-94cfc3192b19" aria-labelledby="tooltip-68f1a205-9548-49ef-a9c3-b73921c58eaf" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium flash-close js-flash-close">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x Button-visual">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</button><tool-tip id="tooltip-68f1a205-9548-49ef-a9c3-b73921c58eaf" for="icon-button-a7dbb3b4-af1f-4002-9a15-94cfc3192b19" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Dismiss alert</tool-tip>


  
</div>
          
    </div>

  <div id="start-of-content" class="show-on-focus"></div>








    <div id="js-flash-container" class="flash-container" data-turbo-replace>




  <template class="js-flash-template">
    
<div class="flash flash-full   {{ className }}">
  <div >
    <button autofocus class="flash-close js-flash-close" type="button" aria-label="Dismiss this message">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
    </button>
    <div aria-atomic="true" role="alert" class="js-flash-alert">
      
      <div>{{ message }}</div>

    </div>
  </div>
</div>
  </template>
</div>


    
  <notification-shelf-watcher data-base-url="https://github.com/notifications/beta/shelf" data-channel="eyJjIjoibm90aWZpY2F0aW9uLWNoYW5nZWQ6NDQwMTI0NTYiLCJ0IjoxNzQ5ODMxNTkxfQ==--7937471c02d110d1787ca90e1cf4af48a4a5b6f88b7f1323fc141fa085eabdde" data-view-component="true" class="js-socket-channel"></notification-shelf-watcher>
  <div hidden data-initial data-target="notification-shelf-watcher.placeholder"></div>






  <div
    class="application-main "
    data-commit-hovercards-enabled
    data-discussion-hovercards-enabled
    data-issue-and-pr-hovercards-enabled
    data-project-hovercards-enabled
  >
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode" class="">
    <main id="js-repo-pjax-container" >
      
      






    
  <div id="repository-container-header" data-turbo-replace hidden ></div>




<turbo-frame id="repo-content-turbo-frame" target="_top" data-turbo-action="advance" class="">
    <div id="repo-content-pjax-container" class="repository-content " >
      <a href="https://github.dev/" class="d-none js-github-dev-shortcut" data-hotkey=".,Mod+Alt+.">Open in github.dev</a>
  <a href="https://github.dev/" class="d-none js-github-dev-new-tab-shortcut" data-hotkey="Shift+.,Shift+&gt;,&gt;" target="_blank" rel="noopener noreferrer">Open in a new github.dev tab</a>
    <a class="d-none" data-hotkey=",,Mod+Alt+," target="_blank" href="/codespaces/new/madeofants/Permut8-Firmware-Tutorial/tree/main?resume=1">Open in codespace</a>




    
      
    








<react-app
  app-name="react-code-view"
  initial-path="/madeofants/Permut8-Firmware-Tutorial/blob/main/Permut8-Documentation.html"
    style="display: block; min-height: calc(100vh - 64px);"
  data-attempted-ssr="true"
  data-ssr="false"
  data-lazy="false"
  data-alternate="false"
  data-data-router-enabled="false"
>
  
  <script type="application/json" data-target="react-app.embeddedData">{"payload":{"allShortcutsEnabled":true,"fileTree":{"":{"items":[{"name":"content","path":"content","contentType":"directory"},{"name":"LICENSE","path":"LICENSE","contentType":"file"},{"name":"Permut8-Documentation.html","path":"Permut8-Documentation.html","contentType":"file"},{"name":"README.md","path":"README.md","contentType":"file"}],"totalCount":4}},"fileTreeProcessingTime":2.734393,"foldersToFetch":[],"incompleteFileTree":false,"repo":{"id":1001550000,"defaultBranch":"main","name":"Permut8-Firmware-Tutorial","ownerLogin":"madeofants","currentUserCanPush":true,"isFork":false,"isEmpty":false,"createdAt":"2025-06-13T11:15:19.000-04:00","ownerAvatar":"https://avatars.githubusercontent.com/u/44012456?v=4","public":true,"private":false,"isOrgOwned":false},"codeLineWrapEnabled":false,"symbolsExpanded":false,"treeExpanded":true,"refInfo":{"name":"main","listCacheKey":"v0:1749827720.738611","canEdit":true,"refType":"branch","currentOid":"cd3c8a05f6474b58930df55ef7477d2479fe4f65"},"path":"Permut8-Documentation.html","currentUser":{"id":44012456,"login":"madeofants","userEmail":"daniel.d.sharp@gmail.com"},"blob":{"rawLines":["\u003c!DOCTYPE html\u003e","\u003chtml lang=\"en\"\u003e","\u003chead\u003e","    \u003cmeta charset=\"UTF-8\"\u003e","    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e","    \u003ctitle\u003ePermut8 Firmware Documentation\u003c/title\u003e","    \u003cstyle\u003e","        body { ","            margin: 0; ","            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;","            line-height: 1.6;","            color: #333;","        }","        ","        .container {","            display: flex;","            min-height: 100vh;","        }","        ","        .nav-sidebar {","            width: 300px;","            background: #f8f9fa;","            border-right: 1px solid #dee2e6;","            position: fixed;","            height: 100vh;","            overflow-y: auto;","            padding: 20px;","            box-sizing: border-box;","        }","        ","        .main-content {","            margin-left: 300px;","            padding: 20px 40px;","            max-width: 900px;","        }","        ","        .search-box {","            width: 100%;","            padding: 10px;","            margin-bottom: 20px;","            border: 1px solid #ced4da;","            border-radius: 4px;","            font-size: 14px;","        }","        ","        .nav-section {","            margin-bottom: 20px;","        }","        ","        .nav-section h3 {","            color: #495057;","            border-bottom: 1px solid #dee2e6;","            padding-bottom: 5px;","            margin-bottom: 10px;","            font-size: 14px;","            font-weight: 600;","        }","        ","        .nav-link {","            display: block;","            padding: 5px 10px;","            text-decoration: none;","            color: #007bff;","            border-radius: 4px;","            margin-bottom: 2px;","            font-size: 13px;","        }","        ","        .nav-link:hover {","            background: #e9ecef;","            text-decoration: none;","        }","        ","        .nav-link.active {","            background: #007bff;","            color: white;","        }","        ","        .doc-section {","            margin-bottom: 40px;","            padding-bottom: 20px;","            border-bottom: 1px solid #eee;","        }","        ","        .doc-section h1 {","            color: #333;","            border-bottom: 2px solid #007bff;","            padding-bottom: 10px;","            margin-top: 0;","        }","        ","        .doc-section h2 {","            color: #555;","            margin-top: 30px;","        }","        ","        .doc-section h3 {","            color: #666;","            margin-top: 25px;","        }","        ","        .source-info {","            color: #6c757d;","            font-size: 12px;","            font-style: italic;","            margin-bottom: 15px;","        }","        ","        pre.code-block {","            background: #f8f9fa;","            border: 1px solid #e9ecef;","            border-radius: 4px;","            padding: 15px;","            overflow-x: auto;","            margin: 15px 0;","        }","        ","        code {","            background: #f8f9fa;","            padding: 2px 4px;","            border-radius: 3px;","            font-family: 'Monaco', 'Consolas', 'Courier New', monospace;","            font-size: 13px;","        }","        ","        pre code {","            background: none;","            padding: 0;","        }","        ","        .mobile-menu-btn {","            display: none;","            position: fixed;","            top: 20px;","            left: 20px;","            z-index: 1000;","            background: #007bff;","            color: white;","            border: none;","            padding: 10px;","            border-radius: 4px;","            cursor: pointer;","        }","        ","        @media (max-width: 768px) {","            .nav-sidebar {","                transform: translateX(-100%);","                transition: transform 0.3s ease;","                z-index: 999;","            }","            ","            .nav-sidebar.open {","                transform: translateX(0);","            }","            ","            .main-content {","                margin-left: 0;","                padding: 60px 20px 20px 20px;","            }","            ","            .mobile-menu-btn {","                display: block;","            }","        }","        ","        .foundation-highlight {","            background: #e7f3ff;","            border-left: 4px solid #007bff;","            padding: 10px 15px;","            margin: 15px 0;","        }","        ","        li {","            margin: 5px 0;","        }","        ","        p {","            margin: 15px 0;","        }","    \u003c/style\u003e","\u003c/head\u003e","\u003cbody\u003e","    \u003cdiv class=\"container\"\u003e","        \u003cnav class=\"nav-sidebar\" id=\"nav-sidebar\"\u003e","            \u003ch2 style=\"margin-top: 0; color: #007bff;\"\u003ePermut8 Firmware Docs\u003c/h2\u003e","            ","            \u003cinput type=\"text\" class=\"search-box\" placeholder=\"Search documentation...\" id=\"search-box\"\u003e","            ","            \u003cdiv class=\"nav-section\"\u003e","                \u003ch3\u003e Foundation Path (90 min)\u003c/h3\u003e","                \u003ca href=\"#section-1\" class=\"nav-link\"\u003e1. Quickstart\u003c/a\u003e","                \u003ca href=\"#section-2\" class=\"nav-link\"\u003e2. How DSP Affects Sound\u003c/a\u003e","                \u003ca href=\"#section-3\" class=\"nav-link\"\u003e3. Getting Audio In And Out\u003c/a\u003e","                \u003ca href=\"#section-4\" class=\"nav-link\"\u003e4. Simplest Distortion\u003c/a\u003e","                \u003ca href=\"#section-5\" class=\"nav-link\"\u003e5. Audio Engineering For Programmers\u003c/a\u003e","            \u003c/div\u003e","            ","            \u003cdiv class=\"nav-section\"\u003e","                \u003ch3\u003e Development Tutorials\u003c/h3\u003e","                \u003ca href=\"#section-6\" class=\"nav-link\"\u003e6. Mod Vs Full Architecture Guide\u003c/a\u003e","                \u003ca href=\"#section-7\" class=\"nav-link\"\u003e7. Complete Development Workflow\u003c/a\u003e","                \u003ca href=\"#section-8\" class=\"nav-link\"\u003e8. Debug Your Plugin\u003c/a\u003e","            \u003c/div\u003e","            ","            \u003cdiv class=\"nav-section\"\u003e","                \u003ch3\u003e Language Reference\u003c/h3\u003e","                \u003ca href=\"#section-9\" class=\"nav-link\"\u003e9. Core Language Reference\u003c/a\u003e","                \u003ca href=\"#section-10\" class=\"nav-link\"\u003e10. Language Syntax Reference\u003c/a\u003e","                \u003ca href=\"#section-11\" class=\"nav-link\"\u003e11. Standard Library Reference\u003c/a\u003e","                \u003ca href=\"#section-12\" class=\"nav-link\"\u003e12. Types And Operators\u003c/a\u003e","                \u003ca href=\"#section-13\" class=\"nav-link\"\u003e13. Core Functions\u003c/a\u003e","            \u003c/div\u003e","            ","            \u003cdiv class=\"nav-section\"\u003e","                \u003ch3\u003e锔 Architecture Reference\u003c/h3\u003e","                \u003ca href=\"#section-14\" class=\"nav-link\"\u003e14. Memory Layout\u003c/a\u003e","                \u003ca href=\"#section-15\" class=\"nav-link\"\u003e15. Memory Model\u003c/a\u003e","                \u003ca href=\"#section-16\" class=\"nav-link\"\u003e16. Processing Order\u003c/a\u003e","                \u003ca href=\"#section-17\" class=\"nav-link\"\u003e17. State Management\u003c/a\u003e","                \u003ca href=\"#section-18\" class=\"nav-link\"\u003e18. Architecture Patterns\u003c/a\u003e","            \u003c/div\u003e","            ","            \u003cdiv class=\"nav-section\"\u003e","                \u003ch3\u003e Fundamentals\u003c/h3\u003e","                \u003ca href=\"#section-19\" class=\"nav-link\"\u003e19. Basic Oscillator\u003c/a\u003e","                \u003ca href=\"#section-20\" class=\"nav-link\"\u003e20. Basic Filter\u003c/a\u003e","                \u003ca href=\"#section-21\" class=\"nav-link\"\u003e21. Gain And Volume\u003c/a\u003e","                \u003ca href=\"#section-22\" class=\"nav-link\"\u003e22. Memory Basics\u003c/a\u003e","                \u003ca href=\"#section-23\" class=\"nav-link\"\u003e23. Parameter Mapping\u003c/a\u003e","                \u003ca href=\"#section-24\" class=\"nav-link\"\u003e24. Circular Buffer Guide\u003c/a\u003e","                \u003ca href=\"#section-25\" class=\"nav-link\"\u003e25. Envelope Basics\u003c/a\u003e","                \u003ca href=\"#section-26\" class=\"nav-link\"\u003e26. Stereo Processing\u003c/a\u003e","                \u003ca href=\"#section-27\" class=\"nav-link\"\u003e27. Switches And Modes\u003c/a\u003e","                \u003ca href=\"#section-28\" class=\"nav-link\"\u003e28. Db Gain Control\u003c/a\u003e","                \u003ca href=\"#section-29\" class=\"nav-link\"\u003e29. Level Metering\u003c/a\u003e","                \u003ca href=\"#section-30\" class=\"nav-link\"\u003e30. Output Limiting\u003c/a\u003e","            \u003c/div\u003e","            ","            \u003cdiv class=\"nav-section\"\u003e","                \u003ch3\u003e Audio Effects\u003c/h3\u003e","                \u003ca href=\"#section-31\" class=\"nav-link\"\u003e31. Make A Delay\u003c/a\u003e","                \u003ca href=\"#section-32\" class=\"nav-link\"\u003e32. Waveshaper Distortion\u003c/a\u003e","                \u003ca href=\"#section-33\" class=\"nav-link\"\u003e33. Chorus Effect\u003c/a\u003e","                \u003ca href=\"#section-34\" class=\"nav-link\"\u003e34. Phaser Effect\u003c/a\u003e","                \u003ca href=\"#section-35\" class=\"nav-link\"\u003e35. Compressor Basic\u003c/a\u003e","                \u003ca href=\"#section-36\" class=\"nav-link\"\u003e36. Bitcrusher\u003c/a\u003e","                \u003ca href=\"#section-37\" class=\"nav-link\"\u003e37. Granular Synthesis\u003c/a\u003e","                \u003ca href=\"#section-38\" class=\"nav-link\"\u003e38. Pitch Shifter\u003c/a\u003e","                \u003ca href=\"#section-39\" class=\"nav-link\"\u003e39. Multi Band Compressor\u003c/a\u003e","                \u003ca href=\"#section-40\" class=\"nav-link\"\u003e40. Reverb Simple\u003c/a\u003e","            \u003c/div\u003e","            ","            \u003cdiv class=\"nav-section\"\u003e","                \u003ch3\u003e Performance\u003c/h3\u003e","                \u003ca href=\"#section-41\" class=\"nav-link\"\u003e41. Optimization Basics\u003c/a\u003e","                \u003ca href=\"#section-42\" class=\"nav-link\"\u003e42. Memory Patterns\u003c/a\u003e","                \u003ca href=\"#section-43\" class=\"nav-link\"\u003e43. Lookup Tables\u003c/a\u003e","                \u003ca href=\"#section-44\" class=\"nav-link\"\u003e44. Fixed Point\u003c/a\u003e","                \u003ca href=\"#section-45\" class=\"nav-link\"\u003e45. Efficient Math\u003c/a\u003e","                \u003ca href=\"#section-46\" class=\"nav-link\"\u003e46. Batch Processing\u003c/a\u003e","                \u003ca href=\"#section-47\" class=\"nav-link\"\u003e47. Memory Access\u003c/a\u003e","            \u003c/div\u003e","            ","            \u003cdiv class=\"nav-section\"\u003e","                \u003ch3\u003e Integration\u003c/h3\u003e","                \u003ca href=\"#section-48\" class=\"nav-link\"\u003e48. Preset System\u003c/a\u003e","                \u003ca href=\"#section-49\" class=\"nav-link\"\u003e49. Midi Learn Simplified\u003c/a\u003e","                \u003ca href=\"#section-50\" class=\"nav-link\"\u003e50. Midi Sync Simplified\u003c/a\u003e","                \u003ca href=\"#section-51\" class=\"nav-link\"\u003e51. Parameter Morphing\u003c/a\u003e","                \u003ca href=\"#section-52\" class=\"nav-link\"\u003e52. State Recall Simplified\u003c/a\u003e","                \u003ca href=\"#section-53\" class=\"nav-link\"\u003e53. Preset Friendly\u003c/a\u003e","                \u003ca href=\"#section-54\" class=\"nav-link\"\u003e54. Midi Learn\u003c/a\u003e","                \u003ca href=\"#section-55\" class=\"nav-link\"\u003e55. Midi Sync\u003c/a\u003e","                \u003ca href=\"#section-56\" class=\"nav-link\"\u003e56. State Recall\u003c/a\u003e","            \u003c/div\u003e","            ","            \u003cdiv class=\"nav-section\"\u003e","                \u003ch3\u003e锔 Assembly\u003c/h3\u003e","                \u003ca href=\"#section-57\" class=\"nav-link\"\u003e57. Gazl Assembly Introduction\u003c/a\u003e","                \u003ca href=\"#section-58\" class=\"nav-link\"\u003e58. Gazl Debugging Profiling\u003c/a\u003e","                \u003ca href=\"#section-59\" class=\"nav-link\"\u003e59. Gazl Optimization\u003c/a\u003e","                \u003ca href=\"#section-60\" class=\"nav-link\"\u003e60. Gazl Integration Production\u003c/a\u003e","            \u003c/div\u003e","            ","            \u003cdiv class=\"nav-section\"\u003e","                \u003ch3\u003e Reference\u003c/h3\u003e","                \u003ca href=\"#section-61\" class=\"nav-link\"\u003e61. Audio Processing Reference\u003c/a\u003e","                \u003ca href=\"#section-62\" class=\"nav-link\"\u003e62. Parameters Reference\u003c/a\u003e","                \u003ca href=\"#section-63\" class=\"nav-link\"\u003e63. Memory Management\u003c/a\u003e","                \u003ca href=\"#section-64\" class=\"nav-link\"\u003e64. Utilities Reference\u003c/a\u003e","            \u003c/div\u003e","            ","            \u003cdiv class=\"nav-section\"\u003e","                \u003ch3\u003eЛ Navigation\u003c/h3\u003e","                \u003ca href=\"#section-65\" class=\"nav-link\"\u003e65. Navigation\u003c/a\u003e","                \u003ca href=\"#section-66\" class=\"nav-link\"\u003e66. Cross References\u003c/a\u003e","                \u003ca href=\"#section-67\" class=\"nav-link\"\u003e67. Themes\u003c/a\u003e","                \u003ca href=\"#section-68\" class=\"nav-link\"\u003e68. Language Foundation\u003c/a\u003e","                \u003ca href=\"#section-69\" class=\"nav-link\"\u003e69. Master Index\u003c/a\u003e","                \u003ca href=\"#section-70\" class=\"nav-link\"\u003e70. Glossary\u003c/a\u003e","            \u003c/div\u003e","        \u003c/nav\u003e","        ","        \u003cmain class=\"main-content\"\u003e","            \u003cdiv style=\"background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px; padding: 15px; margin-bottom: 20px; font-size: 14px; color: #6c757d;\"\u003e","                \u003cp style=\"margin: 0;\"\u003e\u003cstrong\u003eDocumentation created by:\u003c/strong\u003e madeofants\u003c/p\u003e","                \u003cp style=\"margin: 5px 0 0 0;\"\u003e\u003cstrong\u003eLicense:\u003c/strong\u003e Released under GNU General Public License\u003c/p\u003e","            \u003c/div\u003e","            ","            \u003cdiv class=\"foundation-highlight\"\u003e","                \u003ch2\u003e Start Here: Foundation Path (90 minutes)\u003c/h2\u003e","                \u003cp\u003eNew to Permut8 firmware development? Follow sections 1-5 for a complete foundation that takes you from zero knowledge to working effects in just 90 minutes.\u003c/p\u003e","                \u003cp\u003e\u003cstrong\u003ePath:\u003c/strong\u003e Quickstart  DSP Concepts  Audio I/O  First Effect  Professional Concepts\u003c/p\u003e","            \u003c/div\u003e","            ","            \u003c!-- All content sections inserted here --\u003e\u003csection id=\"section-1\" class=\"doc-section\"\u003e","\u003ch1\u003e1. Quickstart\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/QUICKSTART.md\u003c/div\u003e","","\u003ch2\u003ePermut8 Firmware in 30 Minutes\u003c/h2\u003e","","\u003cp\u003eGet your first custom firmware running on Permut8 in just 30 minutes!\u003c/p\u003e","","\u003ch3\u003eWhat is Firmware? (For Complete Beginners)\u003c/h3\u003e","","\u003cp\u003eIf you're new to audio programming, here's what you need to know:\u003c/p\u003e","","\u003ch4\u003e**Firmware vs Plugins**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eRegular Audio Plugin\u003c/strong\u003e: Software that processes audio on your computer\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePermut8 Firmware\u003c/strong\u003e: Code that runs directly on Permut8 hardware for ultra-low latency\u003c/li\u003e","","\u003ch4\u003e**Why Firmware?**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eNo Computer Latency\u003c/strong\u003e: Audio processing happens instantly on dedicated hardware\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eReal-time Performance\u003c/strong\u003e: Perfect for live performance and recording\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCustom Effects\u003c/strong\u003e: Create effects that don't exist anywhere else\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eHardware Integration\u003c/strong\u003e: Direct control from knobs and LEDs\u003c/li\u003e","","\u003ch4\u003e**What You're Actually Doing**\u003c/h4\u003e","\u003cp\u003eWhen you write Permut8 firmware, you're creating instructions that tell the Permut8 hardware exactly how to modify audio signals in real-time. Every knob turn, every audio sample, every LED - your code controls it all.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eThink of it like this\u003c/strong\u003e: Instead of installing software on your computer, you're programming the brain of a dedicated audio computer that lives inside Permut8.\u003c/p\u003e","","\u003ch3\u003eFive-Minute Setup\u003c/h3\u003e","","\u003ch4\u003e1. Check Your Installation\u003c/h4\u003e","\u003cp\u003eNavigate to your Permut8 Firmware Code directory and verify you have:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","Permut8 Firmware Code/"," PikaCmd.exe           # The Impala compiler"," ringmod_code.impala   # Example firmware"," linsub_code.impala    # Example firmware","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e2. Test the Compiler\u003c/h4\u003e","\u003cp\u003eOpen a command prompt/terminal in this directory and run:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-bash\"\u003e","PikaCmd.exe -compile ringmod_code.impala","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eYou should see \u003ccode\u003eringmod_code.gazl\u003c/code\u003e created - that's your compiled firmware!\u003c/p\u003e","","\u003ch4\u003e3. Load into Permut8\u003c/h4\u003e","\u003cp\u003e1. Open Permut8 in your DAW\u003c/p\u003e","\u003cp\u003e2. Click the console button (bottom right)\u003c/p\u003e","\u003cp\u003e3. Type: \u003ccode\u003epatch ringmod_code.gazl\u003c/code\u003e\u003c/p\u003e","\u003cp\u003e4. Hit Enter\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eYou just loaded custom firmware!\u003c/strong\u003e The ring modulator is now running.\u003c/p\u003e","","\u003ch3\u003eYour First Firmware (10 minutes)\u003c/h3\u003e","","\u003cp\u003eLet's create a simple bit crusher from scratch.\u003c/p\u003e","","\u003ch4\u003e1. Create a New File\u003c/h4\u003e","\u003cp\u003eCreate \u003ccode\u003ebitcrush.impala\u003c/code\u003e with this code:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Bit Crusher - Your First Permut8 Firmware","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Panel text (optional but cool!)","readonly array panelTextRows[8] = {","    \"\",","    \"BIT |-------- CRUSH AMOUNT (MORE BITS = LESS CRUSH) --------|\",","    \"\",","    \"\",","    \"\",","    \"\",","    \"\",","    \"\"","}","","// Global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Knob values","global array displayLEDs[4]     // LED displays","","// Main processing function","function process()","locals int bits, int shift, int mask","{","    loop {","        // Read bit depth from first knob (0-255 mapped to 1-12 bits)","        bits = ((int) global params[3] \u0026gt;\u0026gt; 5) + 1;  // 1-8 bits","        shift = 12 - bits;","        mask = 0xFFF0 \u0026lt;\u0026lt; shift;","","        // Light up LEDs to show bit depth","        global displayLEDs[0] = 1 \u0026lt;\u0026lt; (bits - 1);","","        // Process audio: reduce bit depth","        global signal[0] = ((int) global signal[0]) \u0026amp; mask;","        global signal[1] = ((int) global signal[1]) \u0026amp; mask;","","        // Return control to Permut8","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e2. Compile Your Firmware\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-bash\"\u003e","PikaCmd.exe -compile bitcrush.impala","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e3. Load and Test\u003c/h4\u003e","\u003cp\u003e1. In Permut8's console: \u003ccode\u003epatch bitcrush.gazl\u003c/code\u003e\u003c/p\u003e","\u003cp\u003e2. Play some audio through Permut8\u003c/p\u003e","\u003cp\u003e3. Turn the first knob - hear the bit crushing!\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eCongratulations!\u003c/strong\u003e You just created working DSP firmware. The first knob now controls bit depth, creating that classic lo-fi digital sound.\u003c/p\u003e","","\u003ch3\u003eModify Existing Firmware (15 minutes)\u003c/h3\u003e","","\u003cp\u003eLet's add LED animation to the ring modulator.\u003c/p\u003e","","\u003ch4\u003e1. Copy the Original\u003c/h4\u003e","\u003cp\u003eMake a copy of \u003ccode\u003eringmod_code.impala\u003c/code\u003e called \u003ccode\u003eringmod_leds.impala\u003c/code\u003e\u003c/p\u003e","","\u003ch4\u003e2. Find the LED Code\u003c/h4\u003e","\u003cp\u003eLook for this line (around line 272):\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global displayLEDs[2] = 0x01 \u0026lt;\u0026lt; ((cosL + 0x8000) \u0026gt;\u0026gt; (16 - 3));","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e3. Add Rainbow LED Animation\u003c/h4\u003e","\u003cp\u003eReplace that line with:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Rainbow LED animation synced to modulation","global displayLEDs[0] = 0x01 \u0026lt;\u0026lt; ((cosL + 0x8000) \u0026gt;\u0026gt; (16 - 3));","global displayLEDs[1] = 0x01 \u0026lt;\u0026lt; ((cosR + 0x8000) \u0026gt;\u0026gt; (16 - 3));","global displayLEDs[2] = 0x01 \u0026lt;\u0026lt; (((cosL + cosR) + 0x10000) \u0026gt;\u0026gt; (17 - 3));","global displayLEDs[3] = global displayLEDs[0] | global displayLEDs[1];","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e4. Compile and Load\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-bash\"\u003e","PikaCmd.exe -compile ringmod_leds.impala","patch ringmod_leds.gazl","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eNow all four LED displays dance with the ring modulation!\u003c/p\u003e","","\u003ch4\u003e5. Try More Modifications\u003c/h4\u003e","\u003cli\u003eChange delay times: Find \u003ccode\u003edelayL\u003c/code\u003e and \u003ccode\u003edelayR\u003c/code\u003e calculations\u003c/li\u003e","\u003cli\u003eAdjust modulation shape: Look for the \u003ccode\u003ecosTable\u003c/code\u003e\u003c/li\u003e","\u003cli\u003eAdd parameter smoothing: Implement interpolation in \u003ccode\u003eupdate()\u003c/code\u003e\u003c/li\u003e","","\u003ch3\u003eWhat's Next?\u003c/h3\u003e","","\u003ch4\u003e**New to Audio Programming?** Start with the foundation:\u003c/h4\u003e","\u003cp\u003e1.  [How DSP Affects Sound](../cookbook/fundamentals/how-dsp-affects-sound.md) - Understand how code creates audio effects (20 min)\u003c/p\u003e","\u003cp\u003e2.  [Getting Audio In and Out](../tutorials/getting-audio-in-and-out.md) - Foundation I/O tutorial (10 min)\u003c/p\u003e","\u003cp\u003e3.  [Your First Distortion Effect](../cookbook/fundamentals/simplest-distortion.md) - Progressive effect building (15 min)\u003c/p\u003e","","\u003ch4\u003e**Ready for More Effects?** Based on what you just did:\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eCreated a bit crusher?\u003c/strong\u003e  Try these effects next:\u003c/p\u003e","\u003cli\u003e [Basic Filter](../cookbook/fundamentals/basic-filter.md) - Add resonance\u003c/li\u003e","\u003cli\u003e [Bitcrusher](../cookbook/audio-effects/bitcrusher.md) - More lo-fi options\u003c/li\u003e","\u003cli\u003e [Parameter Smoothing](../cookbook/parameters/parameter-smoothing.md) - Remove clicks\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eModified the ring mod?\u003c/strong\u003e  Explore these:\u003c/p\u003e","\u003cli\u003e [Control LEDs](../cookbook/visual-feedback/control-leds.md) - More patterns\u003c/li\u003e","\u003cli\u003e [Sync to Tempo](../cookbook/timing/sync-to-tempo.md) - Beat-synced effects\u003c/li\u003e","\u003cli\u003e [Make a Delay](../cookbook/audio-effects/make-a-delay.md) - Use the memory buffer\u003c/li\u003e","","\u003ch4\u003e**Understanding Permut8 Architecture:**\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eWhich firmware type should you choose?\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eFull Patches\u003c/strong\u003e (like our bit crusher): Replace entire DSP engine, process audio samples directly\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMod Patches\u003c/strong\u003e (like linsub): Modify built-in operators, manipulate memory positions\u003c/li\u003e","","\u003cp\u003e [Mod vs Full Architecture Guide](../tutorials/mod-vs-full-architecture-guide.md) - Critical decision guidance\u003c/p\u003e","","\u003ch4\u003e**Professional Development:**\u003c/h4\u003e","\u003cli\u003e [Complete Development Workflow](../tutorials/complete-development-workflow.md) - Systematic methodology\u003c/li\u003e","\u003cli\u003e [Debug Your Plugin](../tutorials/debug-your-plugin.md) - Essential troubleshooting\u003c/li\u003e","","\u003ch4\u003eQuick Tips:\u003c/h4\u003e","\u003cli\u003e\u003ccode\u003eglobal signal[0]\u003c/code\u003e = left channel, \u003ccode\u003eglobal signal[1]\u003c/code\u003e = right channel\u003c/li\u003e","\u003cli\u003eAudio samples range from -2047 to 2047 (12-bit)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eyield()\u003c/code\u003e returns control to Permut8 after each sample\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eglobal params[]\u003c/code\u003e contains all knob values (0-255)\u003c/li\u003e","","\u003ch4\u003eProblems?\u003c/h4\u003e","\u003cli\u003eFirmware won't compile? Check for missing semicolons\u003c/li\u003e","\u003cli\u003eNo sound? Make sure you called \u003ccode\u003eyield()\u003c/code\u003e in your loop\u003c/li\u003e","\u003cli\u003eLEDs not working? Values should be 8-bit (0-255)\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eReady for more?\u003c/strong\u003e The cookbook has 24+ ready-to-use recipes. Each one is complete, working code you can copy and modify. Start with any effect that interests you!\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-2\" class=\"doc-section\"\u003e","\u003ch1\u003e2. How Dsp Affects Sound\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/fundamentals/how-dsp-affects-sound.md\u003c/div\u003e","","\u003ch2\u003eHow DSP Affects Sound\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eUnderstanding how code changes create audio effects - Foundation tutorial for complete beginners (20 minutes)\u003c/em\u003e\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eWhat You'll Learn\u003c/h3\u003e","","\u003cp\u003eBy the end of this tutorial, you'll understand:\u003c/p\u003e","\u003cli\u003eWhat audio samples are and how numbers become sound\u003c/li\u003e","\u003cli\u003eHow changing numbers in code changes what you hear\u003c/li\u003e","\u003cli\u003eThe fundamental relationship between programming and audio effects\u003c/li\u003e","\u003cli\u003eYour first working sound modification\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003ePrerequisites\u003c/strong\u003e: None - this is for complete audio programming beginners\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTime\u003c/strong\u003e: 20 minutes reading + 5 minutes hands-on\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eNext Tutorial\u003c/strong\u003e: [Getting Audio In and Out](getting-audio-in-and-out.md)\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003ePart 1: Numbers Become Sound (5 minutes)\u003c/h3\u003e","","\u003ch4\u003eThe Magic Translation\u003c/h4\u003e","","\u003cp\u003eWhen you hear music from your computer, something amazing is happening: \u003cstrong\u003enumbers are being turned into sound waves\u003c/strong\u003e. Every fraction of a second, thousands of numbers flow from your software to your speakers, and those numbers control exactly what you hear.\u003c/p\u003e","","\u003ch4\u003eWhat is an Audio Sample?\u003c/h4\u003e","","\u003cp\u003eAn \u003cstrong\u003eaudio sample\u003c/strong\u003e is just a number that represents the position of a speaker cone at one tiny moment in time.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","Positive numbers  Speaker pushes out  You hear sound","Negative numbers  Speaker pulls in  You hear sound","Zero  Speaker stays still  Silence","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eIn Permut8 Firmware\u003c/h4\u003e","","\u003cp\u003eIn Impala, audio samples are integers from \u003cstrong\u003e-2047 to +2047\u003c/strong\u003e:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","extern native yield","","global array signal[2]  // [left channel, right channel]","global array params[8]  // Hardware knob values (0-255)","","function process() {","    loop {","        // signal[0] = some number between -2047 and +2047","        // signal[1] = some number between -2047 and +2047","        yield();  // Send these numbers to the speakers","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eKey Insight\u003c/strong\u003e: Every time your code runs, it puts two numbers into \u003ccode\u003esignal[0]\u003c/code\u003e and \u003ccode\u003esignal[1]\u003c/code\u003e. Those numbers immediately become the sound you hear through your left and right speakers.\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003ePart 2: Changing Numbers Changes Sound (10 minutes)\u003c/h3\u003e","","\u003cp\u003eNow for the exciting part: \u003cstrong\u003ewhen you change the numbers in code, you change what people hear\u003c/strong\u003e. This is the fundamental principle of Digital Signal Processing (DSP).\u003c/p\u003e","","\u003ch4\u003eBasic Sound Changes\u003c/h4\u003e","","\u003cp\u003eHere are the most fundamental ways code affects sound:\u003c/p\u003e","","\u003ch5\u003e1. Make it Louder (Multiply by Bigger Number)\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","signal[0] = signal[0] * 2;  // Twice as loud","signal[1] = signal[1] * 2;  // Both channels","\u003c/code\u003e\u003c/pre\u003e","\u003cp\u003e\u003cstrong\u003eWhat Happens\u003c/strong\u003e: Every audio sample gets bigger  Speaker moves more  Sound is louder\u003c/p\u003e","","\u003ch5\u003e2. Make it Quieter (Multiply by Smaller Number)\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","signal[0] = signal[0] / 2;  // Half as loud","signal[1] = signal[1] / 2;  // Both channels","\u003c/code\u003e\u003c/pre\u003e","\u003cp\u003e\u003cstrong\u003eWhat Happens\u003c/strong\u003e: Every audio sample gets smaller  Speaker moves less  Sound is quieter\u003c/p\u003e","","\u003ch5\u003e3. Add Distortion (Push Beyond Limits)\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","signal[0] = signal[0] * 5;  // Way too loud!","// Permut8 automatically prevents damage by limiting to 卤2047","// But this creates distortion - harsh, buzzy sound","\u003c/code\u003e\u003c/pre\u003e","\u003cp\u003e\u003cstrong\u003eWhat Happens\u003c/strong\u003e: Numbers try to go beyond 卤2047  Get \"clipped\"  Creates distortion\u003c/p\u003e","","\u003ch5\u003e4. Mix Two Sounds (Add Numbers)\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","int originalSound = signal[0];","int synthesizedSound = 1000;  // A constant tone","signal[0] = originalSound + synthesizedSound;  // Mix them!","\u003c/code\u003e\u003c/pre\u003e","\u003cp\u003e\u003cstrong\u003eWhat Happens\u003c/strong\u003e: Two sound sources combine  You hear both at once\u003c/p\u003e","","\u003ch5\u003e5. Create Echo (Use Old Numbers)\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array delayBuffer[1000];  // Store old audio","global int delayPos = 0;","","// In your process() loop:","int currentAudio = signal[0];","int oldAudio = delayBuffer[delayPos];  // Audio from 1000 samples ago","","signal[0] = currentAudio + (oldAudio / 2);  // Mix current + old = echo!","","delayBuffer[delayPos] = currentAudio;  // Remember this audio for later","delayPos = (delayPos + 1) % 1000;      // Move to next position","\u003c/code\u003e\u003c/pre\u003e","\u003cp\u003e\u003cstrong\u003eWhat Happens\u003c/strong\u003e: You hear current audio + audio from the past  Echo effect!\u003c/p\u003e","","\u003ch4\u003eThe Pattern\u003c/h4\u003e","","\u003cp\u003eDo you see the pattern? \u003cstrong\u003eEvery audio effect is just a different way of calculating numbers\u003c/strong\u003e:\u003c/p\u003e","","\u003cli\u003e\u003cstrong\u003eVolume\u003c/strong\u003e: Multiply samples\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDistortion\u003c/strong\u003e: Make samples too big\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMixing\u003c/strong\u003e: Add samples together\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eEcho\u003c/strong\u003e: Use old samples\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFiltering\u003c/strong\u003e: Average nearby samples\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTremolo\u003c/strong\u003e: Multiply by changing numbers\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eRing Modulation\u003c/strong\u003e: Multiply by oscillating numbers\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eProgramming + Math = Any Sound Effect You Can Imagine\u003c/strong\u003e\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003ePart 3: Your First Sound Change (5 minutes)\u003c/h3\u003e","","\u003cp\u003eLet's make your first audio modification! This will prove that code changes immediately affect what you hear.\u003c/p\u003e","","\u003ch4\u003eComplete Working Example\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","extern native yield","","global array signal[2]","global array params[8]","global array displayLEDs[4]","","function process() {","    loop {","        // Read the current audio coming into Permut8","        int leftInput = signal[0];","        int rightInput = signal[1];","","        // CHANGE THE SOUND: Make it quieter using Knob 1","        int volumeKnob = params[0];  // 0-255 from hardware","        int volumeAmount = volumeKnob + 1;  // 1-256 (never zero)","","        // Apply the volume change","        signal[0] = (leftInput * volumeAmount) / 256;","        signal[1] = (rightInput * volumeAmount) / 256;","","        // Visual feedback: Show the volume on LED display","        displayLEDs[0] = volumeKnob;","","        yield();  // Send the modified audio to speakers","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eWhat This Code Does\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003eReads\u003c/strong\u003e the incoming audio samples\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eReads\u003c/strong\u003e Knob 1 position (0-255)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eCalculates\u003c/strong\u003e a volume multiplier (1-256)\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eMultiplies\u003c/strong\u003e each audio sample by the volume amount\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eShows\u003c/strong\u003e the current volume on the LED display\u003c/p\u003e","\u003cp\u003e6. \u003cstrong\u003eOutputs\u003c/strong\u003e the modified audio\u003c/p\u003e","","\u003ch4\u003eTry It!\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003eCompile\u003c/strong\u003e this code: \u003ccode\u003ePikaCmd.exe compile volume_control.impala\u003c/code\u003e\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eLoad\u003c/strong\u003e it in Permut8: \u003ccode\u003epatch volume_control.gazl\u003c/code\u003e\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003ePlay\u003c/strong\u003e some audio through Permut8\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eTurn Knob 1\u003c/strong\u003e and hear the volume change in real-time!\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eYou just modified sound with code!\u003c/strong\u003e Turn the knob left (quieter) and right (louder). The LED display shows exactly what's happening.\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eUnderstanding What Just Happened\u003c/h3\u003e","","\u003ch4\u003eThe DSP Loop\u003c/h4\u003e","","\u003cp\u003eEvery time through the \u003ccode\u003eloop\u003c/code\u003e, your code:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003eReceives\u003c/strong\u003e new audio samples (what's coming in)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eModifies\u003c/strong\u003e those samples (your effect processing)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eOutputs\u003c/strong\u003e the modified samples (what people hear)\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eRepeats\u003c/strong\u003e 44,100 times per second!\u003c/p\u003e","","\u003ch4\u003eReal-Time Processing\u003c/h4\u003e","","\u003cp\u003eThis happens \u003cstrong\u003e44,100 times every second\u003c/strong\u003e. That's why turning the knob immediately changes the sound - your code is running constantly, modifying every single audio sample as it flows through Permut8.\u003c/p\u003e","","\u003ch4\u003eFrom Simple to Complex\u003c/h4\u003e","","\u003cp\u003eThe volume control you just built uses the same fundamental principles as professional audio effects:\u003c/p\u003e","","\u003cli\u003e\u003cstrong\u003eProfessional EQ\u003c/strong\u003e: Different math for different frequencies\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProfessional Reverb\u003c/strong\u003e: Complex delay and mixing calculations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProfessional Compression\u003c/strong\u003e: Dynamic volume calculations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProfessional Distortion\u003c/strong\u003e: Controlled sample limiting and shaping\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eEvery audio effect is built from these same building blocks: reading samples, doing math, outputting results.\u003c/strong\u003e\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eKey Concepts Learned\u003c/h3\u003e","","\u003ch4\u003e1. Audio Samples Are Numbers\u003c/h4\u003e","\u003cli\u003eSound = streams of numbers flowing to speakers\u003c/li\u003e","\u003cli\u003eIn Permut8: integers from -2047 to +2047\u003c/li\u003e","\u003cli\u003eEvery number controls speaker position at one moment\u003c/li\u003e","","\u003ch4\u003e2. Code Changes = Sound Changes\u003c/h4\u003e","\u003cli\u003eMultiply samples  Volume changes\u003c/li\u003e","\u003cli\u003eAdd samples  Mixing effects\u003c/li\u003e","\u003cli\u003eLimit samples  Distortion effects\u003c/li\u003e","\u003cli\u003eDelay samples  Echo effects\u003c/li\u003e","","\u003ch4\u003e3. Real-Time Processing\u003c/h4\u003e","\u003cli\u003eYour code runs 44,100 times per second\u003c/li\u003e","\u003cli\u003eEvery sample gets processed individually\u003c/li\u003e","\u003cli\u003eChanges happen immediately when you modify code\u003c/li\u003e","","\u003ch4\u003e4. Effects Are Math\u003c/h4\u003e","\u003cli\u003eVolume = multiplication\u003c/li\u003e","\u003cli\u003eDistortion = limiting\u003c/li\u003e","\u003cli\u003eEcho = delayed addition\u003c/li\u003e","\u003cli\u003eComplex effects = combinations of simple math\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eWhat's Next?\u003c/h3\u003e","","\u003cp\u003eNow that you understand how code affects sound, you're ready for:\u003c/p\u003e","","\u003ch4\u003e**Immediate Next Steps**:\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003e[Getting Audio In and Out](getting-audio-in-and-out.md)\u003c/strong\u003e - Learn the basic I/O structure\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003e[Your First Distortion Effect](simplest-distortion.md)\u003c/strong\u003e - Build a working guitar effect\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003e[Audio Engineering for Programmers](../../../fundamentals/audio-engineering-for-programmers.md)\u003c/strong\u003e - Professional concepts\u003c/p\u003e","","\u003ch4\u003e**Advanced Learning Path**:\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003e[Control Something with Knobs](../../parameters/read-knobs.md)\u003c/strong\u003e - Hardware interface\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Complete Development Workflow](../../tutorials/complete-development-workflow.md)\u003c/strong\u003e - Professional practices\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Debug Your Plugin](../../tutorials/debug-your-plugin.md)\u003c/strong\u003e - Troubleshooting skills\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003ch4\u003e**Essential Pattern for All Effects**:\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    loop {","        // 1. Read current audio","        int input = signal[0];","","        // 2. Do some math to change it","        int output = input * someModification;","","        // 3. Send modified audio to speakers","        signal[0] = output;","","        yield();  // Repeat 44,100 times per second","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e**Remember**:\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eEvery effect\u003c/strong\u003e is just different math applied to audio samples\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCode changes\u003c/strong\u003e immediately become \u003cstrong\u003esound changes\u003c/strong\u003e\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eStart simple\u003c/strong\u003e and build complexity gradually\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eReal-time\u003c/strong\u003e means your code affects every sample as it flows through\u003c/li\u003e","","\u003cp\u003eYou now understand the fundamental relationship between programming and audio. Every professional audio effect started with these same basic concepts!\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003cp\u003e\u003cem\u003eNext: [Getting Audio In and Out](getting-audio-in-and-out.md) - Learn the foundational I/O structure for building effects\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-3\" class=\"doc-section\"\u003e","\u003ch1\u003e3. Getting Audio In And Out\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/tutorials/getting-audio-in-and-out.md\u003c/div\u003e","","\u003ch2\u003eGetting Audio In and Out - Your First Working Plugin\u003c/h2\u003e","","\u003ch3\u003eWhat This Tutorial Does\u003c/h3\u003e","\u003cp\u003eCreate the simplest possible working plugin that proves your Permut8 setup is working. In just 10 minutes, you'll have audio passing through your own custom firmware and understand the basic structure every plugin needs.\u003c/p\u003e","","\u003ch3\u003eWhat You'll Learn\u003c/h3\u003e","\u003cli\u003eEssential plugin structure that every firmware needs\u003c/li\u003e","\u003cli\u003eHow audio flows into and out of your plugin\u003c/li\u003e","\u003cli\u003eThe minimal code required for a working plugin\u003c/li\u003e","\u003cli\u003eHow to verify your development environment is working\u003c/li\u003e","\u003cli\u003eFoundation concepts for all future plugin development\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003ePrerequisites\u003c/strong\u003e: None - this is your starting point!\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTime Required\u003c/strong\u003e: 10 minutes\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eDifficulty\u003c/strong\u003e: Absolute Beginner\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 1: Understanding the Goal\u003c/h3\u003e","","\u003ch4\u003e1.1 What We're Building\u003c/h4\u003e","\u003cp\u003eA plugin that:\u003c/p\u003e","\u003cli\u003e Loads successfully into Permut8\u003c/li\u003e","\u003cli\u003e Passes audio through unchanged\u003c/li\u003e","\u003cli\u003e Proves your development environment works\u003c/li\u003e","\u003cli\u003e Gives you the foundation for all future plugins\u003c/li\u003e","","\u003ch4\u003e1.2 Success Criteria\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eWhen this tutorial is complete:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003eYou hear audio playing through your custom plugin\u003c/li\u003e","\u003cli\u003eThe audio sounds identical to the original (no changes)\u003c/li\u003e","\u003cli\u003eYou understand the basic structure every plugin needs\u003c/li\u003e","\u003cli\u003eYou're ready to start modifying and creating effects\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 2: Create Your First Plugin\u003c/h3\u003e","","\u003ch4\u003e2.1 The Absolute Minimum Code\u003c/h4\u003e","\u003cp\u003eCreate a new text file called \u003ccode\u003eaudio_passthrough.impala\u003c/code\u003e:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// My First Plugin - Audio Passthrough","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","global array signal[2]","global array params[8]","global array displayLEDs[4]","","function process()","{","    loop {","        // Audio automatically passes through - we don't need to do anything!","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e2.2 Understanding Each Line\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eLine 1: Comment\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// My First Plugin - Audio Passthrough","\u003c/code\u003e\u003c/pre\u003e","\u003cli\u003eComments start with \u003ccode\u003e//\u003c/code\u003e and help you remember what your code does\u003c/li\u003e","\u003cli\u003eAlways document your plugins for future reference\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eLine 2: Format Declaration\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","\u003c/code\u003e\u003c/pre\u003e","\u003cli\u003e\u003cstrong\u003eREQUIRED\u003c/strong\u003e - tells Permut8 this is a valid plugin\u003c/li\u003e","\u003cli\u003eMust be exactly this line in every plugin you create\u003c/li\u003e","\u003cli\u003eVersion 2 is for Permut8 v1.1 and later\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eLines 4-6: Global Variables\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array signal[2]      // Audio input and output","global array params[8]      // Knob values from hardware","global array displayLEDs[4] // LED display control","\u003c/code\u003e\u003c/pre\u003e","\u003cli\u003e\u003cstrong\u003eREQUIRED\u003c/strong\u003e - these connect your plugin to Permut8 hardware\u003c/li\u003e","\u003cli\u003e\u003ccode\u003esignal[2]\u003c/code\u003e = left and right audio channels\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[8]\u003c/code\u003e = values from 8 knobs (we'll use these later)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003edisplayLEDs[4]\u003c/code\u003e = control for LED displays (we'll use these later)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eLines 8-14: Main Processing Function\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process()","{","    loop {","        // Audio automatically passes through","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","\u003cli\u003e\u003cstrong\u003eREQUIRED\u003c/strong\u003e - this function runs continuously while your plugin is active\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eloop { }\u003c/code\u003e = infinite loop that processes audio forever\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eyield()\u003c/code\u003e = \u003cstrong\u003eCRITICAL\u003c/strong\u003e - gives control back to Permut8 after each audio sample\u003c/li\u003e","\u003cli\u003eAudio passes through automatically - you don't need to copy it manually\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 3: Compile and Test\u003c/h3\u003e","","\u003ch4\u003e3.1 Compile Your Plugin\u003c/h4\u003e","\u003cp\u003e1. Open command prompt in your Permut8 Firmware Code directory\u003c/p\u003e","\u003cp\u003e2. Type: \u003ccode\u003ePikaCmd.exe -compile audio_passthrough.impala\u003c/code\u003e\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eExpected result\u003c/strong\u003e: You should see \u003ccode\u003eaudio_passthrough.gazl\u003c/code\u003e created\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eIf compilation fails\u003c/strong\u003e: Check that you typed the code exactly as shown\u003c/p\u003e","","\u003ch4\u003e3.2 Load Into Permut8\u003c/h4\u003e","\u003cp\u003e1. Open your DAW with Permut8 loaded\u003c/p\u003e","\u003cp\u003e2. Click the \u003cstrong\u003econsole button\u003c/strong\u003e (bottom-right of Permut8 interface)\u003c/p\u003e","\u003cp\u003e3. In the console, type: \u003ccode\u003epatch audio_passthrough.gazl\u003c/code\u003e\u003c/p\u003e","\u003cp\u003e4. Press Enter\u003c/p\u003e","","\u003ch4\u003e3.3 Test Audio Passthrough\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003ePlay audio\u003c/strong\u003e through Permut8 (any audio source will work)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eExpected result\u003c/strong\u003e: You should hear the audio exactly as it was before\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eSuccess indicator\u003c/strong\u003e: Audio plays normally with no changes\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eIf no audio\u003c/strong\u003e: Check your DAW routing and Permut8 input/output settings\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003e Congratulations!\u003c/strong\u003e You just created and loaded your first custom Permut8 plugin!\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 4: Understanding What Just Happened\u003c/h3\u003e","","\u003ch4\u003e4.1 The Audio Flow\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","Audio Input  Your Plugin  Audio Output","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eBehind the scenes:\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003e1. Permut8 receives audio from your DAW\u003c/p\u003e","\u003cp\u003e2. Permut8 puts audio samples into \u003ccode\u003esignal[0]\u003c/code\u003e (left) and \u003ccode\u003esignal[1]\u003c/code\u003e (right)\u003c/p\u003e","\u003cp\u003e3. Your \u003ccode\u003eprocess()\u003c/code\u003e function runs once per audio sample\u003c/p\u003e","\u003cp\u003e4. Since you didn't change \u003ccode\u003esignal[0]\u003c/code\u003e or \u003ccode\u003esignal[1]\u003c/code\u003e, audio passes through unchanged\u003c/p\u003e","\u003cp\u003e5. Permut8 sends the audio back to your DAW\u003c/p\u003e","","\u003ch4\u003e4.2 The Real-Time Loop\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","loop {","    // This runs 44,100 times per second (at 44.1kHz sample rate)","    // Each time, it processes one audio sample","    yield()  // Give control back so next sample can be processed","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eKey concept:\u003c/strong\u003e Your plugin processes one tiny audio sample at a time, 44,100 times per second. The \u003ccode\u003eyield()\u003c/code\u003e is essential - without it, your plugin would hang and no audio would play.\u003c/p\u003e","","\u003ch4\u003e4.3 Why This Matters\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eThis simple structure is the foundation for EVERY plugin:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003eWant to make a volume control? Modify \u003ccode\u003esignal[0]\u003c/code\u003e and \u003ccode\u003esignal[1]\u003c/code\u003e before \u003ccode\u003eyield()\u003c/code\u003e\u003c/li\u003e","\u003cli\u003eWant to add delay? Store samples in a buffer before outputting them\u003c/li\u003e","\u003cli\u003eWant to add distortion? Apply math to the signal values\u003c/li\u003e","\u003cli\u003eWant LED feedback? Set values in \u003ccode\u003edisplayLEDs[]\u003c/code\u003e\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 5: Make a Simple Modification\u003c/h3\u003e","","\u003ch4\u003e5.1 Add a Volume Control\u003c/h4\u003e","\u003cp\u003eLet's prove you can modify audio. Replace your \u003ccode\u003eprocess()\u003c/code\u003e function:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process()","{","    loop {","        // Reduce volume to half (simple volume control)","        signal[0] = signal[0] / 2  // Left channel half volume","        signal[1] = signal[1] / 2  // Right channel half volume","","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e5.2 Test the Volume Control\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003eCompile\u003c/strong\u003e: \u003ccode\u003ePikaCmd.exe -compile audio_passthrough.impala\u003c/code\u003e\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eLoad\u003c/strong\u003e: \u003ccode\u003epatch audio_passthrough.gazl\u003c/code\u003e\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eExpected result\u003c/strong\u003e: Audio should now be quieter (half volume)\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eSuccess indicator\u003c/strong\u003e: Clear volume reduction while maintaining audio quality\u003c/p\u003e","","\u003ch4\u003e5.3 Understanding the Change\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","signal[0] = signal[0] / 2  // Take left audio, divide by 2, put it back","signal[1] = signal[1] / 2  // Take right audio, divide by 2, put it back","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eWhat this does:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003eReads the current audio sample from \u003ccode\u003esignal[0]\u003c/code\u003e (left channel)\u003c/li\u003e","\u003cli\u003eDivides it by 2 (making it half as loud)\u003c/li\u003e","\u003cli\u003ePuts the modified sample back into \u003ccode\u003esignal[0]\u003c/code\u003e\u003c/li\u003e","\u003cli\u003eDoes the same for the right channel\u003c/li\u003e","\u003cli\u003eAudio flows out to your DAW with reduced volume\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 6: Add LED Feedback\u003c/h3\u003e","","\u003ch4\u003e6.1 Visual Confirmation Your Plugin Is Running\u003c/h4\u003e","\u003cp\u003eAdd this line before \u003ccode\u003eyield()\u003c/code\u003e:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process()","{","    loop {","        signal[0] = signal[0] / 2","        signal[1] = signal[1] / 2","","        // Light up first LED to show plugin is active","        displayLEDs[0] = 0xFF  // 0xFF = all LEDs on in first display","","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e6.2 Test LED Feedback\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003eCompile and load\u003c/strong\u003e as before\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eExpected result\u003c/strong\u003e: First LED display should light up fully\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eSuccess indicator\u003c/strong\u003e: Visual confirmation your plugin is running\u003c/p\u003e","","\u003ch4\u003e6.3 Understanding LED Control\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","displayLEDs[0] = 0xFF  // First LED display, all 8 LEDs on","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eLED values:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003e0x00\u003c/code\u003e = all LEDs off\u003c/li\u003e","\u003cli\u003e\u003ccode\u003e0x01\u003c/code\u003e = only first LED on\u003c/li\u003e","\u003cli\u003e\u003ccode\u003e0xFF\u003c/code\u003e = all 8 LEDs on\u003c/li\u003e","\u003cli\u003e\u003ccode\u003e0x0F\u003c/code\u003e = first 4 LEDs on\u003c/li\u003e","\u003cli\u003eYou have 4 LED displays: \u003ccode\u003edisplayLEDs[0]\u003c/code\u003e through \u003ccode\u003edisplayLEDs[3]\u003c/code\u003e\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 7: Complete Working Plugin\u003c/h3\u003e","","\u003ch4\u003e7.1 Final Version with Comments\u003c/h4\u003e","\u003cp\u003eHere's your complete first plugin with full documentation:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Audio Passthrough with Volume Control - My First Plugin","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required global variables that connect to Permut8 hardware","global array signal[2]      // Audio I/O: signal[0] = left, signal[1] = right","global array params[8]      // Knob values: params[0] through params[7] (0-255 each)","global array displayLEDs[4] // LED displays: displayLEDs[0] through displayLEDs[3]","","// Main processing function - runs continuously while plugin is active","function process()","{","    loop {","        // Process audio: reduce volume to half","        signal[0] = signal[0] / 2  // Left channel volume control","        signal[1] = signal[1] / 2  // Right channel volume control","","        // Visual feedback: light up LED to show plugin is running","        displayLEDs[0] = 0xFF      // All LEDs on in first display","","        // CRITICAL: Return control to Permut8 for next audio sample","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e7.2 What You've Accomplished\u003c/h4\u003e","\u003cp\u003e \u003cstrong\u003eCreated a working plugin\u003c/strong\u003e that modifies audio in real-time\u003c/p\u003e","\u003cp\u003e \u003cstrong\u003eUnderstood the basic structure\u003c/strong\u003e every plugin needs\u003c/p\u003e","\u003cp\u003e \u003cstrong\u003eModified audio samples\u003c/strong\u003e with simple mathematical operations\u003c/p\u003e","\u003cp\u003e \u003cstrong\u003eAdded visual feedback\u003c/strong\u003e with LED control\u003c/p\u003e","\u003cp\u003e \u003cstrong\u003eVerified your development environment\u003c/strong\u003e is working correctly\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 8: What's Next\u003c/h3\u003e","","\u003ch4\u003e8.1 You Now Know\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eEssential Concepts:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003eEvery plugin needs the same basic structure\u003c/li\u003e","\u003cli\u003eAudio flows through \u003ccode\u003esignal[0]\u003c/code\u003e and \u003ccode\u003esignal[1]\u003c/code\u003e\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eyield()\u003c/code\u003e is required for real-time operation\u003c/li\u003e","\u003cli\u003eYou can modify audio with simple math\u003c/li\u003e","\u003cli\u003eLEDs provide visual feedback\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eFoundation Skills:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003eCompiling plugins with PikaCmd\u003c/li\u003e","\u003cli\u003eLoading plugins into Permut8\u003c/li\u003e","\u003cli\u003eTesting audio modifications\u003c/li\u003e","\u003cli\u003eBasic audio sample manipulation\u003c/li\u003e","","\u003ch4\u003e8.2 Ready For Next Steps\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eBuild on this foundation:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e [Make Your First Sound](make-your-first-sound.md) - Generate audio instead of just modifying it\u003c/li\u003e","\u003cli\u003e [Control Something with Knobs](control-something-with-knobs.md) - Use hardware knobs to control your effects\u003c/li\u003e","\u003cli\u003e [Light Up LEDs](light-up-leds.md) - Advanced LED patterns and feedback\u003c/li\u003e","\u003cli\u003e [Build Your First Filter](build-your-first-filter.md) - Create your first real audio effect\u003c/li\u003e","","\u003ch4\u003e8.3 Experiment Ideas\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eTry these modifications:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Different volume levels","signal[0] = signal[0] * 2    // Double volume (be careful - can be loud!)","signal[0] = signal[0] / 4    // Quarter volume","","// Mute one channel","signal[0] = 0               // Mute left channel","signal[1] = signal[1]       // Keep right channel","","// Swap left and right","int temp = signal[0]","signal[0] = signal[1]       // Left gets right audio","signal[1] = temp            // Right gets left audio","","// Different LED patterns","displayLEDs[0] = 0x01       // Only first LED","displayLEDs[0] = 0xAA       // Alternating LEDs (10101010)","displayLEDs[0] = 0x0F       // First 4 LEDs","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003e You're now ready to start creating real audio effects!\u003c/strong\u003e Every complex plugin starts with these same basic concepts - you've mastered the foundation.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-4\" class=\"doc-section\"\u003e","\u003ch1\u003e4. Simplest Distortion\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/fundamentals/simplest-distortion.md\u003c/div\u003e","","\u003ch2\u003eYour First Distortion Effect\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eFrom clean audio to guitar pedal sound in 15 minutes - Progressive distortion tutorial\u003c/em\u003e\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eWhat You'll Build\u003c/h3\u003e","","\u003cp\u003eBy the end of this tutorial, you'll have:\u003c/p\u003e","\u003cli\u003eA working distortion effect that sounds like a real guitar pedal\u003c/li\u003e","\u003cli\u003eUnderstanding of how different math creates different distortion sounds\u003c/li\u003e","\u003cli\u003eControl over distortion amount using hardware knobs\u003c/li\u003e","\u003cli\u003eFoundation for building any distortion-based effect\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003ePrerequisites\u003c/strong\u003e: [How DSP Affects Sound](how-dsp-affects-sound.md), [Getting Audio In and Out](getting-audio-in-and-out.md)\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTime\u003c/strong\u003e: 15 minutes hands-on\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eNext Tutorial\u003c/strong\u003e: [Audio Engineering for Programmers](../../../fundamentals/audio-engineering-for-programmers.md)\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eThe Journey: Clean  Harsh  Musical\u003c/h3\u003e","","\u003cp\u003eWe'll build distortion in three progressive steps:\u003c/p\u003e","","\u003cp\u003e1. \u003cstrong\u003eStep 1\u003c/strong\u003e: Basic gain boost (2 minutes) - Make it louder\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eStep 2\u003c/strong\u003e: Safe clipping (5 minutes) - Prevent harsh overload\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eStep 3\u003c/strong\u003e: Musical curves (8 minutes) - Sound like real guitar pedals\u003c/p\u003e","","\u003cp\u003eEach step builds on the previous one, so you'll always have working audio.\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 1: Basic Gain Boost (2 minutes)\u003c/h3\u003e","","\u003ch4\u003eThe Simplest Distortion\u003c/h4\u003e","","\u003cp\u003eThe most basic distortion is just \u003cstrong\u003emaking audio louder than it should be\u003c/strong\u003e:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","extern native yield","","global array signal[2]","global array params[8]","global array displayLEDs[4]","","function process() {","    loop {","        // Basic distortion: just make it louder!","        signal[0] = signal[0] * 3;  // 3x louder","        signal[1] = signal[1] * 3;  // Both channels","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eTry It Right Now\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003eCompile\u003c/strong\u003e: \u003ccode\u003ePikaCmd.exe compile basic_gain.impala\u003c/code\u003e\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eLoad\u003c/strong\u003e: \u003ccode\u003epatch basic_gain.gazl\u003c/code\u003e\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003ePlay\u003c/strong\u003e some audio and \u003cstrong\u003elisten\u003c/strong\u003e\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eWhat You'll Hear\u003c/strong\u003e: Much louder audio that starts to sound harsh and buzzy when the input is loud. This harshness IS distortion - you're hearing the audio system struggle with numbers that are too big.\u003c/p\u003e","","\u003ch4\u003eWhy This Works\u003c/h4\u003e","","\u003cli\u003e\u003cstrong\u003eQuiet parts\u003c/strong\u003e (small numbers): \u003ccode\u003e100 * 3 = 300\u003c/code\u003e  Still clean\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLoud parts\u003c/strong\u003e (big numbers): \u003ccode\u003e1000 * 3 = 3000\u003c/code\u003e  Too big! Gets automatically limited to 2047\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eThe limiting creates distortion\u003c/strong\u003e - that harsh, buzzy sound\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Insight\u003c/strong\u003e: Distortion happens when audio numbers get too big for the system to handle cleanly.\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 2: Safe Clipping (5 minutes)\u003c/h3\u003e","","\u003cp\u003eThe basic gain boost works, but it's unpredictable. Sometimes it's clean, sometimes harsh. Let's take control.\u003c/p\u003e","","\u003ch4\u003eControlled Clipping\u003c/h4\u003e","","\u003cp\u003eInstead of hoping the system limits our audio safely, \u003cstrong\u003ewe'll do the limiting ourselves\u003c/strong\u003e:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","extern native yield","","global array signal[2]","global array params[8]","global array displayLEDs[4]","","function process() {","    loop {","        // Read knob for distortion amount","        int distortionKnob = params[0];  // 0-255","        int gainAmount = 1 + (distortionKnob / 32);  // 1x to 9x gain","","        // Apply gain to both channels","        int leftGained = signal[0] * gainAmount;","        int rightGained = signal[1] * gainAmount;","","        // Safe clipping - WE control when distortion happens","        if (leftGained \u0026gt; 2047) leftGained = 2047;","        if (leftGained \u0026lt; -2047) leftGained = -2047;","        if (rightGained \u0026gt; 2047) rightGained = 2047;","        if (rightGained \u0026lt; -2047) rightGained = -2047;","","        // Output the controlled distortion","        signal[0] = leftGained;","        signal[1] = rightGained;","","        // Show distortion amount on LED","        displayLEDs[0] = distortionKnob;","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eTry the Controlled Version\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003eCompile and load\u003c/strong\u003e this new version\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eTurn Knob 1\u003c/strong\u003e from left (clean) to right (distorted)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eListen\u003c/strong\u003e to how the distortion becomes predictable and controlled\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eWhat You'll Hear\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob left\u003c/strong\u003e: Clean audio (1x gain, no clipping)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob middle\u003c/strong\u003e: Mild distortion (moderate gain, some clipping)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob right\u003c/strong\u003e: Heavy distortion (high gain, lots of clipping)\u003c/li\u003e","","\u003ch4\u003eWhy This Is Better\u003c/h4\u003e","","\u003cli\u003e\u003cstrong\u003ePredictable\u003c/strong\u003e: You control exactly when distortion starts\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSafe\u003c/strong\u003e: Never damages speakers or ears with unexpected volume spikes\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMusical\u003c/strong\u003e: Distortion amount follows your knob movements\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eVisual\u003c/strong\u003e: LED shows current distortion setting\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Insight\u003c/strong\u003e: Professional distortion effects control the clipping instead of letting it happen randomly.\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 3: Musical Curves (8 minutes)\u003c/h3\u003e","","\u003cp\u003eHard clipping sounds harsh and digital. Real guitar pedals use \u003cstrong\u003esoft clipping\u003c/strong\u003e that sounds warm and musical.\u003c/p\u003e","","\u003ch4\u003eUnderstanding Clipping Curves\u003c/h4\u003e","","\u003cp\u003eDifferent clipping shapes create different sounds:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","Hard Clipping (harsh):          Soft Clipping (warm):","     ____                            ____","    |                               /","----+----    _____|_____          /","    |              |               |","    ____           ____            ____","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eSoft Clipping Implementation\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","extern native yield","","global array signal[2]","global array params[8]","global array displayLEDs[4]","","function softClip(int input, int threshold) {","    // Soft clipping algorithm - sounds warm like tube amps","    if (input \u0026gt; threshold) {","        int excess = input - threshold;","        return threshold + (excess / 4);  // Gentle compression above threshold","    } else if (input \u0026lt; -threshold) {","        int excess = input + threshold;","        return -threshold + (excess / 4);  // Gentle compression below threshold","    } else {","        return input;  // No change in normal range","    }","}","","function process() {","    loop {","        // Distortion controls from knobs","        int driveKnob = params[0];     // 0-255: Distortion amount","        int toneKnob = params[1];      // 0-255: Clipping threshold","","        // Calculate gain (1x to 8x)","        int gainAmount = 1 + (driveKnob / 36);","","        // Calculate clipping threshold (500 to 1800)","        int clipThreshold = 500 + ((toneKnob * 1300) / 255);","","        // Process both channels","        int leftGained = signal[0] * gainAmount;","        int rightGained = signal[1] * gainAmount;","","        // Apply soft clipping for musical distortion","        int leftClipped = softClip(leftGained, clipThreshold);","        int rightClipped = softClip(rightGained, clipThreshold);","","        // Final safety clipping (just in case)","        if (leftClipped \u0026gt; 2047) leftClipped = 2047;","        if (leftClipped \u0026lt; -2047) leftClipped = -2047;","        if (rightClipped \u0026gt; 2047) rightClipped = 2047;","        if (rightClipped \u0026lt; -2047) rightClipped = -2047;","","        // Output the musical distortion","        signal[0] = leftClipped;","        signal[1] = rightClipped;","","        // Visual feedback","        displayLEDs[0] = driveKnob;      // Drive amount","        displayLEDs[1] = toneKnob;       // Tone control","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eTry Your Musical Distortion\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003eCompile and load\u003c/strong\u003e the soft clipping version\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eExperiment with both knobs\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e   - \u003cstrong\u003eKnob 1\u003c/strong\u003e (Drive): Amount of distortion\u003c/p\u003e","\u003cp\u003e   - \u003cstrong\u003eKnob 2\u003c/strong\u003e (Tone): Character of distortion\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eListen\u003c/strong\u003e for the warm, musical quality\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eWhat You'll Hear\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eLow drive\u003c/strong\u003e: Clean or very mild overdrive\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eHigh drive\u003c/strong\u003e: Rich, warm distortion like vintage tube amps\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLow tone\u003c/strong\u003e: Gentle, smooth clipping\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eHigh tone\u003c/strong\u003e: Brighter, more aggressive clipping\u003c/li\u003e","","\u003ch4\u003eWhy This Sounds Better\u003c/h4\u003e","","\u003ch5\u003e**Soft vs Hard Clipping**:\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Hard clipping (harsh, digital):","if (signal \u0026gt; 1000) signal = 1000;","","// Soft clipping (warm, musical):","if (signal \u0026gt; 1000) {","    excess = signal - 1000;","    signal = 1000 + (excess / 4);  // Gentle transition","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch5\u003e**The Magic**:\u003c/h5\u003e","\u003cli\u003e\u003cstrong\u003eHard clipping\u003c/strong\u003e: Immediate cutoff  harsh sound\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSoft clipping\u003c/strong\u003e: Gradual compression  warm sound\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eVariable threshold\u003c/strong\u003e: Different tone characters\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eGain staging\u003c/strong\u003e: Professional volume control\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eUnderstanding Your Distortion Pedal\u003c/h3\u003e","","\u003ch4\u003eWhat You Built\u003c/h4\u003e","","\u003cp\u003eYou now have a professional-quality distortion effect with:\u003c/p\u003e","","\u003cp\u003e1. \u003cstrong\u003eDrive Control\u003c/strong\u003e (Knob 1): How much distortion\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eTone Control\u003c/strong\u003e (Knob 2): Character of distortion\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eSoft Clipping\u003c/strong\u003e: Musical, warm sound\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eSafety Limiting\u003c/strong\u003e: No damage or surprises\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eVisual Feedback\u003c/strong\u003e: LED shows settings\u003c/p\u003e","","\u003ch4\u003eHow It Compares to Commercial Pedals\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eYour firmware\u003c/strong\u003e vs \u003cstrong\u003e$200 Distortion Pedal\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e \u003cstrong\u003eGain staging\u003c/strong\u003e: Professional volume control\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eSoft clipping\u003c/strong\u003e: Warm, musical distortion\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eTone shaping\u003c/strong\u003e: Variable clipping character\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eSafety features\u003c/strong\u003e: No damage or surprises\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eReal-time control\u003c/strong\u003e: Immediate response to knobs\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eYou built the core of a professional distortion pedal!\u003c/strong\u003e\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eAdvanced Variations\u003c/h3\u003e","","\u003cp\u003eNow that you understand the fundamentals, try these modifications:\u003c/p\u003e","","\u003ch4\u003e1. Asymmetrical Clipping\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Different clipping for positive and negative","if (input \u0026gt; threshold) {","    return threshold + ((input - threshold) / 4);","} else if (input \u0026lt; -threshold) {","    return -threshold + ((input + threshold) / 2);  // Different ratio!","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e2. Multiple Stages\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Run through soft clipping twice for more saturation","int stage1 = softClip(input * gain1, threshold1);","int stage2 = softClip(stage1 * gain2, threshold2);","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e3. Frequency-Dependent Distortion\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Different distortion for different frequencies","// (Requires filtering - see advanced tutorials)","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eThe Distortion Spectrum\u003c/h3\u003e","","\u003cp\u003eYou now understand how different approaches create different sounds:\u003c/p\u003e","","\u003ch4\u003e**Clean**: `signal = signal`\u003c/h4\u003e","\u003cli\u003eNo processing\u003c/li\u003e","\u003cli\u003eOriginal audio unchanged\u003c/li\u003e","","\u003ch4\u003e**Volume**: `signal = signal * gain`\u003c/h4\u003e","\u003cli\u003eLouder but clean (until clipping)\u003c/li\u003e","\u003cli\u003eLinear volume control\u003c/li\u003e","","\u003ch4\u003e**Hard Distortion**: `clamp(signal * gain, -limit, +limit)`\u003c/h4\u003e","\u003cli\u003eHarsh, digital sound\u003c/li\u003e","\u003cli\u003eImmediate cutoff\u003c/li\u003e","","\u003ch4\u003e**Soft Distortion**: `softClip(signal * gain, threshold)`\u003c/h4\u003e","\u003cli\u003eWarm, musical sound\u003c/li\u003e","\u003cli\u003eGradual compression\u003c/li\u003e","","\u003ch4\u003e**Professional Distortion**: Multiple stages + tone shaping\u003c/h4\u003e","\u003cli\u003eComplex harmonic content\u003c/li\u003e","\u003cli\u003eMusical and controllable\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eKey Concepts Learned\u003c/h3\u003e","","\u003ch4\u003e1. Distortion Is Controlled Overload\u003c/h4\u003e","\u003cli\u003eMake audio too loud  System limits it  Creates distortion\u003c/li\u003e","\u003cli\u003eControl when/how limiting happens  Control distortion character\u003c/li\u003e","","\u003ch4\u003e2. Clipping Shapes Define Sound\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eHard clipping\u003c/strong\u003e: Immediate cutoff  harsh sound\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSoft clipping\u003c/strong\u003e: Gradual compression  warm sound\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAsymmetrical\u003c/strong\u003e: Different positive/negative  unique character\u003c/li\u003e","","\u003ch4\u003e3. Professional Features\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eGain staging\u003c/strong\u003e: Control how much signal hits the distortion\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eThreshold control\u003c/strong\u003e: Adjust where distortion begins\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSafety limiting\u003c/strong\u003e: Prevent damage and surprises\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eVisual feedback\u003c/strong\u003e: Show users what's happening\u003c/li\u003e","","\u003ch4\u003e4. Real Guitar Pedal Architecture\u003c/h4\u003e","\u003cli\u003eInput gain  Soft clipping  Tone shaping  Output limiting\u003c/li\u003e","\u003cli\u003eMultiple controls for musical flexibility\u003c/li\u003e","\u003cli\u003eWarm, musical algorithms instead of harsh digital\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eWhat's Next?\u003c/h3\u003e","","\u003ch4\u003e**Immediate Next Steps**:\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003e[Audio Engineering for Programmers](../../../fundamentals/audio-engineering-for-programmers.md)\u003c/strong\u003e - Professional concepts\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003e[Waveshaper Distortion](../audio-effects/waveshaper-distortion.md)\u003c/strong\u003e - Advanced mathematical approaches\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003e[Parameter Mapping](../../parameters/parameter-mapping.md)\u003c/strong\u003e - Professional parameter design\u003c/p\u003e","","\u003ch4\u003e**Building on Distortion**:\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003e[Multi-band Compressor](../audio-effects/multi-band-compressor.md)\u003c/strong\u003e - Frequency-specific processing\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Chorus Effect](../audio-effects/chorus-effect.md)\u003c/strong\u003e - Modulation-based effects\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Complete Development Workflow](../../tutorials/complete-development-workflow.md)\u003c/strong\u003e - Professional practices\u003c/li\u003e","","\u003ch4\u003e**Advanced Distortion**:\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003e[Optimization Basics](../../../performance/optimization-basics.md)\u003c/strong\u003e - Performance improvement\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Advanced Memory Management](../../../advanced/advanced-memory-management.md)\u003c/strong\u003e - Complex algorithms\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003ch4\u003e**Basic Distortion Pattern**:\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// 1. Control input gain","int gained = signal[0] * gainAmount;","","// 2. Apply clipping algorithm","int clipped = softClip(gained, threshold);","","// 3. Safety limiting","if (clipped \u0026gt; 2047) clipped = 2047;","if (clipped \u0026lt; -2047) clipped = -2047;","","// 4. Output result","signal[0] = clipped;","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e**Soft Clipping Function**:\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function softClip(int input, int threshold) {","    if (input \u0026gt; threshold) {","        return threshold + ((input - threshold) / compressionRatio);","    } else if (input \u0026lt; -threshold) {","        return -threshold + ((input + threshold) / compressionRatio);","    }","    return input;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e**Professional Controls**:\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eDrive/Gain\u003c/strong\u003e: How much signal hits the distortion\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTone/Threshold\u003c/strong\u003e: Where and how distortion begins\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eOutput Level\u003c/strong\u003e: Final volume control\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSafety Limiting\u003c/strong\u003e: Prevent damage\u003c/li\u003e","","\u003cp\u003eYou now understand the fundamentals of distortion and have built a professional-quality effect! This knowledge applies to all overdrive, distortion, and saturation effects.\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003cp\u003e\u003cem\u003eNext: [Audio Engineering for Programmers](../../../fundamentals/audio-engineering-for-programmers.md) - Essential audio concepts in programming terms\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-5\" class=\"doc-section\"\u003e","\u003ch1\u003e5. Audio Engineering For Programmers\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/fundamentals/audio-engineering-for-programmers.md\u003c/div\u003e","","\u003ch2\u003eAudio Engineering Concepts for Programmers\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eEssential audio knowledge explained in programming terms - Bridge tutorial for developers (25 minutes)\u003c/em\u003e\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eWhat You'll Learn\u003c/h3\u003e","","\u003cp\u003eThis tutorial translates essential audio engineering concepts into programming language, giving you the professional foundation needed for quality audio development:\u003c/p\u003e","","\u003cli\u003e\u003cstrong\u003eGain compensation\u003c/strong\u003e (like auto-scaling algorithms)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eParameter smoothing\u003c/strong\u003e (like interpolation techniques)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDynamic range management\u003c/strong\u003e (like data type overflow handling)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProfessional audio practices\u003c/strong\u003e (like defensive programming for audio)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003ePrerequisites\u003c/strong\u003e: [How DSP Affects Sound](../user-guides/cookbook/fundamentals/how-dsp-affects-sound.md), [Your First Distortion Effect](../user-guides/cookbook/fundamentals/simplest-distortion.md)\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTime\u003c/strong\u003e: 25 minutes reading + hands-on examples\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eNext Tutorial\u003c/strong\u003e: [Waveshaper Distortion](../user-guides/cookbook/audio-effects/waveshaper-distortion.md)\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eAudio Engineering vs Programming: The Translation\u003c/h3\u003e","","\u003cp\u003eAs a programmer, you already understand many audio engineering concepts - you just don't know the audio terminology yet. This tutorial bridges that gap.\u003c/p\u003e","","\u003cp\u003e| Audio Engineering Term | Programming Equivalent | What It Means |\u003c/p\u003e","\u003cp\u003e|------------------------|------------------------|---------------|\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eGain Compensation\u003c/strong\u003e | Auto-scaling algorithm | Keep output volume consistent when processing changes |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eParameter Smoothing\u003c/strong\u003e | Value interpolation | Prevent clicks when values change suddenly |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eDynamic Range\u003c/strong\u003e | Data type range limits | Available \"space\" between quietest and loudest sounds |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eHeadroom\u003c/strong\u003e | Buffer space | Safety margin before clipping/overflow |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eSignal-to-Noise Ratio\u003c/strong\u003e | Useful data vs garbage | Quality of audio vs unwanted artifacts |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eFrequency Response\u003c/strong\u003e | Filter characteristics | How processing affects different frequencies |\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eConcept 1: Gain Compensation (Like Auto-Scaling)\u003c/h3\u003e","","\u003ch4\u003eThe Programming Problem\u003c/h4\u003e","","\u003cp\u003eImagine you have a function that processes arrays of numbers, but the processing makes the output unpredictably louder or quieter:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-javascript\"\u003e","// This processing function changes the output level unpredictably","function processData(input) {","    let processed = input.map(x =\u0026gt; complexAlgorithm(x));","    // Sometimes output is 2x bigger, sometimes 0.5x smaller!","    return processed;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eThis is exactly what happens with audio effects - they change volume as a side effect.\u003c/p\u003e","","\u003ch4\u003eThe Audio Engineering Solution\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eGain compensation\u003c/strong\u003e automatically adjusts the output level to match the input level:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","extern native yield","","global array signal[2]","global array params[8]","global array displayLEDs[4]","","function process() {","    loop {","        // Original input level","        int inputLevel = signal[0];","","        // Apply some effect that changes volume","        int distortionAmount = params[0] / 32;  // 0-7","        int processed = inputLevel * distortionAmount;","","        // GAIN COMPENSATION: Auto-scale back to original level","        int compensatedGain = 256 / (distortionAmount + 1);  // Inverse scaling","        int compensated = (processed * compensatedGain) / 256;","","        // Result: Effect applied but volume stays consistent","        signal[0] = compensated;","        signal[1] = compensated;  // Same for right channel","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eWhy This Matters\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eWithout gain compensation\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eUser turns up distortion  Audio gets louder  User thinks \"more distortion = better\"\u003c/li\u003e","\u003cli\u003eCreates false perception of quality improvement\u003c/li\u003e","\u003cli\u003eProfessional audio engineers immediately recognize amateur work\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eWith gain compensation\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eUser hears only the tonal change, not volume change\u003c/li\u003e","\u003cli\u003eCan make accurate judgments about effect quality\u003c/li\u003e","\u003cli\u003eSounds professional and predictable\u003c/li\u003e","","\u003ch4\u003eReal-World Example: Compressor with Makeup Gain\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int previousLevel = 0;","","function process() {","    loop {","        int input = signal[0];","        int compressionRatio = params[0];  // 0-255","","        // Compression reduces loud signals","        int compressed;","        if (input \u0026gt; 1000) {","            int excess = input - 1000;","            compressed = 1000 + (excess / (compressionRatio / 64 + 1));","        } else {","            compressed = input;","        }","","        // MAKEUP GAIN: Compensate for volume reduction","        int makeupGain = 1 + (compressionRatio / 128);","        int final = (compressed * makeupGain);","","        // Safety clipping","        if (final \u0026gt; 2047) final = 2047;","        if (final \u0026lt; -2047) final = -2047;","","        signal[0] = final;","        signal[1] = final;","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eConcept 2: Parameter Smoothing (Like Interpolation)\u003c/h3\u003e","","\u003ch4\u003eThe Programming Problem\u003c/h4\u003e","","\u003cp\u003eImagine updating a variable that controls critical real-time behavior:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-javascript\"\u003e","let criticalValue = 100;","","function updateValue(newValue) {","    criticalValue = newValue;  // SUDDEN CHANGE!","    // This could cause glitches in real-time systems","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eIn audio, sudden parameter changes create audible clicks and pops.\u003c/p\u003e","","\u003ch4\u003eThe Audio Engineering Solution\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eParameter smoothing\u003c/strong\u003e gradually transitions between values:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","extern native yield","","global array signal[2]","global array params[8]","global array displayLEDs[4]","","// Smoothed parameter storage","global int smoothedVolume = 128;","global int smoothedFilter = 128;","","function process() {","    loop {","        // Read current knob positions","        int targetVolume = params[0];    // 0-255","        int targetFilter = params[1];    // 0-255","","        // PARAMETER SMOOTHING: Gradually approach target values","        // Like interpolation: current = current + (target - current) / speed","        smoothedVolume = smoothedVolume + ((targetVolume - smoothedVolume) / 8);","        smoothedFilter = smoothedFilter + ((targetFilter - smoothedFilter) / 16);","","        // Use smoothed values for processing","        int volume = smoothedVolume;","        int filterAmount = smoothedFilter;","","        // Apply smoothed parameters","        int processed = (signal[0] * volume) / 255;","","        // Simple filter using smoothed parameter","        processed = (processed + (signal[0] * filterAmount / 255)) / 2;","","        signal[0] = processed;","        signal[1] = processed;","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eWhy This Matters\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eWithout parameter smoothing\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eTurn knob quickly  Hear clicks and pops\u003c/li\u003e","\u003cli\u003eSounds unprofessional and jarring\u003c/li\u003e","\u003cli\u003eCan damage speakers with sudden volume changes\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eWith parameter smoothing\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eKnob changes sound smooth and musical\u003c/li\u003e","\u003cli\u003eNo artifacts from parameter changes\u003c/li\u003e","\u003cli\u003eProfessional, polished feel\u003c/li\u003e","","\u003ch4\u003eAdvanced Smoothing Techniques\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Different smoothing speeds for different parameters","global int smoothedGain = 0;","global int smoothedFreq = 1000;","","function process() {","    loop {","        int targetGain = params[0];","        int targetFreq = params[1] * 20;  // 0-5100 Hz range","","        // FAST smoothing for gain (immediate response)","        smoothedGain = smoothedGain + ((targetGain - smoothedGain) / 4);","","        // SLOW smoothing for frequency (musical sweeps)","        smoothedFreq = smoothedFreq + ((targetFreq - smoothedFreq) / 32);","","        // Use appropriately smoothed values...","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eConcept 3: Dynamic Range Management (Like Data Type Limits)\u003c/h3\u003e","","\u003ch4\u003eThe Programming Problem\u003c/h4\u003e","","\u003cp\u003eEvery data type has limits:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-c\"\u003e","int8_t  small_int = 127;    // Max value: 127","int16_t medium_int = 32767; // Max value: 32767","int32_t large_int = 2147483647; // Max value: huge","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eAudio has similar limits, and managing them is critical for quality.\u003c/p\u003e","","\u003ch4\u003eAudio Dynamic Range\u003c/h4\u003e","","\u003cp\u003eIn Permut8, audio samples range from \u003cstrong\u003e-2047 to +2047\u003c/strong\u003e:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","-2047  QUIETEST POSSIBLE  0  LOUDEST POSSIBLE  +2047","   |                             |                           |","Negative                     Silence                    Positive"," peak                                                    peak","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eThis range is your \u003cstrong\u003edynamic range\u003c/strong\u003e - the \"space\" available for audio.\u003c/p\u003e","","\u003ch4\u003eProfessional Dynamic Range Management\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","extern native yield","","global array signal[2]","global array params[8]","global array displayLEDs[4]","","function process() {","    loop {","        int input = signal[0];","        int effectAmount = params[0];  // 0-255","","        // HEADROOM MANAGEMENT: Keep some \"space\" for processing","        int workingLevel = (input * 80) / 100;  // Use only 80% of range","","        // Apply effect in the \"safe zone\"","        int processed = workingLevel + (effectAmount * 4);","","        // DYNAMIC RANGE OPTIMIZATION: Use the full range efficiently","        int optimized = (processed * 120) / 100;  // Expand back to use full range","","        // SAFETY LIMITING: Never exceed the limits","        if (optimized \u0026gt; 2047) optimized = 2047;","        if (optimized \u0026lt; -2047) optimized = -2047;","","        signal[0] = optimized;","        signal[1] = optimized;","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eWhy This Matters\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003ePoor dynamic range management\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eQuiet signals get lost in the noise floor\u003c/li\u003e","\u003cli\u003eLoud signals clip and distort\u003c/li\u003e","\u003cli\u003eLimited \"space\" for effect processing\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eProfessional dynamic range management\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eFull use of available audio quality\u003c/li\u003e","\u003cli\u003eClean, clear sound at all levels\u003c/li\u003e","\u003cli\u003eRoom for complex processing without distortion\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eConcept 4: Signal-to-Noise Ratio (Like Clean Code vs Technical Debt)\u003c/h3\u003e","","\u003ch4\u003eThe Programming Analogy\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-javascript\"\u003e","// High \"signal-to-noise\" code - clean and purposeful","function calculateInterest(principal, rate, time) {","    return principal * rate * time;","}","","// Low \"signal-to-noise\" code - useful logic buried in noise","function calculateInterest(principal, rate, time) {","    let temp1 = principal;","    let temp2 = rate;","    let temp3 = time;","    let debug1 = \"calculating...\";","    console.log(debug1);","    let intermediate = temp1 * temp2;","    let temp4 = intermediate * temp3;","    let noise = Math.random() * 0.001; // Unnecessary noise!","    return temp4 + noise;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eAudio Signal-to-Noise Ratio\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eSignal\u003c/strong\u003e = the audio you want to hear\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eNoise\u003c/strong\u003e = unwanted artifacts, hiss, clicks, distortion\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    loop {","        int desiredSignal = signal[0];","","        // HIGH SIGNAL-TO-NOISE processing:","        int cleanResult = desiredSignal * 2;","","        // LOW SIGNAL-TO-NOISE processing:","        int noisyResult = desiredSignal * 2;","        noisyResult += (noisyResult % 3);  // Adds digital artifacts!","        noisyResult += 5;                  // Adds constant noise!","","        // Use the clean version","        signal[0] = cleanResult;","        signal[1] = cleanResult;","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMaximizing Signal-to-Noise Ratio\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// GOOD: Clean, predictable processing","int processed = (input * gain) / 256;","","// BAD: Introduces noise and artifacts","int processed = (input * gain) / 255;  // Creates rounding errors","processed += (processed % 2);          // Adds digital noise","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eConcept 5: Professional Audio Patterns\u003c/h3\u003e","","\u003ch4\u003ePattern 1: Input Validation (Like Defensive Programming)\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function safeBounds(int value, int min, int max) {","    if (value \u0026gt; max) return max;","    if (value \u0026lt; min) return min;","    return value;","}","","function process() {","    loop {","        // ALWAYS validate input before processing","        int input = safeBounds(signal[0], -2047, 2047);","","        // ALWAYS validate parameters","        int gain = safeBounds(params[0], 0, 255);","","        // Process with validated data","        int result = (input * gain) / 255;","","        // ALWAYS validate output","        signal[0] = safeBounds(result, -2047, 2047);","        signal[1] = safeBounds(result, -2047, 2047);","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003ePattern 2: Graceful Degradation\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    loop {","        int input = signal[0];","        int complexEffect = params[0];","","        if (complexEffect \u0026lt; 10) {","            // Simple processing for low values","            signal[0] = input;  // Pass through","        } else if (complexEffect \u0026lt; 128) {","            // Medium complexity","            signal[0] = input * 2;","        } else {","            // Full complexity only when needed","            signal[0] = complexProcessing(input);","        }","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003ePattern 3: Predictable Behavior\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// GOOD: Predictable, linear response","int volume = (knobValue * maxVolume) / 255;","","// BAD: Unpredictable, exponential jumps","int volume = knobValue * knobValue * knobValue;","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eReal-World Application: Professional Distortion\u003c/h3\u003e","","\u003cp\u003eLet's apply all these concepts to create professional-quality distortion:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","extern native yield","","global array signal[2]","global array params[8]","global array displayLEDs[4]","","// Smoothed parameters","global int smoothedDrive = 128;","global int smoothedTone = 128;","global int smoothedLevel = 255;","","function safeBounds(int value, int min, int max) {","    if (value \u0026gt; max) return max;","    if (value \u0026lt; min) return min;","    return value;","}","","function softClip(int input, int threshold) {","    if (input \u0026gt; threshold) {","        int excess = input - threshold;","        return threshold + (excess / 3);  // Gentle compression","    } else if (input \u0026lt; -threshold) {","        int excess = input + threshold;","        return -threshold + (excess / 3);","    }","    return input;","}","","function process() {","    loop {","        // INPUT VALIDATION","        int input = safeBounds(signal[0], -2047, 2047);","","        // PARAMETER SMOOTHING","        smoothedDrive = smoothedDrive + ((params[0] - smoothedDrive) / 8);","        smoothedTone = smoothedTone + ((params[1] - smoothedTone) / 16);","        smoothedLevel = smoothedLevel + ((params[2] - smoothedLevel) / 8);","","        // HEADROOM MANAGEMENT","        int workingSignal = (input * 80) / 100;  // Leave headroom","","        // DRIVE STAGE with gain compensation awareness","        int driveAmount = 1 + (smoothedDrive / 32);  // 1-8x","        int driven = workingSignal * driveAmount;","","        // TONE-CONTROLLED CLIPPING","        int clipThreshold = 300 + ((smoothedTone * 1200) / 255);","        int clipped = softClip(driven, clipThreshold);","","        // GAIN COMPENSATION","        int compensationGain = 256 / driveAmount;  // Inverse of drive gain","        int compensated = (clipped * compensationGain) / 256;","","        // OUTPUT LEVEL with dynamic range optimization","        int final = (compensated * smoothedLevel) / 255;","","        // FINAL SAFETY LIMITING","        final = safeBounds(final, -2047, 2047);","","        // STEREO OUTPUT","        signal[0] = final;","        signal[1] = final;","","        // VISUAL FEEDBACK","        displayLEDs[0] = smoothedDrive / 4;   // Drive level","        displayLEDs[1] = smoothedTone / 4;    // Tone setting","        displayLEDs[2] = smoothedLevel / 4;   // Output level","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eThis example demonstrates \u003cstrong\u003eevery professional audio engineering concept\u003c/strong\u003e:\u003c/p\u003e","","\u003cp\u003e1. \u003cstrong\u003eInput validation\u003c/strong\u003e - Safe bounds checking\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eParameter smoothing\u003c/strong\u003e - No clicks or pops\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eHeadroom management\u003c/strong\u003e - Leaves space for processing\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eGain compensation\u003c/strong\u003e - Consistent output level\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eDynamic range optimization\u003c/strong\u003e - Full use of available quality\u003c/p\u003e","\u003cp\u003e6. \u003cstrong\u003eGraceful behavior\u003c/strong\u003e - Predictable responses\u003c/p\u003e","\u003cp\u003e7. \u003cstrong\u003eSafety limiting\u003c/strong\u003e - Never damages equipment\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eKey Concepts Summary\u003c/h3\u003e","","\u003ch4\u003eFor Programmers Learning Audio\u003c/h4\u003e","","\u003cp\u003e| When you see... | Think... | Programming equivalent |\u003c/p\u003e","\u003cp\u003e|-----------------|----------|----------------------|\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eGain\u003c/strong\u003e | Volume multiplier | Scaling factor |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eClipping\u003c/strong\u003e | Value limiting | Bounds checking |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eHeadroom\u003c/strong\u003e | Safety margin | Buffer space |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eSmoothing\u003c/strong\u003e | Gradual changes | Interpolation |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eCompensation\u003c/strong\u003e | Auto-correction | Inverse scaling |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eDynamic Range\u003c/strong\u003e | Available precision | Data type range |\u003c/p\u003e","","\u003ch4\u003eProfessional Audio Development Checklist\u003c/h4\u003e","","\u003cli\u003e \u003cstrong\u003eValidate all inputs\u003c/strong\u003e (defensive programming)\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eSmooth parameter changes\u003c/strong\u003e (no clicks/pops)\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eManage dynamic range\u003c/strong\u003e (use full quality range)\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eImplement gain compensation\u003c/strong\u003e (consistent levels)\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003ePlan for headroom\u003c/strong\u003e (safety margins)\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eLimit outputs safely\u003c/strong\u003e (prevent damage)\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eProvide visual feedback\u003c/strong\u003e (show what's happening)\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eWhat's Next?\u003c/h3\u003e","","\u003ch4\u003e**Immediate Applications**:\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003e[Waveshaper Distortion](../user-guides/cookbook/audio-effects/waveshaper-distortion.md)\u003c/strong\u003e - Apply these concepts to advanced distortion\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003e[Parameter Mapping](../user-guides/cookbook/parameters/parameter-mapping.md)\u003c/strong\u003e - Professional parameter design\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003e[Compressor Basic](../user-guides/cookbook/audio-effects/compressor-basic.md)\u003c/strong\u003e - Dynamic range processing\u003c/p\u003e","","\u003ch4\u003e**Professional Development**:\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003e[Complete Development Workflow](../user-guides/tutorials/complete-development-workflow.md)\u003c/strong\u003e - Professional practices\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Debug Your Plugin](../user-guides/tutorials/debug-your-plugin.md)\u003c/strong\u003e - Systematic troubleshooting\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Optimization Basics](../performance/optimization-basics.md)\u003c/strong\u003e - Performance improvement\u003c/li\u003e","","\u003ch4\u003e**Advanced Audio Engineering**:\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003e[Memory Patterns](../performance/memory-patterns.md)\u003c/strong\u003e - Efficient audio memory management\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Real-time Safety](../advanced/real-time-safety.md)\u003c/strong\u003e - Professional real-time programming\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Advanced Memory Management](../advanced/advanced-memory-management.md)\u003c/strong\u003e - Complex audio systems\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003ch4\u003e**Professional Audio Processing Pattern**:\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// 1. Validate inputs","int input = safeBounds(signal[0], -2047, 2047);","","// 2. Smooth parameters","smoothedParam = smoothedParam + ((targetParam - smoothedParam) / rate);","","// 3. Manage headroom","int working = (input * 80) / 100;","","// 4. Apply effect","int processed = effectAlgorithm(working, smoothedParam);","","// 5. Compensate gain if needed","int compensated = (processed * compensationFactor) / 256;","","// 6. Optimize dynamic range","int optimized = (compensated * expansionFactor) / 256;","","// 7. Safety limit","signal[0] = safeBounds(optimized, -2047, 2047);","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e**Essential Functions Every Audio Programmer Needs**:\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function safeBounds(int value, int min, int max)","function smoothParameter(int current, int target, int rate)","function compensateGain(int signal, int gainReduction)","function softLimit(int signal, int threshold)","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eYou now understand the essential audio engineering concepts needed for professional audio development. These patterns apply to all audio effects and will make your plugins sound polished and professional.\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003cp\u003e\u003cem\u003eNext: [Waveshaper Distortion](../user-guides/cookbook/audio-effects/waveshaper-distortion.md) - Apply these concepts to advanced mathematical distortion techniques\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-6\" class=\"doc-section\"\u003e","\u003ch1\u003e6. Mod Vs Full Architecture Guide\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/tutorials/mod-vs-full-architecture-guide.md\u003c/div\u003e","","\u003ch2\u003eMod vs Full Patch Architecture Decision Guide\u003c/h2\u003e","","\u003cp\u003e\u003cstrong\u003eChoose the right firmware architecture for your project\u003c/strong\u003e\u003c/p\u003e","","\u003cp\u003eOne of the most important decisions in Permut8 firmware development is choosing between \u003cstrong\u003eMod patches\u003c/strong\u003e and \u003cstrong\u003eFull patches\u003c/strong\u003e. This choice affects everything from development complexity to performance characteristics. This guide will help you make the right architectural decision for your specific project.\u003c/p\u003e","","\u003ch3\u003eWhat You'll Learn\u003c/h3\u003e","","\u003cp\u003eBy the end of this guide, you'll understand:\u003c/p\u003e","\u003cli\u003eThe fundamental differences between Mod and Full patches\u003c/li\u003e","\u003cli\u003eWhen to choose each architecture type\u003c/li\u003e","\u003cli\u003eTrade-offs and limitations of each approach\u003c/li\u003e","\u003cli\u003eHow to implement each type correctly\u003c/li\u003e","\u003cli\u003eMigration strategies between architectures\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003ePrerequisites\u003c/strong\u003e: [Understanding Impala Language Fundamentals](understanding-impala-fundamentals.md)\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTime Required\u003c/strong\u003e: 30-45 minutes\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eDifficulty\u003c/strong\u003e: Beginner to Intermediate\u003c/p\u003e","","\u003ch3\u003eChapter 1: Understanding the Two Architectures\u003c/h3\u003e","","\u003ch4\u003eFull Patches: Complete Audio Processing Chain\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eFull patches\u003c/strong\u003e replace Permut8's entire audio processing chain with your custom code.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === FULL PATCH EXAMPLE ===","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required globals for Full patches","global array signal[2]          // Direct audio I/O","global array params[PARAM_COUNT]","global array displayLEDs[4]","","function process()","{","    loop {","        // YOU control the entire audio path","        int inputLeft = global signal[0]    // Raw input","        int inputRight = global signal[1]","","        // Your complete effect processing","        int outputLeft = processMyEffect(inputLeft)","        int outputRight = processMyEffect(inputRight)","","        // Direct output to hardware","        global signal[0] = outputLeft","        global signal[1] = outputRight","","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eKey Characteristics\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eComplete control\u003c/strong\u003e over audio processing\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDirect hardware access\u003c/strong\u003e to audio inputs/outputs\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eNo Permut8 built-in effects\u003c/strong\u003e - you implement everything\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eHigher complexity\u003c/strong\u003e but maximum flexibility\u003c/li\u003e","","\u003ch4\u003eMod Patches: Operator Replacement\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eMod patches\u003c/strong\u003e replace one or both of Permut8's built-in operators while keeping the rest of the processing chain intact.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === MOD PATCH EXAMPLE ===","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required globals for Mod patches","global array positions[2]       // Memory position I/O","global array params[PARAM_COUNT]","global array displayLEDs[4]","","// Replace Operator 1 with custom processing","function operate1()","returns int processed","locals array inputSamples[2], array outputSamples[2]","{","    // Read from memory positions","    read(global positions[0], 1, inputSamples)","","    // Your operator processing","    outputSamples[0] = processMyOperator(inputSamples[0])","    outputSamples[1] = inputSamples[1]  // Pass through right channel","","    // Write back to memory","    write(global positions[0], 1, outputSamples)","","    return 1  // Indicate we processed the audio","}","","// Optionally replace Operator 2 as well","function operate2()","returns int processed","{","    // Similar processing for second operator","    return 1","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eKey Characteristics\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eIntegrates with Permut8's chain\u003c/strong\u003e - delay, feedback, etc. still work\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMemory-based I/O\u003c/strong\u003e instead of direct audio\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLower complexity\u003c/strong\u003e - focus on your specific operator\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLimited scope\u003c/strong\u003e but easier development\u003c/li\u003e","","\u003ch3\u003eChapter 2: Decision Matrix\u003c/h3\u003e","","\u003ch4\u003eChoose Full Patch When:\u003c/h4\u003e","","\u003ch5\u003e **Complete Effect Replacement**\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Example: Custom reverb that needs total control","function process()","{","    loop {","        // Complex reverb algorithm needs entire audio path","        int wet = calculateReverb(global signal[0])","        int dry = global signal[0] * dryLevel / 1000","        global signal[0] = wet + dry","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eUse Cases\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eReverbs, delays, and time-based effects\u003c/li\u003e","\u003cli\u003eMulti-band processors (EQ, compressor)\u003c/li\u003e","\u003cli\u003eSynthesizers and tone generators\u003c/li\u003e","\u003cli\u003eComplex routing and mixing\u003c/li\u003e","\u003cli\u003eSpectral processing (FFT-based effects)\u003c/li\u003e","","\u003ch5\u003e **Performance-Critical Applications**\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Direct audio access = lowest latency","function process()","{","    loop {","        // No memory read/write overhead","        global signal[0] = fastProcessing(global signal[0])","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch5\u003e **Hardware Integration Focus**\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Direct control over audio hardware","function process()","{","    loop {","        // Custom sample rate handling","        // Direct LED control synchronized with audio","        // Custom clock domain management","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eChoose Mod Patch When:\u003c/h4\u003e","","\u003ch5\u003e **Operator-Style Effects**\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Example: Bitcrusher that fits perfectly as an operator","function operate1()","returns int processed","locals array samples[2], int crushed","{","    read(global positions[0], 1, samples)","","    // Bitcrush processing","    crushed = samples[0] \u0026amp; crushMask  // Simple bit reduction","    samples[0] = crushed","","    write(global positions[0], 1, samples)","    return 1","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eUse Cases\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eDistortion and waveshaping\u003c/li\u003e","\u003cli\u003eBit manipulation effects\u003c/li\u003e","\u003cli\u003eSimple filters and EQ\u003c/li\u003e","\u003cli\u003eAmplitude modulation\u003c/li\u003e","\u003cli\u003eRing modulation\u003c/li\u003e","","\u003ch5\u003e **Integration with Permut8 Features**\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Your operator + Permut8's delay/feedback = complex result","function operate1()","returns int processed","{","    // Your processing gets automatic:","    // - Delay line integration","    // - Feedback control","    // - Clock synchronization","    // - Parameter mapping","    return 1","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch5\u003e **Rapid Prototyping**\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Quick idea testing - minimal boilerplate","function operate1()","returns int processed","locals array samples[2]","{","    read(global positions[0], 1, samples)","    samples[0] = experimentalProcess(samples[0])  // Test your idea","    write(global positions[0], 1, samples)","    return 1","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 3: Detailed Comparison\u003c/h3\u003e","","\u003ch4\u003eDevelopment Complexity\u003c/h4\u003e","","\u003cp\u003e| Aspect | Full Patch | Mod Patch |\u003c/p\u003e","\u003cp\u003e|--------|------------|-----------|\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eBoilerplate Code\u003c/strong\u003e | Moderate | Minimal |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eAudio I/O\u003c/strong\u003e | Direct \u003ccode\u003esignal[]\u003c/code\u003e access | Memory \u003ccode\u003eread()\u003c/code\u003e/\u003ccode\u003ewrite()\u003c/code\u003e |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eParameter Handling\u003c/strong\u003e | Manual mapping | Automatic integration |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eLED Control\u003c/strong\u003e | Manual implementation | Automatic integration |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eClock/Timing\u003c/strong\u003e | Manual management | Automatic synchronization |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eError Handling\u003c/strong\u003e | Your responsibility | Permut8 handles framework |\u003c/p\u003e","","\u003ch4\u003ePerformance Characteristics\u003c/h4\u003e","","\u003cp\u003e| Aspect | Full Patch | Mod Patch |\u003c/p\u003e","\u003cp\u003e|--------|------------|-----------|\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eLatency\u003c/strong\u003e | Lowest (direct audio) | Slightly higher (memory access) |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eCPU Usage\u003c/strong\u003e | Your algorithm only | Your algorithm + framework |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eMemory Access\u003c/strong\u003e | Direct signal arrays | Memory read/write operations |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eReal-time Safety\u003c/strong\u003e | Your responsibility | Framework assistance |\u003c/p\u003e","","\u003ch4\u003eFeature Integration\u003c/h4\u003e","","\u003cp\u003e| Feature | Full Patch | Mod Patch |\u003c/p\u003e","\u003cp\u003e|---------|------------|-----------|\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eDelay Lines\u003c/strong\u003e | Manual implementation | Automatic integration |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eFeedback\u003c/strong\u003e | Manual routing | Built-in feedback paths |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eParameter Smoothing\u003c/strong\u003e | Manual implementation | Framework handles |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003ePreset System\u003c/strong\u003e | Manual state management | Automatic state handling |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eMIDI Integration\u003c/strong\u003e | Manual implementation | Framework integration |\u003c/p\u003e","","\u003ch3\u003eChapter 4: Implementation Patterns\u003c/h3\u003e","","\u003ch4\u003eFull Patch Implementation Pattern\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === COMPLETE FULL PATCH TEMPLATE ===","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required globals","global array signal[2]","global array params[PARAM_COUNT]","global array displayLEDs[4]","global int clock","","// Your effect state","global int effectState = 0","global array effectMemory[1024]","","// Optional: Initialize your effect","function init()","{","    global effectState = 0","    // Initialize effect memory, lookup tables, etc.","}","","// Optional: Handle parameter changes","function update()","{","    // Map params[0-7] to your effect parameters","    // Update LED displays","    // Recalculate coefficients, etc.","}","","// Optional: Handle reset","function reset()","{","    global effectState = 0","    // Reset effect to initial state","}","","// Required: Main audio processing","function process()","locals int inputL, int inputR, int outputL, int outputR","{","    loop {","        // Get input","        inputL = global signal[0]","        inputR = global signal[1]","","        // Your effect processing","        outputL = processEffect(inputL, 0)  // Left channel","        outputR = processEffect(inputR, 1)  // Right channel","","        // Set output","        global signal[0] = outputL","        global signal[1] = outputR","","        yield()","    }","}","","// Your effect implementation","function processEffect(int input, int channel)","returns int output","{","    // Your algorithm here","    output = input  // Placeholder","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMod Patch Implementation Pattern\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === COMPLETE MOD PATCH TEMPLATE ===","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required globals for Mod patches","global array positions[2]","global array params[PARAM_COUNT]","global array displayLEDs[4]","","// Your operator state","global int operatorState = 0","","// Optional: Initialize","function init()","{","    global operatorState = 0","}","","// Optional: Handle parameter changes","function update()","{","    // Parameters automatically mapped by framework","    // Focus on your operator-specific parameters","}","","// Required: Implement operator 1","function operate1()","returns int processed","locals array samples[2], int position","{","    // Get memory position from framework","    position = global positions[0]","","    // Read audio from memory","    read(position, 1, samples)","","    // Your operator processing","    samples[0] = processOperator(samples[0])","    samples[1] = processOperator(samples[1])","","    // Write back to memory","    write(position, 1, samples)","","    return 1  // Signal that we processed the audio","}","","// Optional: Implement operator 2","function operate2()","returns int processed","{","    // Similar to operate1, but for second operator slot","    // Can be different algorithm or same with different parameters","    return 1","}","","// Your operator implementation","function processOperator(int input)","returns int output","{","    // Your algorithm here","    output = input  // Placeholder","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 5: Migration Strategies\u003c/h3\u003e","","\u003ch4\u003eFrom Mod Patch to Full Patch\u003c/h4\u003e","","\u003cp\u003eWhen your Mod patch outgrows the operator model:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Original Mod patch operator","function operate1()","returns int processed","locals array samples[2]","{","    read(global positions[0], 1, samples)","    samples[0] = complexEffect(samples[0])","    write(global positions[0], 1, samples)","    return 1","}","","// Migrated to Full patch","function process()","{","    loop {","        // Direct audio access","        global signal[0] = complexEffect(global signal[0])","        global signal[1] = complexEffect(global signal[1])","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eMigration Checklist\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e Change \u003ccode\u003eglobal array positions[2]\u003c/code\u003e to \u003ccode\u003eglobal array signal[2]\u003c/code\u003e\u003c/li\u003e","\u003cli\u003e Replace \u003ccode\u003eoperate1()\u003c/code\u003e with \u003ccode\u003eprocess()\u003c/code\u003e + \u003ccode\u003eloop\u003c/code\u003e + \u003ccode\u003eyield()\u003c/code\u003e\u003c/li\u003e","\u003cli\u003e Replace \u003ccode\u003eread()\u003c/code\u003e/\u003ccode\u003ewrite()\u003c/code\u003e with direct \u003ccode\u003esignal[]\u003c/code\u003e access\u003c/li\u003e","\u003cli\u003e Implement parameter handling in \u003ccode\u003eupdate()\u003c/code\u003e\u003c/li\u003e","\u003cli\u003e Implement LED control manually\u003c/li\u003e","\u003cli\u003e Add initialization in \u003ccode\u003einit()\u003c/code\u003e if needed\u003c/li\u003e","","\u003ch4\u003eFrom Full Patch to Mod Patch\u003c/h4\u003e","","\u003cp\u003eWhen you want to integrate with Permut8's features:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Original Full patch","function process()","{","    loop {","        global signal[0] = simpleEffect(global signal[0])","        yield()","    }","}","","// Migrated to Mod patch","function operate1()","returns int processed","locals array samples[2]","{","    read(global positions[0], 1, samples)","    samples[0] = simpleEffect(samples[0])","    write(global positions[0], 1, samples)","    return 1","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eMigration Checklist\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e Change \u003ccode\u003eglobal array signal[2]\u003c/code\u003e to \u003ccode\u003eglobal array positions[2]\u003c/code\u003e\u003c/li\u003e","\u003cli\u003e Replace \u003ccode\u003eprocess()\u003c/code\u003e with \u003ccode\u003eoperate1()\u003c/code\u003e and/or \u003ccode\u003eoperate2()\u003c/code\u003e\u003c/li\u003e","\u003cli\u003e Replace direct \u003ccode\u003esignal[]\u003c/code\u003e access with \u003ccode\u003eread()\u003c/code\u003e/\u003ccode\u003ewrite()\u003c/code\u003e\u003c/li\u003e","\u003cli\u003e Remove manual parameter handling (framework handles it)\u003c/li\u003e","\u003cli\u003e Remove manual LED control (framework handles it)\u003c/li\u003e","\u003cli\u003e Simplify to focus on core algorithm\u003c/li\u003e","","\u003ch3\u003eChapter 6: Real-World Examples\u003c/h3\u003e","","\u003ch4\u003eExample 1: Bitcrusher (Perfect for Mod Patch)\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === BITCRUSHER MOD PATCH ===","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","global array positions[2]","global array params[PARAM_COUNT]","global array displayLEDs[4]","","global int bitDepth = 8","global int sampleRateReduction = 1","","function update()","{","    // Map parameters to bit crushing settings","    global bitDepth = 1 + global params[OPERAND_1_HIGH_PARAM_INDEX] / 32  // 1-8 bits","    global sampleRateReduction = 1 + global params[OPERAND_1_LOW_PARAM_INDEX] / 64  // 1-4x","}","","function operate1()","returns int processed","locals array samples[2], int crushedSample, int mask","{","    read(global positions[0], 1, samples)","","    // Create bit mask for bit depth reduction","    mask = 0xFFFF \u0026lt;\u0026lt; (16 - global bitDepth)","","    // Apply bit crushing","    crushedSample = samples[0] \u0026amp; mask","","    // Apply sample rate reduction (simple hold)","    if ((global clock % global sampleRateReduction) == 0) {","        samples[0] = crushedSample","    }","    // else keep previous sample (sample rate reduction)","","    write(global positions[0], 1, samples)","    return 1","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eWhy Mod Patch?\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e Simple operator-style processing\u003c/li\u003e","\u003cli\u003e Benefits from Permut8's delay/feedback\u003c/li\u003e","\u003cli\u003e Automatic parameter and LED integration\u003c/li\u003e","\u003cli\u003e Can be combined with other operators\u003c/li\u003e","","\u003ch4\u003eExample 2: Custom Reverb (Requires Full Patch)\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === CUSTOM REVERB FULL PATCH ===","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","global array signal[2]","global array params[PARAM_COUNT]","global array displayLEDs[4]","","// Reverb state (complex, requires total control)","global array reverbBuffer[32768]  // 0.74 second at 44.1kHz","global int writePos = 0","global array tapDelays[8] = {100, 200, 400, 600, 1200, 1800, 2400, 3200}","global int reverbTime = 500","global int wetLevel = 128","","function update()","{","    global reverbTime = global params[OPERAND_1_HIGH_PARAM_INDEX] * 4","    global wetLevel = global params[OPERAND_1_LOW_PARAM_INDEX]","}","","function process()","locals int input, int wet, int dry, int output, int i, int tapSample, int readPos","{","    loop {","        input = global signal[0]","","        // Write to reverb buffer","        global reverbBuffer[global writePos] = input","","        // Calculate reverb (sum of multiple taps)","        wet = 0","        for (i = 0 to 7) {","            readPos = global writePos - global tapDelays[i]","            if (readPos \u0026lt; 0) readPos = readPos + 32768","","            tapSample = global reverbBuffer[readPos]","            wet = wet + tapSample / 8  // Mix all taps","        }","","        // Apply reverb time (feedback)","        wet = wet * global reverbTime / 1000","","        // Mix wet and dry","        dry = input * (255 - global wetLevel) / 255","        wet = wet * global wetLevel / 255","        output = dry + wet","","        global signal[0] = output","        global signal[1] = output  // Mono reverb","","        // Advance write position","        global writePos = (global writePos + 1) % 32768","","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eWhy Full Patch?\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e Complex buffer management needs total control\u003c/li\u003e","\u003cli\u003e Multi-tap delay requires custom memory allocation\u003c/li\u003e","\u003cli\u003e Timing-critical for reverb algorithm\u003c/li\u003e","\u003cli\u003e Custom wet/dry mixing\u003c/li\u003e","","\u003ch3\u003eChapter 7: Performance Considerations\u003c/h3\u003e","","\u003ch4\u003eCPU Usage Comparison\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Mod Patch: Framework overhead","function operate1()","returns int processed","{","    read(position, 1, samples)     // Memory access overhead","    samples[0] = process(samples[0]) // Your algorithm","    write(position, 1, samples)    // Memory access overhead","    return 1","}","","// Full Patch: Direct processing","function process()","{","    loop {","        global signal[0] = process(global signal[0])  // Direct access","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003ePerformance Guidelines\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eFull patches\u003c/strong\u003e: 5-10% lower CPU usage for simple algorithms\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMod patches\u003c/strong\u003e: Easier to optimize due to framework assistance\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eComplex algorithms\u003c/strong\u003e: Performance difference becomes negligible\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMemory access\u003c/strong\u003e: Mod patches have slight overhead\u003c/li\u003e","","\u003ch4\u003eMemory Usage Patterns\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Mod Patch: Memory shared with framework","global array positions[2]  // Small footprint","// Framework manages delay buffers, feedback paths, etc.","","// Full Patch: You manage all memory","global array signal[2]           // Direct audio","global array delayBuffer[44100]  // Your delay buffer","global array workingMemory[1024] // Your workspace","// You allocate everything you need","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 8: Testing and Debugging\u003c/h3\u003e","","\u003ch4\u003eTesting Mod Patches\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Test with known inputs using trace()","function operate1()","returns int processed","locals array samples[2]","{","    read(global positions[0], 1, samples)","","    // Debug: trace input values","    if ((global clock % 1000) == 0) {","        trace(\"Input: \" + intToString(samples[0]))","    }","","    samples[0] = processOperator(samples[0])","","    // Debug: trace output values","    if ((global clock % 1000) == 0) {","        trace(\"Output: \" + intToString(samples[0]))","    }","","    write(global positions[0], 1, samples)","    return 1","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eTesting Full Patches\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Test with direct signal monitoring","function process()","locals int input, int output","{","    loop {","        input = global signal[0]","","        // Debug: Monitor signal levels","        if ((global clock % 1000) == 0) {","            trace(\"Level: \" + intToString(abs(input)))","        }","","        output = processEffect(input)","","        // Safety: Always clamp output","        if (output \u0026gt; 2047) output = 2047","        if (output \u0026lt; -2047) output = -2047","","        global signal[0] = output","        global signal[1] = output","","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 9: Common Pitfalls and Solutions\u003c/h3\u003e","","\u003ch4\u003ePitfall 1: Wrong Architecture Choice\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: Chose Mod patch for complex reverb\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// BAD: Trying to implement reverb as operator","function operate1()","returns int processed","{","    // Complex reverb doesn't fit operator model well","    // Limited memory, timing issues, integration problems","    return 1","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eSolution\u003c/strong\u003e: Use Full patch for complex effects\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// GOOD: Full patch gives total control for reverb","function process()","{","    loop {","        // Complete control over timing and memory","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003ePitfall 2: Inefficient Memory Access\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: Unnecessary memory operations in Mod patch\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// BAD: Multiple read/write operations","function operate1()","returns int processed","{","    read(global positions[0], 1, samples1)","    read(global positions[0], 1, samples2)  // Redundant!","    // Process","    write(global positions[0], 1, result1)","    write(global positions[0], 1, result2)  // Redundant!","    return 1","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eSolution\u003c/strong\u003e: Minimize memory operations\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// GOOD: Single read/write pair","function operate1()","returns int processed","{","    read(global positions[0], 1, samples)","    // Process samples in place","    write(global positions[0], 1, samples)","    return 1","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003ePitfall 3: Not Returning from Operators\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: Forgetting to return from operator functions\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// BAD: No return value","function operate1()","{","    read(global positions[0], 1, samples)","    // Process","    write(global positions[0], 1, samples)","    // Missing: return 1;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eSolution\u003c/strong\u003e: Always return 1 for processed audio\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// GOOD: Clear return value","function operate1()","returns int processed","{","    read(global positions[0], 1, samples)","    // Process","    write(global positions[0], 1, samples)","    return 1  // Signal successful processing","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 10: Decision Flowchart\u003c/h3\u003e","","\u003cp\u003eUse this flowchart to choose your architecture:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","START: What type of effect are you building?",""," Simple operator-style effect (distortion, filter, etc.)","   Want integration with Permut8 features?  MOD PATCH","   Need maximum performance?  FULL PATCH",""," Complex time-based effect (reverb, delay, etc.)","    FULL PATCH",""," Multi-band or spectral processing","    FULL PATCH",""," Synthesizer or tone generator","    FULL PATCH",""," Learning/prototyping","    MOD PATCH (easier to start)",""," Production/commercial use","    Simple effect  MOD PATCH","    Complex effect  FULL PATCH","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eSummary and Next Steps\u003c/h3\u003e","","\u003ch4\u003eQuick Decision Reference\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eChoose Mod Patch for\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eSimple effects (distortion, basic filters)\u003c/li\u003e","\u003cli\u003eRapid prototyping\u003c/li\u003e","\u003cli\u003eIntegration with Permut8 features\u003c/li\u003e","\u003cli\u003eLearning firmware development\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eChoose Full Patch for\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eComplex effects (reverb, delay, spectral)\u003c/li\u003e","\u003cli\u003eMaximum performance requirements\u003c/li\u003e","\u003cli\u003eComplete control over audio path\u003c/li\u003e","\u003cli\u003eSynthesizers and generators\u003c/li\u003e","","\u003ch4\u003eNext Steps\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003ePractice Implementation\u003c/strong\u003e: [Complete Development Workflow Tutorial](complete-development-workflow.md)\u003c/p\u003e","\u003cp\u003e   - Learn the end-to-end development process\u003c/p\u003e","\u003cp\u003e   - Practice compiling and testing both architectures\u003c/p\u003e","","\u003cp\u003e2. \u003cstrong\u003eStudy Examples\u003c/strong\u003e: Explore cookbook recipes\u003c/p\u003e","\u003cp\u003e   - \u003cstrong\u003eMod Patch Examples\u003c/strong\u003e: [Bitcrusher](../cookbook/audio-effects/bitcrusher.md), [Basic Filter](../cookbook/fundamentals/basic-filter.md)\u003c/p\u003e","\u003cp\u003e   - \u003cstrong\u003eFull Patch Examples\u003c/strong\u003e: [Make a Delay](../cookbook/audio-effects/make-a-delay.md), [Reverb](../cookbook/audio-effects/reverb-simple.md)\u003c/p\u003e","","\u003cp\u003e3. \u003cstrong\u003eAdvanced Techniques\u003c/strong\u003e: [Assembly Integration Guide](../../assembly/gazl-assembly-introduction.md)\u003c/p\u003e","\u003cp\u003e   - Learn optimization techniques for both architectures\u003c/p\u003e","","\u003ch4\u003eArchitecture Decision Template\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","Project: _______________","Effect Type: ___________","Complexity: ____________","Performance Requirements: _______","Integration Needs: _____________","","Decision: [ ] Mod Patch  [ ] Full Patch","Reasoning: ________________________","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003cp\u003eYou now have the knowledge to make informed architectural decisions for your Permut8 firmware projects. This foundational understanding will guide every aspect of your development process.\u003c/p\u003e","","\u003cp\u003e\u003cem\u003ePart of the Permut8 Foundation Tutorial Series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-7\" class=\"doc-section\"\u003e","\u003ch1\u003e7. Complete Development Workflow\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/tutorials/complete-development-workflow.md\u003c/div\u003e","","\u003ch2\u003eComplete Development Workflow Tutorial\u003c/h2\u003e","","\u003cp\u003e\u003cstrong\u003eMaster the end-to-end firmware development process\u003c/strong\u003e\u003c/p\u003e","","\u003cp\u003eThis comprehensive tutorial walks you through the complete development workflow for Permut8 firmware, from initial concept to working plugin. You'll learn professional development practices, compilation processes, testing strategies, and debugging techniques that ensure reliable, high-quality firmware.\u003c/p\u003e","","\u003ch3\u003eWhat You'll Learn\u003c/h3\u003e","","\u003cp\u003eBy the end of this tutorial, you'll master:\u003c/p\u003e","\u003cli\u003eComplete development workflow from concept to deployment\u003c/li\u003e","\u003cli\u003eProfessional project organization and planning\u003c/li\u003e","\u003cli\u003eCompilation process and build tools\u003c/li\u003e","\u003cli\u003eTesting and validation strategies\u003c/li\u003e","\u003cli\u003eDebugging techniques and troubleshooting\u003c/li\u003e","\u003cli\u003ePerformance optimization workflow\u003c/li\u003e","\u003cli\u003eVersion management and documentation\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003ePrerequisites\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e[Understanding Impala Language Fundamentals](understanding-impala-fundamentals.md)\u003c/li\u003e","\u003cli\u003eBasic understanding of firmware architecture concepts\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eTime Required\u003c/strong\u003e: 60-90 minutes\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eDifficulty\u003c/strong\u003e: Intermediate\u003c/p\u003e","","\u003ch3\u003eChapter 1: Development Workflow Overview\u003c/h3\u003e","","\u003ch4\u003eThe Complete Development Cycle\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-mermaid\"\u003e","graph TD","    A[Concept \u0026amp; Planning] --\u0026gt; B[Architecture Decision]","    B --\u0026gt; C[Implementation]","    C --\u0026gt; D[Compilation]","    D --\u0026gt; E[Testing]","    E --\u0026gt; F[Debugging]","    F --\u0026gt; G[Optimization]","    G --\u0026gt; H[Documentation]","    H --\u0026gt; I[Deployment]","    I --\u0026gt; J[Maintenance]","","    F --\u0026gt; C","    E --\u0026gt; C","    G --\u0026gt; D","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eProfessional Development Phases\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003eConcept \u0026amp; Planning\u003c/strong\u003e (10-20% of time)\u003c/p\u003e","\u003cp\u003e   - Define requirements and specifications\u003c/p\u003e","\u003cp\u003e   - Research algorithms and techniques\u003c/p\u003e","\u003cp\u003e   - Plan project structure and milestones\u003c/p\u003e","","\u003cp\u003e2. \u003cstrong\u003eArchitecture Decision\u003c/strong\u003e (5-10% of time)\u003c/p\u003e","\u003cp\u003e   - Choose Mod vs Full patch architecture\u003c/p\u003e","\u003cp\u003e   - Design data flow and memory usage\u003c/p\u003e","\u003cp\u003e   - Plan parameter mapping and UI\u003c/p\u003e","","\u003cp\u003e3. \u003cstrong\u003eImplementation\u003c/strong\u003e (40-50% of time)\u003c/p\u003e","\u003cp\u003e   - Write core algorithms\u003c/p\u003e","\u003cp\u003e   - Implement parameter handling\u003c/p\u003e","\u003cp\u003e   - Add LED feedback and UI elements\u003c/p\u003e","","\u003cp\u003e4. \u003cstrong\u003eTesting \u0026amp; Debugging\u003c/strong\u003e (20-30% of time)\u003c/p\u003e","\u003cp\u003e   - Validate functionality\u003c/p\u003e","\u003cp\u003e   - Test edge cases and error conditions\u003c/p\u003e","\u003cp\u003e   - Debug issues and optimize performance\u003c/p\u003e","","\u003cp\u003e5. \u003cstrong\u003eDocumentation \u0026amp; Deployment\u003c/strong\u003e (10-15% of time)\u003c/p\u003e","\u003cp\u003e   - Document usage and parameters\u003c/p\u003e","\u003cp\u003e   - Create deployment packages\u003c/p\u003e","\u003cp\u003e   - Plan updates and maintenance\u003c/p\u003e","","\u003ch3\u003eChapter 2: Project Planning and Setup\u003c/h3\u003e","","\u003ch4\u003eStep 1: Define Your Project\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eProject Definition Template\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","Project Name: _______________","Effect Type: ________________","Target Architecture: [ ] Mod Patch  [ ] Full Patch","Core Algorithm: _____________","Key Parameters: _____________","Performance Requirements: ___","Timeline: __________________","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eExample Project Definition\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","Project Name: Vintage Tape Delay","Effect Type: Time-based delay with analog character","Target Architecture: [X] Full Patch (needs complete control)","Core Algorithm: Multi-tap delay with wow/flutter simulation","Key Parameters: Delay time, feedback, wow/flutter, tape age","Performance Requirements: \u0026lt;5% CPU, \u0026lt;50ms latency","Timeline: 2 weeks development + 1 week testing","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStep 2: Research and Algorithm Selection\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eResearch Checklist\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e Study existing implementations\u003c/li\u003e","\u003cli\u003e Review academic papers for advanced techniques\u003c/li\u003e","\u003cli\u003e Analyze performance requirements\u003c/li\u003e","\u003cli\u003e Identify key parameters and ranges\u003c/li\u003e","\u003cli\u003e Plan memory requirements\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eAlgorithm Research Template\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === ALGORITHM RESEARCH NOTES ===","// Source: [Paper/Book/Website]","// Algorithm: [Name and description]","// Complexity: O(n) analysis","// Memory: [Requirements]","// Parameters: [List with ranges]","","// Basic algorithm outline:","function algorithmName(int input)","returns int output","{","    // Step 1: [Description]","    // Step 2: [Description]","    // Step 3: [Description]","    return output","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStep 3: Project Structure Planning\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eRecommended File Structure\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","project-name/"," project-name.impala          # Main source file"," project-name-notes.md        # Development notes"," project-name-test.impala     # Test cases"," algorithm-research.md        # Research and references"," parameter-mapping.md         # Parameter documentation"," build-log.md                # Compilation and testing log","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eSource Code Organization\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === PROJECT-NAME.IMPALA ===","// Author: [Your name]","// Date: [Creation date]","// Description: [Brief description]","// Version: 1.0","// Architecture: [Mod/Full] Patch","","// === CONSTANTS AND CONFIGURATION ===","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","// [Project-specific constants]","","// === GLOBAL STATE ===","// [Required Permut8 globals]","// [Effect-specific globals]","","// === ALGORITHM IMPLEMENTATION ===","// [Core processing functions]","","// === PERMUT8 INTEGRATION ===","// [init, update, reset, process/operate functions]","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 3: Implementation Best Practices\u003c/h3\u003e","","\u003ch4\u003eStep 1: Start with Minimal Working Version\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eAlways begin with the simplest possible implementation\u003c/strong\u003e:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === MINIMAL WORKING DELAY (Version 0.1) ===","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","global array signal[2]","global array params[PARAM_COUNT]","global array displayLEDs[4]","","// Minimal delay buffer","global array delayBuffer[22050]  // 0.5 second max","global int writePos = 0","global int readPos = 11025       // 0.25 second delay","","function process()","locals int input, int delayed, int mixed","{","    loop {","        input = global signal[0]","","        // Write to delay buffer","        global delayBuffer[global writePos] = input","","        // Read delayed signal","        delayed = global delayBuffer[global readPos]","","        // Simple 50/50 mix","        mixed = (input + delayed) / 2","","        global signal[0] = mixed","        global signal[1] = mixed","","        // Advance positions","        global writePos = (global writePos + 1) % 22050","        global readPos = (global readPos + 1) % 22050","","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eWhy Start Minimal\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e Proves core concept works\u003c/li\u003e","\u003cli\u003e Easier to debug basic functionality\u003c/li\u003e","\u003cli\u003e Provides foundation for incremental improvement\u003c/li\u003e","\u003cli\u003e Quick feedback on feasibility\u003c/li\u003e","","\u003ch4\u003eStep 2: Add Features Incrementally\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eFeature Addition Order\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003eCore algorithm\u003c/strong\u003e (working but basic)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eParameter control\u003c/strong\u003e (make it adjustable)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eEdge case handling\u003c/strong\u003e (prevent crashes)\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003ePerformance optimization\u003c/strong\u003e (make it efficient)\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eUI feedback\u003c/strong\u003e (LEDs and visual response)\u003c/p\u003e","\u003cp\u003e6. \u003cstrong\u003eAdvanced features\u003c/strong\u003e (extra capabilities)\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eExample: Adding Parameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Version 0.2: Add parameter control","global int delayTime = 11025     // Controllable delay time","global int feedback = 128        // Controllable feedback (0-255)","","function update()","{","    // Map delay time parameter (0-255 to 100-22050 samples)","    global delayTime = 100 + (global params[OPERAND_1_HIGH_PARAM_INDEX] * 21950 / 255)","","    // Map feedback parameter (0-255 to 0-200% for interesting effects)","    global feedback = global params[OPERAND_1_LOW_PARAM_INDEX]","","    // Update LED display","    global displayLEDs[0] = global params[OPERAND_1_HIGH_PARAM_INDEX]","}","","function process()","locals int input, int delayed, int mixed, int feedbackSample","{","    loop {","        input = global signal[0]","","        // Calculate read position based on delay time","        global readPos = global writePos - global delayTime","        if (global readPos \u0026lt; 0) global readPos = global readPos + 22050","","        // Read delayed signal","        delayed = global delayBuffer[global readPos]","","        // Apply feedback","        feedbackSample = delayed * global feedback / 255","","        // Write input + feedback to buffer","        global delayBuffer[global writePos] = input + feedbackSample","","        // Mix dry and wet","        mixed = (input * 128 + delayed * 128) / 255  // 50/50 mix","","        global signal[0] = mixed","        global signal[1] = mixed","","        global writePos = (global writePos + 1) % 22050","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStep 3: Implement Error Handling\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eCritical Error Prevention\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Safe parameter bounds checking","function update()","{","    // Ensure delay time is within valid range","    int delayParam = global params[OPERAND_1_HIGH_PARAM_INDEX]","    if (delayParam \u0026lt; 0) delayParam = 0","    if (delayParam \u0026gt; 255) delayParam = 255","","    global delayTime = 100 + (delayParam * 21950 / 255)","","    // Clamp delay time to buffer size","    if (global delayTime \u0026gt;= 22050) global delayTime = 22049","    if (global delayTime \u0026lt; 1) global delayTime = 1","}","","// Safe audio processing","function process()","locals int input, int output","{","    loop {","        input = global signal[0]","","        // Clamp input to valid range","        if (input \u0026gt; 2047) input = 2047","        if (input \u0026lt; -2047) input = -2047","","        output = processEffect(input)","","        // Clamp output to valid range","        if (output \u0026gt; 2047) output = 2047","        if (output \u0026lt; -2047) output = -2047","","        global signal[0] = output","        global signal[1] = output","","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 4: Compilation and Build Process\u003c/h3\u003e","","\u003ch4\u003eStep 1: Understanding the Build Tools\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eCompilation Command Structure\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-bash\"\u003e","PikaCmd.exe impala.pika compile source.impala output.gazl","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eBuild Process Flow\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003eSource Code\u003c/strong\u003e (.impala)  \u003cstrong\u003ePika Compiler\u003c/strong\u003e  \u003cstrong\u003eGAZL Assembly\u003c/strong\u003e (.gazl)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eGAZL Assembly\u003c/strong\u003e  \u003cstrong\u003ePermut8 Plugin\u003c/strong\u003e  \u003cstrong\u003eAudio Output\u003c/strong\u003e\u003c/p\u003e","","\u003ch4\u003eStep 2: Compilation Workflow\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eManual Compilation Process\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-bash\"\u003e","# 1. Navigate to your project directory","cd \"C:\\Your\\Project\\Path\"","","# 2. Compile your source","PikaCmd.exe impala.pika compile project-name.impala project-name.gazl","","# 3. Check for compilation errors","# If successful, you'll see the .gazl file created","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eAutomated Build Script\u003c/strong\u003e (Windows batch file):\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-batch\"\u003e","@echo off","echo Building Permut8 firmware...","","REM Set your project name","set PROJECT_NAME=my-effect","","REM Compile","PikaCmd.exe impala.pika compile %PROJECT_NAME%.impala %PROJECT_NAME%.gazl","","REM Check if compilation succeeded","if exist %PROJECT_NAME%.gazl (","    echo Build successful: %PROJECT_NAME%.gazl created","    echo File size:","    dir %PROJECT_NAME%.gazl",") else (","    echo Build failed - check source code for errors","    pause",")","","echo Build complete.","pause","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStep 3: Handling Compilation Errors\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eCommon Compilation Errors and Solutions\u003c/strong\u003e:\u003c/p\u003e","","\u003ch5\u003eSyntax Errors\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// ERROR: Missing semicolon (Impala doesn't use semicolons!)","int value = 42;  // WRONG","","// CORRECT: No semicolons in Impala","int value = 42","\u003c/code\u003e\u003c/pre\u003e","","\u003ch5\u003eType Errors\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// ERROR: Undefined variable","function process()","{","    undefinedVar = 42  // WRONG - variable not declared","}","","// CORRECT: Declare in locals or as global","function process()","locals int localVar","{","    localVar = 42","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch5\u003eMemory Errors\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// ERROR: Array out of bounds","global array buffer[1024]","function process()","{","    buffer[1024] = 42  // WRONG - index 1024 is out of bounds (0-1023)","}","","// CORRECT: Check bounds","function process()","locals int index","{","    index = 1023  // Last valid index","    buffer[index] = 42","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStep 4: Build Optimization\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eCompilation Flags and Options\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-bash\"\u003e","# Basic compilation","PikaCmd.exe impala.pika compile source.impala output.gazl","","# With debug information (for development)","PikaCmd.exe impala.pika compile -debug source.impala output.gazl","","# Optimized build (for release)","PikaCmd.exe impala.pika compile -optimize source.impala output.gazl","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eCode Optimization for Compilation\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// SLOW: Repeated calculations in loop","function process()","{","    loop {","        int result = expensiveCalculation(global params[0])","        global signal[0] = result","        yield()","    }","}","","// FAST: Pre-calculate in update()","global int precalculatedValue = 0","","function update()","{","    global precalculatedValue = expensiveCalculation(global params[0])","}","","function process()","{","    loop {","        global signal[0] = global precalculatedValue  // Use pre-calculated value","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 5: Testing Strategies\u003c/h3\u003e","","\u003ch4\u003eStep 1: Unit Testing Approach\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eTest Each Component Separately\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === TEST HARNESS FOR ALGORITHM COMPONENTS ===","","// Test 1: Parameter scaling","function testParameterScaling()","{","    // Test boundary conditions","    trace(\"Testing parameter scaling...\")","","    int result1 = scaleParameter(0)      // Should be minimum","    int result2 = scaleParameter(255)    // Should be maximum","    int result3 = scaleParameter(128)    // Should be middle","","    trace(\"Min: \" + intToString(result1))","    trace(\"Max: \" + intToString(result2))","    trace(\"Mid: \" + intToString(result3))","}","","// Test 2: Audio processing","function testAudioProcessing()","{","    trace(\"Testing audio processing...\")","","    // Test with known inputs","    int testInput1 = 1000    // Positive signal","    int testInput2 = -1000   // Negative signal","    int testInput3 = 0       // Zero signal","","    int output1 = processAudio(testInput1)","    int output2 = processAudio(testInput2)","    int output3 = processAudio(testInput3)","","    trace(\"Input 1000 -\u0026gt; \" + intToString(output1))","    trace(\"Input -1000 -\u0026gt; \" + intToString(output2))","    trace(\"Input 0 -\u0026gt; \" + intToString(output3))","}","","// Call tests in init()","function init()","{","    testParameterScaling()","    testAudioProcessing()","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStep 2: Integration Testing\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eTest Complete Signal Chain\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === INTEGRATION TEST SETUP ===","global int testPhase = 0","global int testResults[10]","","function runIntegrationTests()","{","    trace(\"Starting integration tests...\")","","    // Test 1: Silent input should produce silent output","    global signal[0] = 0","    global signal[1] = 0","    process()  // Run one iteration","","    if (abs(global signal[0]) \u0026lt; 10) {","        trace(\" Silent input test passed\")","        global testResults[0] = 1","    } else {","        trace(\" Silent input test failed\")","        global testResults[0] = 0","    }","","    // Test 2: Maximum input should not clip","    global signal[0] = 2047","    global signal[1] = 2047","    process()","","    if (global signal[0] \u0026lt;= 2047 \u0026amp;\u0026amp; global signal[0] \u0026gt;= -2047) {","        trace(\" Clipping test passed\")","        global testResults[1] = 1","    } else {","        trace(\" Clipping test failed\")","        global testResults[1] = 0","    }","","    // Add more tests...","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStep 3: Real-World Testing\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eManual Testing Checklist\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e"," Load firmware into Permut8"," Test with various input sources (sine, noise, music)"," Test all parameter ranges (0-255 for each knob)"," Test parameter combinations"," Test at different sample rates"," Test for audio dropouts or glitches"," Test LED response and visual feedback"," Test reset and initialization"," Test long-term stability (run for hours)"," Test edge cases (silence, maximum levels)","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eAutomated Testing Framework\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === AUTOMATED TEST FRAMEWORK ===","global int currentTest = 0","global int testsPassed = 0","global int testsFailed = 0","","const int NUM_TESTS = 5","","function runAllTests()","{","    trace(\"=== Starting Automated Tests ===\")","","    for (global currentTest = 0 to NUM_TESTS) {","        runTest(global currentTest)","    }","","    trace(\"=== Test Results ===\")","    trace(\"Passed: \" + intToString(global testsPassed))","    trace(\"Failed: \" + intToString(global testsFailed))","","    if (global testsFailed == 0) {","        trace(\" All tests passed!\")","    } else {","        trace(\" Some tests failed - check implementation\")","    }","}","","function runTest(int testNumber)","{","    trace(\"Running test \" + intToString(testNumber))","","    if (testNumber == 0) {","        if (testSilentInput()) global testsPassed = global testsPassed + 1","        else global testsFailed = global testsFailed + 1","    } else if (testNumber == 1) {","        if (testParameterBounds()) global testsPassed = global testsPassed + 1","        else global testsFailed = global testsFailed + 1","    }","    // Add more test cases...","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 6: Debugging Techniques\u003c/h3\u003e","","\u003ch4\u003eStep 1: Using trace() for Debugging\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eStrategic trace() Placement\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process()","locals int input, int output, int debugCounter","{","    loop {","        input = global signal[0]","","        // Debug: Monitor input levels occasionally","        global debugCounter = global debugCounter + 1","        if ((global debugCounter % 1000) == 0) {","            trace(\"Input level: \" + intToString(abs(input)))","        }","","        output = processEffect(input)","","        // Debug: Check for unexpected values","        if (abs(output) \u0026gt; 2047) {","            trace(\"WARNING: Output clipping! Value: \" + intToString(output))","        }","","        global signal[0] = output","        yield()","    }","}","","// Debug: Parameter monitoring","function update()","{","    trace(\"Params updated:\")","    trace(\"  P1: \" + intToString(global params[0]))","    trace(\"  P2: \" + intToString(global params[1]))","","    // Process parameters...","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStep 2: State Monitoring\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eMonitor Critical State Variables\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int debugMode = 1  // Set to 0 for release builds","","function debugPrintState()","{","    if (global debugMode == 0) return  // Skip in release","","    trace(\"=== State Debug ===\")","    trace(\"Phase: \" + intToString(global oscillatorPhase))","    trace(\"Amplitude: \" + intToString(global amplitude))","    trace(\"Filter cutoff: \" + intToString(global cutoffFreq))","    trace(\"Buffer position: \" + intToString(global bufferPos))","}","","// Call debug function periodically","global int debugTimer = 0","function process()","{","    loop {","        // Your processing...","","        // Debug every 10,000 samples (about 0.2 seconds at 44.1kHz)","        global debugTimer = global debugTimer + 1","        if ((global debugTimer % 10000) == 0) {","            debugPrintState()","        }","","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStep 3: Common Bug Patterns and Solutions\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eBug Pattern 1: Buffer Overflow\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// BUG: No bounds checking","global array buffer[1024]","global int position = 0","","function process()","{","    buffer[position] = global signal[0]  // Can overflow!","    position = position + 1","    yield()","}","","// FIX: Always check bounds","function process()","{","    buffer[position] = global signal[0]","    position = (position + 1) % 1024  // Wrap around safely","    yield()","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eBug Pattern 2: Uninitialized Variables\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// BUG: Uninitialized state","global int filterState  // Could be any value!","","function process()","{","    int output = global signal[0] + global filterState  // Unpredictable!","    yield()","}","","// FIX: Always initialize","global int filterState = 0  // Known starting value","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eBug Pattern 3: Parameter Range Issues\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// BUG: No parameter validation","function update()","{","    global frequency = global params[0] * 1000  // Could be huge!","}","","// FIX: Validate and clamp parameters","function update()","{","    int param = global params[0]","    if (param \u0026lt; 0) param = 0","    if (param \u0026gt; 255) param = 255","    global frequency = 20 + (param * 19980 / 255)  // 20Hz to 20kHz","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStep 4: Performance Debugging\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eMonitor CPU Usage\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int performanceTimer = 0","global int cycleCount = 0","","function process()","{","    int startTime = global clock","","    // Your processing here","    processAudio()","","    int endTime = global clock","    int processingTime = endTime - startTime","","    global cycleCount = global cycleCount + 1","    if ((global cycleCount % 1000) == 0) {","        trace(\"Avg processing time: \" + intToString(processingTime))","    }","","    yield()","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 7: Loading and Testing in Permut8\u003c/h3\u003e","","\u003ch4\u003eStep 1: Loading Firmware\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eLoading Process\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003eCompile\u003c/strong\u003e your .impala file to .gazl\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eOpen\u003c/strong\u003e Permut8 plugin in your DAW\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eClick\u003c/strong\u003e the console button (bottom right of Permut8)\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eType\u003c/strong\u003e: \u003ccode\u003epatch filename.gazl\u003c/code\u003e\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003ePress\u003c/strong\u003e Enter\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eConsole Commands Reference\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","patch filename.gazl     # Load your firmware","patch factory          # Load factory firmware","reset                  # Reset current firmware","params                 # Show current parameter values","trace on              # Enable trace output","trace off             # Disable trace output","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStep 2: Interactive Testing\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eTesting Workflow in DAW\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","1. Load a simple audio source (sine wave, white noise)","2. Insert Permut8 plugin on the audio track","3. Load your firmware: patch your-effect.gazl","4. Play audio and listen for your effect","5. Adjust knobs to test parameter response","6. Check LED display for visual feedback","7. Test different input sources and levels","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Testing Strategy\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","For each knob (8 total):","1. Set to minimum (fully counter-clockwise)","2. Set to maximum (fully clockwise)","3. Set to center position","4. Sweep slowly through range while listening","5. Test combinations with other parameters","6. Note any unexpected behavior or audio issues","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStep 3: Troubleshooting Common Issues\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eIssue: No Audio Output\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","Possible causes:"," Forgot yield() in process() loop"," Audio clipping due to excessive gain"," Buffer overflow corrupting audio"," Incorrect signal array usage","","Debug steps:","1. Check trace output for error messages","2. Verify process() function has loop + yield()","3. Test with simple pass-through code","4. Check input levels are reasonable","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eIssue: Audio Glitches or Dropouts\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","Possible causes:"," Too much processing in one loop iteration"," Memory access patterns causing delays"," Infinite loops or missing yield()"," Excessive trace() calls","","Debug steps:","1. Simplify algorithm to isolate issue","2. Remove trace() calls from process() loop","3. Check for memory bounds violations","4. Profile processing time per sample","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eIssue: Parameters Not Working\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","Possible causes:"," Missing update() function"," Incorrect parameter array indexing"," Parameter scaling issues"," Not reading from global params array","","Debug steps:","1. Add trace() to update() function","2. Verify parameter constants (OPERAND_1_HIGH_PARAM_INDEX, etc.)","3. Test parameter scaling with known values","4. Check LED display reflects parameter changes","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 8: Performance Optimization\u003c/h3\u003e","","\u003ch4\u003eStep 1: Profiling and Measurement\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003ePerformance Measurement Framework\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int profilingEnabled = 1","global int maxProcessingTime = 0","global int minProcessingTime = 999999","global int totalProcessingTime = 0","global int sampleCount = 0","","function profileStart()","returns int timestamp","{","    if (global profilingEnabled == 0) return 0","    return global clock","}","","function profileEnd(int startTime)","{","    if (global profilingEnabled == 0 || startTime == 0) return","","    int processingTime = global clock - startTime","","    if (processingTime \u0026gt; global maxProcessingTime) {","        global maxProcessingTime = processingTime","    }","    if (processingTime \u0026lt; global minProcessingTime) {","        global minProcessingTime = processingTime","    }","","    global totalProcessingTime = global totalProcessingTime + processingTime","    global sampleCount = global sampleCount + 1","","    // Report every 10,000 samples","    if ((global sampleCount % 10000) == 0) {","        int avgTime = global totalProcessingTime / global sampleCount","        trace(\"Performance - Avg: \" + intToString(avgTime) +","              \" Min: \" + intToString(global minProcessingTime) +","              \" Max: \" + intToString(global maxProcessingTime))","    }","}","","function process()","locals int startTime","{","    loop {","        startTime = profileStart()","","        // Your audio processing here","        processYourEffect()","","        profileEnd(startTime)","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStep 2: Optimization Techniques\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eMemory Access Optimization\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// SLOW: Repeated global access","function process()","{","    loop {","        global signal[0] = processFilter(global signal[0], global filterCutoff, global filterQ)","        yield()","    }","}","","// FAST: Cache globals in locals","function process()","locals int input, int output, int cutoff, int q","{","    loop {","        // Cache global values","        input = global signal[0]","        cutoff = global filterCutoff","        q = global filterQ","","        // Process with local variables","        output = processFilter(input, cutoff, q)","","        global signal[0] = output","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eArithmetic Optimization\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// SLOW: Division in inner loop","function process()","{","    loop {","        int scaled = global signal[0] * global amplitude / 1000  // Division is slow","        yield()","    }","}","","// FAST: Pre-calculate reciprocal in update()","global int amplitudeReciprocal = 65536 / 1000  // 16.16 fixed point","","function update()","{","    global amplitudeReciprocal = 65536 / (global amplitude + 1)  // Avoid divide by zero","}","","function process()","{","    loop {","        int scaled = (global signal[0] * global amplitude * global amplitudeReciprocal) \u0026gt;\u0026gt; 16","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eLoop Optimization\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// SLOW: Function calls in tight loops","function process()","{","    loop {","        for (i = 0 to 1023) {","            global buffer[i] = expensiveFunction(global buffer[i])  // Slow!","        }","        yield()","    }","}","","// FAST: Inline simple operations","function process()","locals int i, int temp","{","    loop {","        for (i = 0 to 1023) {","            temp = global buffer[i]","            temp = temp * 2  // Inline simple operations","            if (temp \u0026gt; 2047) temp = 2047","            global buffer[i] = temp","        }","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStep 3: Memory Optimization\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eEfficient Buffer Management\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// INEFFICIENT: Multiple separate buffers","global array delayBuffer1[1024]","global array delayBuffer2[1024]","global array tempBuffer[1024]","","// EFFICIENT: Single buffer with offsets","global array masterBuffer[3072]  // Combined buffer","const int DELAY1_OFFSET = 0","const int DELAY2_OFFSET = 1024","const int TEMP_OFFSET = 2048","","function accessDelay1(int index)","returns int value","{","    return global masterBuffer[DELAY1_OFFSET + index]","}","","function setDelay1(int index, int value)","{","    global masterBuffer[DELAY1_OFFSET + index] = value","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 9: Documentation and Version Management\u003c/h3\u003e","","\u003ch4\u003eStep 1: Code Documentation\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eInline Documentation Standards\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === VINTAGE DELAY EFFECT ===","// Author: [Your Name]","// Version: 1.2.3","// Date: 2025-01-06","// Description: Analog-style delay with tape saturation modeling","// Architecture: Full Patch","// CPU Usage: ~3.2% (measured at 44.1kHz)","// Memory Usage: 88KB delay buffer + 2KB state","","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// === ALGORITHM PARAMETERS ===","// Delay time: 50ms to 2000ms (mapped from knob 0-255)","// Feedback: 0% to 120% (mapped from knob 0-255)","// Tape age: 0% to 100% (controls saturation amount)","// Wow/flutter: 0% to 10% (tape speed variation)","","// === GLOBAL STATE VARIABLES ===","global int delayTime = 22050        // Current delay time in samples","global int feedback = 128           // Feedback amount (0-255)","global int tapeAge = 64            // Tape saturation (0-255)","global int wowFlutter = 32         // Speed variation (0-255)","","// === DELAY LINE MEMORY ===","global array delayBuffer[88200]    // 2 seconds max delay at 44.1kHz","global int writePosition = 0       // Current write position","global int readPosition = 22050    // Current read position (1 second back)","","/**"," * Apply tape saturation modeling to audio signal"," * @param input: Audio sample (-2047 to +2047)"," * @param saturation: Saturation amount (0-255)"," * @return: Saturated audio sample"," */","function applyTapeSaturation(int input, int saturation)","returns int output","locals int scaled, int saturated","{","    // Scale input for saturation calculation","    scaled = input * saturation / 255","","    // Simple tanh approximation for tape saturation","    if (scaled \u0026gt; 1500) {","        saturated = 1500 + (scaled - 1500) / 4  // Soft limiting","    } else if (scaled \u0026lt; -1500) {","        saturated = -1500 + (scaled + 1500) / 4","    } else {","        saturated = scaled","    }","","    return saturated","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStep 2: Version Management\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eVersion Numbering System\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","Format: MAJOR.MINOR.PATCH","Example: 1.2.3","","MAJOR: Incompatible changes (architecture change, complete rewrite)","MINOR: New features, significant improvements","PATCH: Bug fixes, small optimizations","","Development stages:","0.x.x = Alpha (experimental, unstable)","1.x.x = Beta (feature complete, testing)","2.x.x = Release (stable, production ready)","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eVersion History Documentation\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","VERSION HISTORY","===============","","v1.2.3 (2025-01-06)","- Fixed: Parameter smoothing glitch on rapid knob changes","- Optimized: Reduced CPU usage by 15% through loop optimization","- Added: Visual LED feedback for delay time","","v1.2.2 (2025-01-05)","- Fixed: Buffer overflow when delay time set to maximum","- Fixed: Audio dropout during parameter changes","- Improved: Tape saturation algorithm accuracy","","v1.2.1 (2025-01-04)","- Fixed: Compilation error on some systems","- Updated: Documentation and code comments","","v1.2.0 (2025-01-03)","- Added: Tape age parameter for vintage character","- Added: Wow/flutter simulation","- Improved: Feedback stability at high settings","- Performance: 20% reduction in memory usage","","v1.1.0 (2025-01-01)","- Added: Parameter smoothing to prevent clicks","- Added: LED display feedback","- Fixed: Feedback oscillation at maximum settings","","v1.0.0 (2024-12-30)","- Initial release","- Basic delay with time and feedback controls","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStep 3: User Documentation\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eUser Manual Template\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-markdown\"\u003e","# Effect Name v1.2.3","","## Description","Brief description of what the effect does and its intended use.","","## Parameters","- **Knob 1 (Time)**: Delay time from 50ms to 2 seconds","- **Knob 2 (Feedback)**: Feedback amount from 0% to 120%","- **Knob 3 (Character)**: Tape age simulation from new to vintage","- **Knob 4 (Flutter)**: Wow and flutter from stable to warped","","## LED Display","- **LEDs 1-4**: Show delay time as moving dot pattern","- **LEDs 5-8**: Show feedback level as bar graph","","## Usage Tips","- Start with feedback around 50% for musical delays","- Use character control to add vintage tape warmth","- Flutter adds realism but use sparingly for musical applications","","## Technical Specifications","- **CPU Usage**: ~3.2% at 44.1kHz","- **Latency**: \u0026lt;1ms additional latency","- **Memory**: 88KB for delay buffer","","## Known Issues","- None in current version","","## Version History","[Brief changelog]","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 10: Deployment and Maintenance\u003c/h3\u003e","","\u003ch4\u003eStep 1: Release Preparation\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003ePre-Release Checklist\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","Code Quality:"," All functions documented"," Code follows consistent style"," No debug trace() calls in release build"," Performance optimized"," Memory usage verified","","Testing:"," All unit tests pass"," Integration tests complete"," Manual testing on different audio sources"," Long-term stability testing (24+ hours)"," Parameter edge cases tested","","Documentation:"," User manual complete"," Parameter descriptions accurate"," Version history updated"," Installation instructions clear","","Build:"," Clean compilation with no warnings"," Final build optimized"," File size reasonable"," Verified on target hardware","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStep 2: Distribution Package\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003ePackage Contents\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","effect-name-v1.2.3/"," effect-name.gazl           # Compiled firmware"," README.md                  # Quick start guide"," MANUAL.md                  # Complete user manual"," CHANGELOG.md               # Version history"," LICENSE.txt                # License information"," source/","    effect-name.impala     # Source code","    build.bat             # Build script","    test-cases.impala     # Test suite"," examples/","     basic-setup.md         # Usage examples","     advanced-techniques.md # Advanced usage","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStep 3: Maintenance and Updates\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eBug Report Template\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","BUG REPORT","==========","Effect: [Name and version]","System: [DAW, OS, Permut8 version]","Audio: [Sample rate, buffer size, input source]","","Description:","[Clear description of the issue]","","Steps to Reproduce:","1. [Step by step instructions]","2. [Include parameter settings]","3. [Include audio characteristics]","","Expected Behavior:","[What should happen]","","Actual Behavior:","[What actually happens]","","Additional Information:","[Any other relevant details]","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eUpdate Process\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003eIdentify issue\u003c/strong\u003e through user reports or testing\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eReproduce issue\u003c/strong\u003e in development environment\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eFix implementation\u003c/strong\u003e with minimal changes\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eTest fix\u003c/strong\u003e thoroughly\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eUpdate version number\u003c/strong\u003e (patch increment)\u003c/p\u003e","\u003cp\u003e6. \u003cstrong\u003eUpdate documentation\u003c/strong\u003e and changelog\u003c/p\u003e","\u003cp\u003e7. \u003cstrong\u003eBuild and test\u003c/strong\u003e release package\u003c/p\u003e","\u003cp\u003e8. \u003cstrong\u003eDistribute update\u003c/strong\u003e to users\u003c/p\u003e","","\u003ch4\u003eStep 4: Long-term Evolution\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eFeature Request Evaluation\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","Request: [Description of requested feature]","Impact: [High/Medium/Low user benefit]","Complexity: [High/Medium/Low implementation effort]","Compatibility: [Does it break existing patches?]","Performance: [CPU/memory impact]","Priority: [Must have/Nice to have/Future consideration]","","Decision: [Accept/Defer/Reject]","Reasoning: [Explanation of decision]","Timeline: [If accepted, when to implement]","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eSummary and Next Steps\u003c/h3\u003e","","\u003ch4\u003eProfessional Development Workflow Summary\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003ePlan thoroughly\u003c/strong\u003e before coding\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eStart simple\u003c/strong\u003e and add features incrementally\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eTest continuously\u003c/strong\u003e throughout development\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eDocument everything\u003c/strong\u003e for maintainability\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eOptimize systematically\u003c/strong\u003e based on measurements\u003c/p\u003e","\u003cp\u003e6. \u003cstrong\u003eRelease carefully\u003c/strong\u003e with comprehensive testing\u003c/p\u003e","","\u003ch4\u003eDevelopment Best Practices\u003c/h4\u003e","","\u003cli\u003e Always compile and test after each change\u003c/li\u003e","\u003cli\u003e Use version control for source code management\u003c/li\u003e","\u003cli\u003e Write tests before implementing complex features\u003c/li\u003e","\u003cli\u003e Profile performance regularly during development\u003c/li\u003e","\u003cli\u003e Document decisions and trade-offs\u003c/li\u003e","\u003cli\u003e Plan for maintenance and updates from the start\u003c/li\u003e","","\u003ch4\u003eNext Steps in Your Development Journey\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003ePractice the Workflow\u003c/strong\u003e: Apply this process to a simple project\u003c/p\u003e","\u003cp\u003e   - Start with a basic gain/volume effect\u003c/p\u003e","\u003cp\u003e   - Follow each step methodically\u003c/p\u003e","\u003cp\u003e   - Document your experience\u003c/p\u003e","","\u003cp\u003e2. \u003cstrong\u003eStudy Advanced Techniques\u003c/strong\u003e: [Assembly Integration Guide](../../assembly/gazl-assembly-introduction.md)\u003c/p\u003e","\u003cp\u003e   - Learn GAZL assembly for maximum performance\u003c/p\u003e","\u003cp\u003e   - Advanced debugging and profiling techniques\u003c/p\u003e","","\u003cp\u003e3. \u003cstrong\u003eExplore Complex Algorithms\u003c/strong\u003e: Study cookbook recipes\u003c/p\u003e","\u003cp\u003e   - [Spectral Processing](../cookbook/spectral-processing/) for frequency domain work\u003c/p\u003e","\u003cp\u003e   - [Audio Effects](../cookbook/audio-effects/) for classic DSP algorithms\u003c/p\u003e","","\u003ch4\u003eDevelopment Environment Setup\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eRecommended Tools\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eText Editor\u003c/strong\u003e: VS Code, Notepad++, or similar with syntax highlighting\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFile Management\u003c/strong\u003e: Organize projects in dedicated folders\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eBuild Automation\u003c/strong\u003e: Create batch files for repetitive tasks\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDocumentation\u003c/strong\u003e: Markdown for user manuals and notes\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTesting\u003c/strong\u003e: Audio files for consistent testing scenarios\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003cp\u003eYou now have a complete professional development workflow for Permut8 firmware. This systematic approach will help you create reliable, maintainable, and high-quality audio effects.\u003c/p\u003e","","\u003cp\u003e\u003cem\u003ePart of the Permut8 Foundation Tutorial Series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-8\" class=\"doc-section\"\u003e","\u003ch1\u003e8. Debug Your Plugin\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/tutorials/debug-your-plugin.md\u003c/div\u003e","","\u003ch2\u003eDebug Your Plugin - Complete Troubleshooting Guide\u003c/h2\u003e","","\u003ch3\u003eWhat This Tutorial Does\u003c/h3\u003e","\u003cp\u003eLearn systematic debugging techniques for Permut8 plugins. We'll create a deliberately broken plugin, then fix it step by step, teaching you how to identify and solve the most common problems.\u003c/p\u003e","","\u003ch3\u003eCommon Problems We'll Solve\u003c/h3\u003e","\u003cli\u003ePlugin won't compile\u003c/li\u003e","\u003cli\u003ePlugin loads but no sound comes through\u003c/li\u003e","\u003cli\u003ePlugin makes horrible noises\u003c/li\u003e","\u003cli\u003eControls don't work\u003c/li\u003e","\u003cli\u003eLEDs don't respond\u003c/li\u003e","\u003cli\u003ePerformance issues and dropouts\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 1: Create a Broken Plugin (On Purpose!)\u003c/h3\u003e","","\u003ch4\u003e1.1 The \"Broken\" Reverb\u003c/h4\u003e","\u003cp\u003eCreate \u003ccode\u003ebroken_reverb.impala\u003c/code\u003e with these deliberate mistakes:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Broken Reverb - Full of Common Mistakes!","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","global array signal[2]","global array params[8]","global array displayLEDs[4]","","// Delay buffers for reverb","global array delayBuffer1[500]","global array delayBuffer2[750]","global array delayBuffer3[1000]","global int delayIndex = 0","","// Missing global for output buffer!","// global array outputBuffer[2]","","function process()","{","    loop {","        // BUG 1: Not reading parameters correctly","        int roomSize = params[3]    // Should be scaled","        int decay = params[4]       // Should be limited","","        // BUG 2: Delay index not bounded","        delayIndex = delayIndex + 1  // Will overflow!","","        // BUG 3: Array access without bounds checking","        int delay1 = delayBuffer1[delayIndex]","        int delay2 = delayBuffer2[delayIndex]","        int delay3 = delayBuffer3[delayIndex]","","        // BUG 4: Math that can overflow","        int reverb = delay1 * decay + delay2 * decay + delay3 * decay","","        // BUG 5: Not storing new samples in delay buffers","        // (reverb will be silent after initial buffer contents are used)","","        // BUG 6: Output without proper clipping","        signal[0] = signal[0] + reverb  // Can overflow","        signal[1] = signal[1] + reverb","","        // BUG 7: Missing yield()!","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e1.2 Try to Compile the Broken Plugin\u003c/h4\u003e","\u003cp\u003e1. Save the file and try: \u003ccode\u003ePikaCmd.exe -compile broken_reverb.impala\u003c/code\u003e\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eYou should get compilation errors!\u003c/strong\u003e This is normal - we'll fix them step by step.\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 2: Fix Compilation Errors\u003c/h3\u003e","","\u003ch4\u003e2.1 Read the Error Messages\u003c/h4\u003e","\u003cp\u003eWhen compilation fails, PikaCmd gives you specific error messages. Common ones:\u003c/p\u003e","","\u003cli\u003e\u003cstrong\u003e\"Undefined variable\"\u003c/strong\u003e - You used a variable you didn't declare\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e\"Missing semicolon\"\u003c/strong\u003e - Forgot a semicolon somewhere\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e\"Unexpected token\"\u003c/strong\u003e - Syntax error (wrong brackets, etc.)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e\"Array index out of bounds\"\u003c/strong\u003e - Tried to access an array element that doesn't exist\u003c/li\u003e","","\u003ch4\u003e2.2 Fix the Missing yield()\u003c/h4\u003e","\u003cp\u003eThe most common error: \u003cstrong\u003emissing \u003ccode\u003eyield()\u003c/code\u003e\u003c/strong\u003e. Add it:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process()","{","    loop {","        // ... all the same buggy code ...","","        // BUG 7 FIX: Add missing yield()","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e2.3 Fix Syntax Errors\u003c/h4\u003e","\u003cp\u003eIf you still get compilation errors, check these common issues:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// WRONG: Missing semicolon","int value = 42","int other = 24","","// RIGHT: Every statement needs semicolon","int value = 42;","int other = 24;","","// WRONG: Mismatched brackets","if (condition {","    // code","}","","// RIGHT: Matching brackets","if (condition) {","    // code","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e2.4 Compile Again\u003c/h4\u003e","\u003cp\u003eFix any syntax errors and compile until you get \u003ccode\u003ebroken_reverb.gazl\u003c/code\u003e successfully created.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eSuccess!\u003c/strong\u003e Compilation passed, but the plugin is still broken. Let's fix the runtime issues.\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 3: Fix \"No Sound\" Problems\u003c/h3\u003e","","\u003ch4\u003e3.1 Load and Test\u003c/h4\u003e","\u003cp\u003e1. Load: \u003ccode\u003epatch broken_reverb.gazl\u003c/code\u003e\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eProblem:\u003c/strong\u003e No sound comes through, or very quiet sound\u003c/p\u003e","","\u003ch4\u003e3.2 Debugging \"No Sound\" Issues\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eCheck 1: Are you calling yield()?\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// If you don't call yield(), the plugin hangs","function process() {","    loop {","        // ... processing code ...","        yield();  // MUST be here!","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eCheck 2: Are you preserving the signal?\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// WRONG: This destroys the input signal","signal[0] = someEffect;","","// RIGHT: This adds effect to the original signal","signal[0] = signal[0] + someEffect;","// OR mix them:","signal[0] = (signal[0] * dryAmount + someEffect * wetAmount) / 255;","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eCheck 3: Are you writing to both channels?\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// WRONG: Only left channel has sound","signal[0] = processedAudio;","// signal[1] forgotten!","","// RIGHT: Both channels","signal[0] = processedAudio;","signal[1] = processedAudio;  // Same or different processing","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e3.3 Quick Fix for Our Broken Reverb\u003c/h4\u003e","\u003cp\u003eReplace the signal output lines:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// BUG 6 FIX: Proper mixing and clipping","int mixedLeft = signal[0] + (reverb / 4);    // Reduce reverb level","int mixedRight = signal[1] + (reverb / 4);","","// Clip to prevent overflow","if (mixedLeft \u0026gt; 2047) mixedLeft = 2047;","else if (mixedLeft \u0026lt; -2047) mixedLeft = -2047;","if (mixedRight \u0026gt; 2047) mixedRight = 2047;","else if (mixedRight \u0026lt; -2047) mixedRight = -2047;","","signal[0] = mixedLeft;","signal[1] = mixedRight;","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 4: Fix Array Access Crashes\u003c/h3\u003e","","\u003ch4\u003e4.1 The Problem: Array Bounds\u003c/h4\u003e","\u003cp\u003eOur broken reverb will crash because \u003ccode\u003edelayIndex\u003c/code\u003e grows without limit and accesses memory outside the arrays.\u003c/p\u003e","","\u003ch4\u003e4.2 Debug Array Access\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eAlways wrap array indices:\u003c/strong\u003e\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// WRONG: Index grows forever","delayIndex = delayIndex + 1;","int sample = delayBuffer1[delayIndex];  // CRASH when delayIndex \u0026gt; 499","","// RIGHT: Wrap index to array size","delayIndex = (delayIndex + 1) % 500;    // Always stays 0-499","int sample = delayBuffer1[delayIndex];  // Safe","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e4.3 Fix Our Reverb's Array Access\u003c/h4\u003e","\u003cp\u003eReplace the delay buffer access:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// BUG 2 FIX: Properly wrap delay index","delayIndex = (delayIndex + 1) % 500;    // Keep in bounds","","// BUG 3 FIX: Safe array access with different indices","int delay1 = delayBuffer1[delayIndex];","int delay2 = delayBuffer2[delayIndex % 750];   // Wrap to buffer 2 size","int delay3 = delayBuffer3[delayIndex % 1000];  // Wrap to buffer 3 size","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e4.4 General Array Safety Rules\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// ALWAYS check array bounds","if (index \u0026lt; 0) index = 0;","if (index \u0026gt;= arraySize) index = arraySize - 1;","","// OR use modulo for circular access","index = index % arraySize;","","// OR use safe accessor functions","int safeRead(array buffer[], int size, int index) {","    return buffer[index % size];","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 5: Fix Math Overflow Issues\u003c/h3\u003e","","\u003ch4\u003e5.1 The Problem: Integer Overflow\u003c/h4\u003e","\u003cp\u003eAudio calculations can easily overflow Impala's integer range, causing distortion or wrapping.\u003c/p\u003e","","\u003ch4\u003e5.2 Identify Overflow Sources\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// DANGEROUS: Can overflow easily","int result = bigValue1 * bigValue2;","","// SAFER: Scale before multiplying","int result = (bigValue1 / 2) * (bigValue2 / 2);","","// SAFEST: Check ranges","int result = bigValue1 * bigValue2;","if (result \u0026gt; 2047) result = 2047;","else if (result \u0026lt; -2047) result = -2047;","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e5.3 Fix Our Reverb's Math\u003c/h4\u003e","\u003cp\u003eReplace the reverb calculation:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// BUG 4 FIX: Prevent overflow in math","// Scale decay parameter to safe range","int safeDecay = decay / 4;  // Limit multiplier","","// Safe reverb calculation with scaling","int reverb = ((delay1 * safeDecay) + (delay2 * safeDecay) + (delay3 * safeDecay)) / 255;","","// Additional safety clipping","if (reverb \u0026gt; 1000) reverb = 1000;","else if (reverb \u0026lt; -1000) reverb = -1000;","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 6: Fix Missing Functionality\u003c/h3\u003e","","\u003ch4\u003e6.1 The Problem: Silent Effect\u003c/h4\u003e","\u003cp\u003eOur reverb will go silent quickly because we're not feeding new audio into the delay buffers.\u003c/p\u003e","","\u003ch4\u003e6.2 Debug Missing Functionality\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eAlways ask: \"Where does the processed audio come from?\"\u003c/strong\u003e\u003c/p\u003e","","\u003cp\u003eFor reverb:\u003c/p\u003e","\u003cp\u003e1. New audio goes into delay buffers\u003c/p\u003e","\u003cp\u003e2. Old audio comes out of delay buffers\u003c/p\u003e","\u003cp\u003e3. Multiple delay buffers create reverb effect\u003c/p\u003e","","\u003ch4\u003e6.3 Fix Our Reverb's Missing Input\u003c/h4\u003e","\u003cp\u003eAdd after reading the delay buffers:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// BUG 5 FIX: Store new audio in delay buffers","delayBuffer1[delayIndex] = signal[0] + (delay2 / 8);        // Input + some feedback","delayBuffer2[delayIndex % 750] = signal[0] + (delay3 / 8);  // Different mixing","delayBuffer3[delayIndex % 1000] = signal[0] + (delay1 / 8); // Create reverb network","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e6.4 General Debugging Questions\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eWhere does processed audio come from?\u003c/strong\u003e\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eIs the effect state being updated each sample?\u003c/strong\u003e\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAre feedback paths connected correctly?\u003c/strong\u003e\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eIs the algorithm actually doing what you think it does?\u003c/strong\u003e\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 7: Fix Parameter Issues\u003c/h3\u003e","","\u003ch4\u003e7.1 The Problem: Raw Parameter Values\u003c/h4\u003e","\u003cp\u003eParameters come in as 0-255 but need to be scaled for different uses.\u003c/p\u003e","","\u003ch4\u003e7.2 Debug Parameter Scaling\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// WRONG: Raw parameter value","int feedback = params[4];           // 0-255, often too much","effect = input * feedback;          // Huge multiplication!","","// RIGHT: Scale to useful range","int feedback = params[4] / 4;       // 0-63, safer range","effect = (input * feedback) / 64;  // Controlled multiplication","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e7.3 Fix Our Reverb's Parameters\u003c/h4\u003e","\u003cp\u003eReplace the parameter reading:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// BUG 1 FIX: Properly scale parameters","int roomSize = params[3] / 2;       // 0-127 range","int decay = params[4] / 4;          // 0-63 range for safety","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 8: Complete Fixed Version\u003c/h3\u003e","","\u003ch4\u003e8.1 The Corrected Reverb\u003c/h4\u003e","\u003cp\u003eHere's our reverb with all bugs fixed:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Fixed Reverb - All Problems Solved!","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","global array signal[2]","global array params[8]","global array displayLEDs[4]","","global array delayBuffer1[500]","global array delayBuffer2[750]","global array delayBuffer3[1000]","global int delayIndex = 0","","function process()","{","    loop {","        // FIX 1: Properly scale parameters","        int roomSize = params[3] / 2;       // 0-127 range","        int decay = params[4] / 4;          // 0-63 range for safety","","        // FIX 2: Bound delay index","        delayIndex = (delayIndex + 1) % 500;","","        // FIX 3: Safe array access with proper indices","        int delay1 = delayBuffer1[delayIndex];","        int delay2 = delayBuffer2[delayIndex % 750];","        int delay3 = delayBuffer3[delayIndex % 1000];","","        // FIX 5: Store new audio in delay buffers (reverb network)","        delayBuffer1[delayIndex] = signal[0] + (delay2 * decay / 255);","        delayBuffer2[delayIndex % 750] = signal[0] + (delay3 * decay / 255);","        delayBuffer3[delayIndex % 1000] = signal[0] + (delay1 * decay / 255);","","        // FIX 4: Safe reverb calculation","        int reverb = ((delay1 + delay2 + delay3) * roomSize) / 255;","","        // Additional safety clipping","        if (reverb \u0026gt; 1000) reverb = 1000;","        else if (reverb \u0026lt; -1000) reverb = -1000;","","        // FIX 6: Proper mixing and clipping","        int mixedLeft = signal[0] + (reverb / 4);","        int mixedRight = signal[1] + (reverb / 4);","","        if (mixedLeft \u0026gt; 2047) mixedLeft = 2047;","        else if (mixedLeft \u0026lt; -2047) mixedLeft = -2047;","        if (mixedRight \u0026gt; 2047) mixedRight = 2047;","        else if (mixedRight \u0026lt; -2047) mixedRight = -2047;","","        signal[0] = mixedLeft;","        signal[1] = mixedRight;","","        // LED feedback for debugging","        displayLEDs[0] = (reverb \u0026gt; 100 || reverb \u0026lt; -100) ? 0xFF : 0x01;","","        // FIX 7: Always call yield()","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e8.2 Test the Fixed Version\u003c/h4\u003e","\u003cp\u003e1. Compile: \u003ccode\u003ePikaCmd.exe -compile broken_reverb.impala\u003c/code\u003e\u003c/p\u003e","\u003cp\u003e2. Load: \u003ccode\u003epatch broken_reverb.gazl\u003c/code\u003e\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eShould work now!\u003c/strong\u003e Try both knobs to control room size and decay.\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 9: Systematic Debugging Process\u003c/h3\u003e","","\u003ch4\u003e9.1 The Debug Checklist\u003c/h4\u003e","\u003cp\u003eWhen your plugin doesn't work, follow this order:\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003e1. Compilation Issues:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e[ ] Missing semicolons?\u003c/li\u003e","\u003cli\u003e[ ] Bracket mismatches?\u003c/li\u003e","\u003cli\u003e[ ] Undefined variables?\u003c/li\u003e","\u003cli\u003e[ ] Correct function signatures?\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003e2. No Sound Issues:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e[ ] Is \u003ccode\u003eyield()\u003c/code\u003e called in the main loop?\u003c/li\u003e","\u003cli\u003e[ ] Are you writing to \u003ccode\u003esignal[0]\u003c/code\u003e and \u003ccode\u003esignal[1]\u003c/code\u003e?\u003c/li\u003e","\u003cli\u003e[ ] Are you preserving input audio?\u003c/li\u003e","\u003cli\u003e[ ] Is the effect level reasonable?\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003e3. Crash/Noise Issues:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e[ ] Array bounds checking?\u003c/li\u003e","\u003cli\u003e[ ] Math overflow protection?\u003c/li\u003e","\u003cli\u003e[ ] Parameter scaling?\u003c/li\u003e","\u003cli\u003e[ ] Initialization of variables?\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003e4. Control Issues:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e[ ] Reading correct parameter indices?\u003c/li\u003e","\u003cli\u003e[ ] Scaling parameters to useful ranges?\u003c/li\u003e","\u003cli\u003e[ ] LED feedback working?\u003c/li\u003e","","\u003ch4\u003e9.2 Debug by Elimination\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eStart Simple:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Test 1: Just pass audio through","signal[0] = signal[0];","signal[1] = signal[1];","yield();","// If this doesn't work, you have basic setup issues","","// Test 2: Add simple effect","signal[0] = signal[0] / 2;  // Half volume","signal[1] = signal[1] / 2;","yield();","// If this works, your effect processing has the problem","","// Test 3: Add one parameter","int volume = params[3] / 2;","signal[0] = (signal[0] * volume) / 128;","signal[1] = (signal[1] * volume) / 128;","yield();","// If this works, parameter scaling is correct","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eBuild Up Complexity Gradually:\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003e1. Get basic audio passing through\u003c/p\u003e","\u003cp\u003e2. Add simple effect\u003c/p\u003e","\u003cp\u003e3. Add first parameter\u003c/p\u003e","\u003cp\u003e4. Add more parameters\u003c/p\u003e","\u003cp\u003e5. Add LED feedback\u003c/p\u003e","\u003cp\u003e6. Add advanced features\u003c/p\u003e","","\u003ch4\u003e9.3 Common Debugging Tricks\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eUse LEDs for Debugging:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Show parameter values","displayLEDs[0] = params[3];","","// Show if processing is happening","displayLEDs[1] = (signal[0] \u0026gt; 100) ? 0xFF : 0x00;","","// Show internal state","displayLEDs[2] = internalVariable % 256;","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eAdd Safety Everywhere:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Clip all audio outputs","if (output \u0026gt; 2047) output = 2047;","else if (output \u0026lt; -2047) output = -2047;","","// Bound all array access","index = index % arraySize;","","// Scale all parameters","param = params[3] / scaleFactor;","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eStep 10: Performance Debugging\u003c/h3\u003e","","\u003ch4\u003e10.1 Identify Performance Problems\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eSymptoms:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003eAudio dropouts or stuttering\u003c/li\u003e","\u003cli\u003ePlugin causes DAW to slow down\u003c/li\u003e","\u003cli\u003eClicks and pops in audio\u003c/li\u003e","","\u003ch4\u003e10.2 Common Performance Issues\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eToo Much Math:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// SLOW: Complex math every sample","int result = sqrt(value1 * value1 + value2 * value2);","","// FAST: Approximate or use lookup tables","int result = fastApproximateDistance(value1, value2);","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eLarge Array Operations:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// SLOW: Processing huge arrays every sample","for (int i = 0; i \u0026lt; 10000; i++) {","    bigArray[i] = bigArray[i] * 2;","}","","// FAST: Process smaller chunks or fewer operations","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eUnnecessary Calculations:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// SLOW: Recalculating constants","int coefficient = (params[3] * 3.14159) / 255;  // Every sample!","","// FAST: Calculate only when parameter changes","static int lastParam = -1;","static int coefficient = 0;","if (params[3] != lastParam) {","    coefficient = (params[3] * 314) / 255;  // Use integer approximation","    lastParam = params[3];","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e10.3 Performance Optimization Tips\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eUse integer math\u003c/strong\u003e instead of floating point\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePre-calculate lookup tables\u003c/strong\u003e for complex functions\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eOnly update when parameters change\u003c/strong\u003e\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLimit array sizes\u003c/strong\u003e to what you actually need\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eUse bit shifts\u003c/strong\u003e instead of multiplication by powers of 2\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eQuick Reference: Problem  Solution\u003c/h3\u003e","","\u003cp\u003e| Problem | Likely Cause | Quick Fix |\u003c/p\u003e","\u003cp\u003e|---------|--------------|-----------|\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eWon't compile\u003c/strong\u003e | Syntax error | Check semicolons, brackets, variable names |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eNo sound\u003c/strong\u003e | Missing \u003ccode\u003eyield()\u003c/code\u003e or not writing to \u003ccode\u003esignal[]\u003c/code\u003e | Add \u003ccode\u003eyield()\u003c/code\u003e, write to both channels |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eDistorted/noisy\u003c/strong\u003e | Math overflow | Add clipping, scale parameters |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eCrashes\u003c/strong\u003e | Array bounds | Use modulo \u003ccode\u003e%\u003c/code\u003e for array access |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eControls don't work\u003c/strong\u003e | Parameter scaling | Scale \u003ccode\u003eparams[]\u003c/code\u003e to useful ranges |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eLEDs don't work\u003c/strong\u003e | Wrong values | Ensure LED values are 0-255 |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003ePerformance issues\u003c/strong\u003e | Too much computation | Optimize math, use lookup tables |\u003c/p\u003e","","\u003ch3\u003eYou're Now a Plugin Debugging Expert!\u003c/h3\u003e","","\u003cp\u003eYou learned:\u003c/p\u003e","\u003cli\u003e \u003cstrong\u003eSystematic debugging process\u003c/strong\u003e from compilation to performance\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eMost common mistakes\u003c/strong\u003e and how to avoid them\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eSafety patterns\u003c/strong\u003e for robust plugin development\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003ePerformance optimization\u003c/strong\u003e techniques\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eDebug-by-elimination\u003c/strong\u003e methodology\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eThese skills apply to ANY plugin you build!\u003c/strong\u003e Follow the checklist, build complexity gradually, and use LEDs for debugging feedback.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-9\" class=\"doc-section\"\u003e","\u003ch1\u003e9. Core_Language_Reference\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/language/core_language_reference.md\u003c/div\u003e","","\u003ch2\u003eCore Language Reference - Essential Impala\u003c/h2\u003e","","\u003cp\u003eThe minimal language reference you need to start creating Permut8 firmware.\u003c/p\u003e","","\u003ch3\u003eImpala Basics\u003c/h3\u003e","","\u003cp\u003eImpala is a C-like language that compiles to GAZL assembly. If you know C, you know 90% of Impala.\u003c/p\u003e","","\u003ch4\u003eKey Differences from C:\u003c/h4\u003e","\u003cli\u003eNo \u003ccode\u003e#include\u003c/code\u003e or preprocessor\u003c/li\u003e","\u003cli\u003eNo pointers to functions\u003c/li\u003e","\u003cli\u003eNo \u003ccode\u003emalloc/free\u003c/code\u003e (static memory only)\u003c/li\u003e","\u003cli\u003eBuilt-in \u003ccode\u003eloop\u003c/code\u003e construct\u003c/li\u003e","\u003cli\u003eNative \u003ccode\u003eyield()\u003c/code\u003e for cooperative multitasking\u003c/li\u003e","","\u003ch3\u003eEssential Firmware Structure\u003c/h3\u003e","","\u003ch4\u003eFull Patch (Audio Processing)\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2  // Required!","","global array signal[2]      // Audio I/O: [left, right]","global array params[8]      // Knob values: 0-255","global array displayLEDs[4] // LED displays: 8-bit masks","","function process() {","    loop {  // Infinite processing loop","        // Process global signal[0] and signal[1]","        // Audio range: -2047 to 2047 (12-bit)","","        yield();  // Return control to Permut8","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMod Patch (Operator Replacement)\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2  // Required!","","global array positions[2]   // Memory positions: [left, right]","global array params[PARAM_COUNT]   // Parameters array","global array displayLEDs[4]        // LED displays","","function operate1(int a)","returns int processed","{","    // Check if we should handle this operator","    if ((int) global params[OPERATOR_1_PARAM_INDEX] == OPERATOR_1_MUL) {","        // Modify global positions[0] and positions[1]","        // Positions: 0x00000 to 0xFFFFF (20-bit with 4 frac bits)","        processed = 1;  // Return 1 if handled, 0 to pass through","    } else {","        processed = 0;  // Pass to default handler","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eCore Global Variables\u003c/h3\u003e","","\u003ch4\u003eAlways Available\u003c/h4\u003e","\u003cp\u003e| Global | Type | Description |\u003c/p\u003e","\u003cp\u003e|--------|------|-------------|\u003c/p\u003e","\u003cp\u003e| \u003ccode\u003eglobal array params[PARAM_COUNT]\u003c/code\u003e | int array | Knob/switch values (0-255) |\u003c/p\u003e","\u003cp\u003e| \u003ccode\u003eglobal array displayLEDs[4]\u003c/code\u003e | int array | LED displays under knobs |\u003c/p\u003e","\u003cp\u003e| \u003ccode\u003eglobal int clock\u003c/code\u003e | int | Sample counter (0-65535) |\u003c/p\u003e","\u003cp\u003e| \u003ccode\u003eglobal int instance\u003c/code\u003e | int | Unique plugin instance ID |\u003c/p\u003e","","\u003ch4\u003eFull Patches Only\u003c/h4\u003e","\u003cp\u003e| Global | Type | Description |\u003c/p\u003e","\u003cp\u003e|--------|------|-------------|\u003c/p\u003e","\u003cp\u003e| \u003ccode\u003eglobal array signal[2]\u003c/code\u003e | int array | Audio samples L/R (-2047 to 2047) |\u003c/p\u003e","","\u003ch4\u003eMod Patches Only\u003c/h4\u003e","\u003cp\u003e| Global | Type | Description |\u003c/p\u003e","\u003cp\u003e|--------|------|-------------|\u003c/p\u003e","\u003cp\u003e| \u003ccode\u003eglobal array positions[2]\u003c/code\u003e | int array | Memory positions L/R (20-bit fixed point) |\u003c/p\u003e","","\u003ch3\u003eParameter Indices\u003c/h3\u003e","","\u003cp\u003eAccess knob/switch values via \u003ccode\u003eglobal params[]\u003c/code\u003e:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Parameter indices (externally defined constants)","const int CLOCK_FREQ_PARAM_INDEX       // Clock rate","const int SWITCHES_PARAM_INDEX         // Switch states (bitmask)","const int OPERATOR_1_PARAM_INDEX       // Operator 1 selection","const int OPERAND_1_HIGH_PARAM_INDEX   // First knob (top)","const int OPERAND_1_LOW_PARAM_INDEX    // Second knob","const int OPERATOR_2_PARAM_INDEX       // Operator 2 selection","const int OPERAND_2_HIGH_PARAM_INDEX   // Third knob","const int OPERAND_2_LOW_PARAM_INDEX    // Fourth knob (bottom)","const int PARAM_COUNT                  // Total parameter count","","// Operator constants (externally defined)","const int OPERATOR_1_NOP               // No operation","const int OPERATOR_1_AND               // Bitwise AND","const int OPERATOR_1_MUL               // Multiply","const int OPERATOR_1_OSC               // Oscillator","const int OPERATOR_1_RND               // Random","","const int OPERATOR_2_NOP               // No operation","const int OPERATOR_2_OR                // Bitwise OR","const int OPERATOR_2_XOR               // Bitwise XOR","const int OPERATOR_2_MSK               // Mask","const int OPERATOR_2_SUB               // Subtract","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eSwitch Bitmasks\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Switch bitmasks (externally defined constants)","const int SWITCHES_SYNC_MASK           // Tempo sync enabled","const int SWITCHES_TRIPLET_MASK        // Triplet timing","const int SWITCHES_DOTTED_MASK         // Dotted timing","const int SWITCHES_WRITE_PROTECT_MASK  // Write protection","const int SWITCHES_REVERSE_MASK        // Reverse playback","","// Example usage:","if ((int) global params[SWITCHES_PARAM_INDEX] \u0026amp; SWITCHES_SYNC_MASK) {","    // Sync is ON","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eEssential Functions\u003c/h3\u003e","","\u003ch4\u003eRequired by Permut8\u003c/h4\u003e","\u003cp\u003e| Function | When Called | Purpose |\u003c/p\u003e","\u003cp\u003e|----------|-------------|---------|\u003c/p\u003e","\u003cp\u003e| \u003ccode\u003eprocess()\u003c/code\u003e | Every sample (full patch) | Main audio processing |\u003c/p\u003e","\u003cp\u003e| \u003ccode\u003eoperate1/2()\u003c/code\u003e | When operator active (mod patch) | Modify memory positions |\u003c/p\u003e","","\u003ch4\u003eOptional Callbacks\u003c/h4\u003e","\u003cp\u003e| Function | When Called | Purpose |\u003c/p\u003e","\u003cp\u003e|----------|-------------|---------|\u003c/p\u003e","\u003cp\u003e| \u003ccode\u003einit()\u003c/code\u003e | Once at load | Initialize tables/state |\u003c/p\u003e","\u003cp\u003e| \u003ccode\u003ereset()\u003c/code\u003e | Reset switch/DAW | Clear delays/state |\u003c/p\u003e","\u003cp\u003e| \u003ccode\u003eupdate()\u003c/code\u003e | Parameter change | Recalculate values |\u003c/p\u003e","","\u003ch4\u003eNative Functions\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","yield()         // Return control (use in process loop)","abort()         // Kill firmware, restore normal operation","trace(string)   // Debug output (console/DebugView)","read(offset, count, buffer)   // Read from delay memory","write(offset, count, buffer)  // Write to delay memory","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eData Types\u003c/h3\u003e","","\u003ch4\u003eBasic Types\u003c/h4\u003e","\u003cli\u003e\u003ccode\u003eint\u003c/code\u003e - 32-bit signed integer\u003c/li\u003e","\u003cli\u003e\u003ccode\u003efloat\u003c/code\u003e - 32-bit floating point\u003c/li\u003e","\u003cli\u003e\u003ccode\u003epointer\u003c/code\u003e - Memory address\u003c/li\u003e","\u003cli\u003e\u003ccode\u003earray\u003c/code\u003e - Fixed-size array\u003c/li\u003e","","\u003ch4\u003eType Casting\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","int x = (int) global params[3];     // Always cast params[]","float f = itof(x);                  // int to float","int i = ftoi(f);                    // float to int","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eControl Flow\u003c/h3\u003e","","\u003ch4\u003eLoops\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","loop { }                // Infinite loop (use yield()!)","for (i = 0 to n) { }    // Inclusive: 0,1,2,...,n","while (x \u0026lt; 10) { }      // Standard while","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eConditionals\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","if (x \u0026gt; 0) { }","else if (x \u0026lt; 0) { }","else { }","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eLED Display Patterns\u003c/h3\u003e","","\u003cp\u003eLEDs are 8-bit values (0-255) where each bit lights one LED:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global displayLEDs[0] = 0x01;  // Single LED (leftmost)","global displayLEDs[0] = 0x80;  // Single LED (rightmost)","global displayLEDs[0] = 0xFF;  // All LEDs on","global displayLEDs[0] = 0x0F;  // Left 4 LEDs","global displayLEDs[0] = 1 \u0026lt;\u0026lt; position;  // Variable position","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eCommon Patterns\u003c/h3\u003e","","\u003ch4\u003eParameter Scaling\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Map 0-255 to useful range","int depth = (int) global params[OPERAND_1_HIGH_PARAM_INDEX] \u0026gt;\u0026gt; 2;      // 0-63","int bits = ((int) global params[OPERAND_1_HIGH_PARAM_INDEX] \u0026gt;\u0026gt; 5) + 1; // 1-8","float mix = itof((int) global params[OPERAND_1_HIGH_PARAM_INDEX]) / 255.0; // 0.0-1.0","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eSafe Audio Processing\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Clamp to valid range","if (sample \u0026gt; 2047) sample = 2047;","else if (sample \u0026lt; -2047) sample = -2047;","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMemory Access (Delays)\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","array buffer[2];","read(global clock - 1000, 1, buffer);  // Read 1000 samples ago","// buffer[0] = left, buffer[1] = right","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eQuick Debugging\u003c/h3\u003e","","\u003ch4\u003eTrace Values\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","array buf[128];","sprintf(buf, \"Value: %d\", myValue);","trace(buf);","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eTest Mode\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","if (DEBUG) {  // Defined when loading from console","    trace(\"Debug mode active\");","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMinimal Working Examples\u003c/h3\u003e","","\u003ch4\u003eBit Crusher (Full Patch)\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","global array signal[2]              // Audio I/O","global array params[PARAM_COUNT]    // Parameters","global array displayLEDs[4]        // LED displays","","function process() {","    loop {","        int bits = ((int) global params[OPERAND_1_HIGH_PARAM_INDEX] \u0026gt;\u0026gt; 5) + 1;","        int mask = 0xFFF0 \u0026lt;\u0026lt; (12 - bits);","        global signal[0] = (int) global signal[0] \u0026amp; mask;","        global signal[1] = (int) global signal[1] \u0026amp; mask;","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003ePosition Shifter (Mod Patch)\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","global array positions[2]           // Memory positions","global array params[PARAM_COUNT]    // Parameters","global array displayLEDs[4]        // LED displays","","function operate1(int a)","returns int r","{","    if ((int) global params[OPERATOR_1_PARAM_INDEX] == OPERATOR_1_MUL) {","        int shift = (int) global params[OPERAND_1_HIGH_PARAM_INDEX] \u0026lt;\u0026lt; 8;","        global positions[0] = (int) global positions[0] + shift;","        global positions[1] = (int) global positions[1] + shift;","        r = 1;  // Handled","    } else {","        r = 0;  // Pass through","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eSee Also\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003e Complete Documentation:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003e[Complete Language Syntax Reference](language-syntax-reference.md)\u003c/strong\u003e - Full syntax guide with all operators and constructs\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Memory Management Reference](../reference/memory_management.md)\u003c/strong\u003e - Delay lines, read/write operations, position arrays\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Utilities Reference](../reference/utilities_reference.md)\u003c/strong\u003e - Native functions, math, strings, debugging\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Impala Snippets](../../../Impala Snippets.txt)\u003c/strong\u003e - Copy-paste utility functions and math library\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003e Cookbook Examples:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003e[Basic Oscillator](../user-guides/cookbook/fundamentals/basic-oscillator.md)\u003c/strong\u003e - Simple sine wave generation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Make a Delay](../user-guides/cookbook/audio-effects/make-a-delay.md)\u003c/strong\u003e - Basic delay effect implementation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Parameter Mapping](../user-guides/cookbook/fundamentals/parameter-mapping.md)\u003c/strong\u003e - Knob and switch handling\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003e锔 Architecture:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003e[Memory Model](../architecture/memory-model.md)\u003c/strong\u003e - Understanding Permut8's memory system\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Processing Order](../architecture/processing-order.md)\u003c/strong\u003e - When functions are called\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Mod vs Full Patches](../architecture/mod-vs-full.md)\u003c/strong\u003e - Choosing the right patch type\u003c/li\u003e","\u003c/section\u003e","","\u003csection id=\"section-10\" class=\"doc-section\"\u003e","\u003ch1\u003e10. Language Syntax Reference\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/language/language-syntax-reference.md\u003c/div\u003e","","\u003ch2\u003eLanguage Syntax Reference\u003c/h2\u003e","","\u003cp\u003eComplete syntax guide for the Impala programming language used in Permut8 firmware development.\u003c/p\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","","\u003cp\u003eImpala is a C-like language that compiles to GAZL assembly for the Permut8 device. It provides real-time audio processing capabilities with static memory allocation and cooperative multitasking.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eKey Features:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003eC-like syntax with simplified semantics\u003c/li\u003e","\u003cli\u003eStatic memory allocation (no malloc/free)\u003c/li\u003e","\u003cli\u003eCooperative multitasking with \u003ccode\u003eyield()\u003c/code\u003e\u003c/li\u003e","\u003cli\u003eBuilt-in audio processing constructs\u003c/li\u003e","\u003cli\u003eDirect hardware integration\u003c/li\u003e","","\u003ch3\u003eProgram Structure\u003c/h3\u003e","","\u003cp\u003eEvery Impala firmware follows this basic structure:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","/*","    Firmware comments and description","*/","","/* ------ Required Format Declaration ------ */","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","/* ------ Global Variables ------ */","global array signal[2]              // Full patches only","global array positions[2]           // Mod patches only","global array params[PARAM_COUNT]    // Always available","global array displayLEDs[4]         // Always available","","/* ------ Global State ------ */","global int myVariable = 0","global array myBuffer[1024]","","/* ------ Required Functions ------ */","function process()                   // Full patches","function operate1(int a) returns int processed  // Mod patches","","/* ------ Optional Functions ------ */","function init()                     // Called once at load","function reset()                    // Called on reset","function update()                   // Called on parameter change","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eData Types\u003c/h3\u003e","","\u003ch4\u003eBasic Types\u003c/h4\u003e","\u003cp\u003e| Type | Size | Range | Description |\u003c/p\u003e","\u003cp\u003e|------|------|-------|-------------|\u003c/p\u003e","\u003cp\u003e| \u003ccode\u003eint\u003c/code\u003e | 32-bit | -2,147,483,648 to 2,147,483,647 | Signed integer |\u003c/p\u003e","\u003cp\u003e| \u003ccode\u003efloat\u003c/code\u003e | 32-bit | IEEE 754 | Floating point |\u003c/p\u003e","\u003cp\u003e| \u003ccode\u003epointer\u003c/code\u003e | 32-bit | Memory address | Pointer to memory |\u003c/p\u003e","","\u003ch4\u003eArrays\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Fixed-size arrays only","array buffer[1024]              // Local array","global array delayLine[8192]    // Global array","readonly array table[256]       // Read-only array","","// Array access","buffer[0] = 123;               // Set element","int value = buffer[0];         // Get element","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eType Casting\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","int x = (int) global params[0];         // Cast to int","float f = itof(x);                      // int to float","int i = ftoi(f);                        // float to int","pointer p = \u0026amp;buffer[0];                 // Address of array element","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eConstants and Variables\u003c/h3\u003e","","\u003ch4\u003eConstants\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int BUFFER_SIZE = 1024            // Integer constant","const float PI = 3.14159265             // Float constant","const int FALSE = 0                     // Boolean constant","const int TRUE = 1                      // Boolean constant","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eVariable Declarations\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Local variables","int sampleCount","float delayTime = 0.5","array tempBuffer[64]","","// Global variables (accessible across functions)","global int position = 0","global array circularBuffer[2048]","global float mixLevel","","// Read-only global data","readonly array sineTable[1024] = { /* data */ }","readonly int maxDelay = 8000","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eOperators\u003c/h3\u003e","","\u003ch4\u003eArithmetic Operators\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","int a = 10 + 5;        // Addition","int b = 10 - 5;        // Subtraction","int c = 10 * 5;        // Multiplication","int d = 10 / 5;        // Division","int e = 10 % 3;        // Modulo","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eBitwise Operators\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","int a = 0xFF \u0026amp; 0x0F;   // Bitwise AND","int b = 0xFF | 0x0F;   // Bitwise OR","int c = 0xFF ^ 0x0F;   // Bitwise XOR","int d = ~0xFF;         // Bitwise NOT","int e = 0xFF \u0026lt;\u0026lt; 2;     // Left shift","int f = 0xFF \u0026gt;\u0026gt; 2;     // Right shift","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eComparison Operators\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","if (a == b) { }        // Equal","if (a != b) { }        // Not equal","if (a \u0026lt; b) { }         // Less than","if (a \u0026lt;= b) { }        // Less than or equal","if (a \u0026gt; b) { }         // Greater than","if (a \u0026gt;= b) { }        // Greater than or equal","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eLogical Operators\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","if (a \u0026amp;\u0026amp; b) { }        // Logical AND","if (a || b) { }        // Logical OR","if (!a) { }            // Logical NOT","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eControl Flow\u003c/h3\u003e","","\u003ch4\u003eConditional Statements\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Basic if statement","if (condition) {","    // statements","}","","// If-else","if (condition) {","    // statements","} else {","    // statements","}","","// If-else-if chain","if (condition1) {","    // statements","} else if (condition2) {","    // statements","} else {","    // statements","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eLoops\u003c/h4\u003e","","\u003ch5\u003eFor Loops\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Inclusive range (0, 1, 2, ..., n)","for (i = 0 to n) {","    // loop body","}","","// With step (manual implementation)","for (i = 0; i \u0026lt; n; i = i + 2) {","    // loop body","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch5\u003eWhile Loops\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","while (condition) {","    // loop body","}","","// Example","int i = 0;","while (i \u0026lt; 10) {","    // process","    i = i + 1;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch5\u003eInfinite Loops\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","loop {","    // Main processing loop","    // MUST include yield() for real-time processing","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eFunctions\u003c/h3\u003e","","\u003ch4\u003eFunction Declaration\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Basic function","function myFunction() {","    // function body","}","","// Function with parameters","function processSignal(int gain, float frequency) {","    // function body","}","","// Function with return value","function calculateGain(int input)","returns int output","{","    output = input * 2;","}","","// Function with local variables","function complexFunction(int param)","returns float result","locals int temp, array workspace[256]","{","    temp = param * 2;","    result = itof(temp);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eRequired Functions for Firmware\u003c/h4\u003e","","\u003ch5\u003eFull Patches\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    loop {","        // Process global signal[0] and signal[1]","        // Audio range: -2047 to 2047 (12-bit)","","        yield();  // REQUIRED - return control to host","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch5\u003eMod Patches\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function operate1(int a)","returns int processed","{","    if ((int) global params[OPERATOR_1_PARAM_INDEX] == OPERATOR_1_MUL) {","        // Process global positions[0] and positions[1]","        // Return 1 if handled, 0 to pass through","        processed = 1;","    } else {","        processed = 0;","    }","}","","function operate2(int a)","returns int processed","{","    // Similar to operate1 for second operator","    processed = 0;  // Pass through by default","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eOptional Callback Functions\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function init() {","    // Called once when firmware loads","    // Initialize lookup tables, state, etc.","}","","function reset() {","    // Called on reset button or DAW reset","    // Clear delays, reset state","}","","function update() {","    // Called when parameters change","    // Recalculate derived values","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eBuilt-in Functions\u003c/h3\u003e","","\u003ch4\u003eAudio Processing\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Memory operations (delay lines)","read(int offset, int frameCount, pointer buffer)","write(int offset, int frameCount, pointer buffer)","","// Control flow","yield()                 // Return control to host (required in loops)","abort()                 // Kill firmware, restore normal operation","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eDebug Functions\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","trace(pointer string)   // Output debug string to console","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMath Functions\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Basic math (from source examples)","float cos(float x)      // Cosine (if available)","float sin(float x)      // Sine (if available)","float abs(float x)      // Absolute value","float floor(float x)    // Floor function","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eGlobal Variables and APIs\u003c/h3\u003e","","\u003ch4\u003eAlways Available\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array params[PARAM_COUNT]        // Parameter values (0-255)","global array displayLEDs[4]            // LED displays (8-bit masks)","global int clock                       // Sample counter (0-65535)","global int instance                    // Unique plugin instance ID","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eFull Patches Only\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array signal[2]                 // Audio I/O: [left, right]","                                       // Range: -2047 to 2047 (12-bit)","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMod Patches Only\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array positions[2]              // Memory positions: [left, right]","                                       // Range: 0x00000 to 0xFFFFF (20-bit fixed point)","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eParameter Access\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Use predefined constants (externally defined)","int knob1 = (int) global params[OPERAND_1_HIGH_PARAM_INDEX];","int knob2 = (int) global params[OPERAND_1_LOW_PARAM_INDEX];","int switches = (int) global params[SWITCHES_PARAM_INDEX];","","// Switch testing","if ((int) global params[SWITCHES_PARAM_INDEX] \u0026amp; SWITCHES_SYNC_MASK) {","    // Sync is enabled","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMemory Management\u003c/h3\u003e","","\u003ch4\u003eStatic Allocation Only\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// All memory must be declared at compile time","global array largeBuffer[16384]    // Global storage","array tempBuffer[64]               // Local storage (function scope)","","// NO dynamic allocation - these don't exist:","// malloc(), free(), new, delete","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMemory Access Patterns\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Safe array access","array buffer[1024];","int index = 0;","if (index \u0026gt;= 0 \u0026amp;\u0026amp; index \u0026lt; 1024) {","    buffer[index] = value;  // Safe","}","","// Circular buffer pattern","global int writePos = 0;","global array circularBuffer[1024];","","writePos = (writePos + 1) % 1024;   // Wrap around","circularBuffer[writePos] = newValue;","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eReal-time Considerations\u003c/h3\u003e","","\u003ch4\u003eCooperative Multitasking\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    loop {","        // Process one sample or small batch","","        yield();  // REQUIRED - return control regularly","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003ePerformance Guidelines\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Prefer integer operations for speed","int sample = (int) global signal[0];","sample = sample \u0026gt;\u0026gt; 1;  // Fast divide by 2","global signal[0] = sample;","","// Use lookup tables for expensive calculations","readonly array expTable[256] = { /* precomputed values */ };","int result = expTable[input \u0026amp; 0xFF];","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eCommon Patterns\u003c/h3\u003e","","\u003ch4\u003eParameter Scaling\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Map 0-255 parameter to useful range","int bits = ((int) global params[OPERAND_1_HIGH_PARAM_INDEX] \u0026gt;\u0026gt; 5) + 1;  // 1-8","float gain = itof((int) global params[OPERAND_1_HIGH_PARAM_INDEX]) / 255.0;  // 0.0-1.0","int delay = (int) global params[OPERAND_1_HIGH_PARAM_INDEX] \u0026lt;\u0026lt; 3;  // 0-2040","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eAudio Range Clamping\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Ensure audio stays in valid range","if (sample \u0026gt; 2047) sample = 2047;","else if (sample \u0026lt; -2047) sample = -2047;","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eLED Display\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Set LED patterns (8-bit mask, bit 0 = leftmost LED)","global displayLEDs[0] = 0x01;           // Single LED left","global displayLEDs[0] = 0x80;           // Single LED right","global displayLEDs[0] = 0xFF;           // All LEDs on","global displayLEDs[0] = 1 \u0026lt;\u0026lt; position;  // Variable position","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eDelay Line Access\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Read/write delay memory","array buffer[2];  // Stereo pair","","// Write current sample to delay line","write(global clock, 1, global signal);","","// Read delayed sample","read(global clock - delayTime, 1, buffer);","int delayedLeft = buffer[0];","int delayedRight = buffer[1];","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eComments\u003c/h3\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Single line comment","","/*","   Multi-line comment","   can span multiple lines","*/","","/*"," * Traditional C-style"," * multi-line comment"," */","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePreprocessor\u003c/h3\u003e","\u003cp\u003e\u003cstrong\u003eNote:\u003c/strong\u003e Impala has NO preprocessor. These don't exist:\u003c/p\u003e","\u003cli\u003e\u003ccode\u003e#include\u003c/code\u003e\u003c/li\u003e","\u003cli\u003e\u003ccode\u003e#define\u003c/code\u003e\u003c/li\u003e","\u003cli\u003e\u003ccode\u003e#ifdef\u003c/code\u003e\u003c/li\u003e","\u003cli\u003e\u003ccode\u003e#pragma\u003c/code\u003e\u003c/li\u003e","","\u003cp\u003eAll configuration must be done with \u003ccode\u003econst\u003c/code\u003e declarations and conditional compilation is not available.\u003c/p\u003e","","\u003ch3\u003eError Handling\u003c/h3\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// No exceptions - use return values and defensive programming","function safeDivide(int a, int b)","returns int result","{","    if (b != 0) {","        result = a / b;","    } else {","        result = 0;  // Safe default","        trace(\"Division by zero avoided\");","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eExample: Complete Bit Crusher\u003c/h3\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","/*","    Simple bit crusher firmware demonstrating core Impala syntax","*/","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","global array signal[2]              // Audio I/O","global array params[PARAM_COUNT]    // Parameters","global array displayLEDs[4]        // LED displays","","function process() {","    loop {","        // Get bit depth from first knob (1-12 bits)","        int bits = ((int) global params[OPERAND_1_HIGH_PARAM_INDEX] \u0026gt;\u0026gt; 4) + 1;","","        // Create bit mask for quantization","        int mask = 0xFFF0 \u0026lt;\u0026lt; (12 - bits);","","        // Apply bit crushing to both channels","        global signal[0] = (int) global signal[0] \u0026amp; mask;","        global signal[1] = (int) global signal[1] \u0026amp; mask;","","        // Show bit depth on LEDs","        global displayLEDs[0] = (1 \u0026lt;\u0026lt; bits) - 1;","","        yield();  // Return control to host","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eThis syntax reference reflects the actual Impala language as implemented in the Permut8 compiler, based on analysis of working source code.\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eSee Also\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003e Essential References:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003e[Core Language Reference](core_language_reference.md)\u003c/strong\u003e - Quick start guide with minimal examples\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Memory Management Reference](../reference/memory_management.md)\u003c/strong\u003e - Delay lines, read/write operations, advanced patterns\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Utilities Reference](../reference/utilities_reference.md)\u003c/strong\u003e - Native functions, math library, debugging tools\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Impala Snippets](../../../Impala Snippets.txt)\u003c/strong\u003e - Copy-paste utility functions and advanced math\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003e Practical Examples:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003e[QUICKSTART Guide](../user-guides/QUICKSTART.md)\u003c/strong\u003e - 30-minute firmware tutorial\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Cookbook Fundamentals](../user-guides/cookbook/fundamentals/)\u003c/strong\u003e - Basic building blocks\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Audio Effects Cookbook](../user-guides/cookbook/audio-effects/)\u003c/strong\u003e - Complete effect implementations\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003e锔 System Architecture:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003e[Memory Model](../architecture/memory-model.md)\u003c/strong\u003e - Static allocation, delay lines, position arrays\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Processing Order](../architecture/processing-order.md)\u003c/strong\u003e - Function call sequence and timing\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[State Management](../architecture/state-management.md)\u003c/strong\u003e - Global variables and persistence\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003e Development:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003e[Build Your First Filter](../user-guides/tutorials/build-your-first-filter.md)\u003c/strong\u003e - Step-by-step tutorial\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Debug Your Plugin](../user-guides/tutorials/debug-your-plugin.md)\u003c/strong\u003e - Debugging and troubleshooting\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Test Your Plugin](../user-guides/tutorials/test-your-plugin.md)\u003c/strong\u003e - Validation and testing\u003c/li\u003e","\u003c/section\u003e","","\u003csection id=\"section-11\" class=\"doc-section\"\u003e","\u003ch1\u003e11. Standard Library Reference\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/language/standard-library-reference.md\u003c/div\u003e","","\u003ch2\u003eStandard Library Reference\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","","\u003cp\u003eThe Impala language provides essential native functions and mathematical operations optimized for real-time audio processing on Permut8 firmware. This reference documents all available built-in functions, their usage patterns, and practical applications in firmware development.\u003c/p\u003e","","\u003cp\u003eImpala focuses on real-time safety with static allocation, cooperative multitasking, and direct hardware integration for professional audio processing.\u003c/p\u003e","","\u003ch3\u003eNative Functions\u003c/h3\u003e","","\u003ch4\u003eMemory Operations\u003c/h4\u003e","","\u003cp\u003eEssential functions for delay line and audio buffer management:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Read from delay memory","read(int offset, int frameCount, pointer buffer)","","// Write to delay memory","write(int offset, int frameCount, pointer buffer)","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eDelay Line Example:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array signal[2]      // Audio I/O","global array delayBuffer[2] // For reading delay samples","","function process() {","    loop {","        // Write current samples to delay line","        write(global clock, 1, global signal)","","        // Read delayed samples (1000 samples ago)","        read(global clock - 1000, 1, delayBuffer)","","        // Mix with delay","        global signal[0] = (global signal[0] + delayBuffer[0]) \u0026gt;\u0026gt; 1","        global signal[1] = (global signal[1] + delayBuffer[1]) \u0026gt;\u0026gt; 1","","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eControl Flow Functions\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Return control to audio engine (REQUIRED in processing loops)","yield()","","// Kill firmware and restore normal operation","abort()","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eProcessing Loop Pattern:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    loop {","        // Process audio samples","        global signal[0] = global signal[0] \u0026gt;\u0026gt; 1  // Simple gain reduction","        global signal[1] = global signal[1] \u0026gt;\u0026gt; 1","","        yield()  // CRITICAL: Return control to system","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eDebug Functions\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Output debug message to console","trace(pointer string)","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eDebug Usage:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function update() {","    trace(\"Parameters updated\")","    trace(\"Knob 1 value changed\")","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMathematical Operations\u003c/h3\u003e","","\u003ch4\u003eBasic Arithmetic\u003c/h4\u003e","","\u003cp\u003eImpala supports standard arithmetic with integer and floating-point operations:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Integer arithmetic (preferred for performance)","int result = a + b       // Addition","int result = a - b       // Subtraction","int result = a * b       // Multiplication","int result = a / b       // Division","int result = a % b       // Modulo","","// Bitwise operations (very fast)","int result = a \u0026amp; b       // Bitwise AND","int result = a | b       // Bitwise OR","int result = a ^ b       // Bitwise XOR","int result = ~a          // Bitwise NOT","int result = a \u0026lt;\u0026lt; 2      // Left shift (multiply by 4)","int result = a \u0026gt;\u0026gt; 2      // Right shift (divide by 4)","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eTrigonometric Functions\u003c/h4\u003e","","\u003cp\u003eAvailable floating-point math functions:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Basic trigonometric functions","float cos(float x)       // Cosine function","float sin(float x)       // Sine function","float tan(float x)       // Tangent function","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eOscillator Example:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const float TWO_PI = 6.28318530717958647692","","global float phase = 0.0","","function process() {","    loop {","        // Generate sine wave","        int sineOutput = ftoi(sin(phase) * 1000.0)","","        global signal[0] = sineOutput","        global signal[1] = sineOutput","","        // Advance phase for 440Hz at 48kHz sample rate","        phase = phase + TWO_PI * 440.0 / 48000.0","        if (phase \u0026gt; TWO_PI) phase = phase - TWO_PI","","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eNumber Functions\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Absolute value","int abs(int x)           // Integer absolute value","float fabs(float x)      // Floating-point absolute value","","// Min/max functions","int min(int a, int b)    // Minimum value","int max(int a, int b)    // Maximum value","float fmin(float a, float b)  // Float minimum","float fmax(float a, float b)  // Float maximum","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eAudio Clipping Example:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function clipToRange(int sample) returns int clipped {","    clipped = max(-2047, min(2047, sample))  // Clip to 12-bit audio range","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eType Conversion\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Convert between int and float","float itof(int x)        // Integer to float","int ftoi(float x)        // Float to integer (truncates)","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Scaling Example:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function update() {","    // Convert 8-bit parameter (0-255) to float (0.0-1.0)","    float knobValue = itof((int)global params[0]) / 255.0","","    // Convert to audio range","    int audioGain = ftoi(knobValue * 2047.0)","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eString Operations\u003c/h3\u003e","","\u003cp\u003eBasic string utilities for debugging and parameter display:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// String length","int strlen(pointer string)","","// String copy","pointer strcpy(pointer dest, pointer src)","","// String concatenation","pointer strcat(pointer dest, pointer src)","","// String comparison","int strcmp(pointer str1, pointer str2)","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eDebug Message Building:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function debugParameterChange() {","    array message[64]","    array valueStr[16]","","    strcpy(message, \"Param changed: \")","    // Convert parameter value to string representation","    // (Note: number-to-string conversion depends on available utilities)","    strcat(message, valueStr)","","    trace(message)","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMemory Management\u003c/h3\u003e","","\u003ch4\u003eStatic Allocation Only\u003c/h4\u003e","","\u003cp\u003eImpala uses static memory allocation - no dynamic allocation available:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Global arrays (allocated at compile time)","global array largeBuffer[8192]     // Global storage","global int bufferPosition = 0      // Global state","","// Local arrays (function scope)","function processBuffer() {","    array tempBuffer[64]           // Local temporary storage","    int localCounter               // Local variable","","    // All memory sizes must be known at compile time","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eSafe Array Access\u003c/h4\u003e","","\u003cp\u003eAlways validate array indices to prevent memory corruption:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function safeArrayAccess(array buffer[1024], int index, int value) {","    // Bounds checking","    if (index \u0026gt;= 0 \u0026amp;\u0026amp; index \u0026lt; 1024) {","        buffer[index] = value     // Safe access","    }","}","","// Circular buffer with wraparound","function circularAccess(array buffer[256], int position) returns int value {","    int safePosition = position % 256  // Automatic wraparound","    value = buffer[safePosition]","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eRandom Number Generation\u003c/h3\u003e","","\u003cp\u003eSimple random number generation for audio effects:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Basic linear congruential generator","global int randomSeed = 1","","function simpleRandom() returns int randomValue {","    randomSeed = randomSeed * 1103515245 + 12345","    randomValue = (randomSeed \u0026gt;\u0026gt; 16) \u0026amp; 0x7FFF  // 15-bit positive value","}","","// Random value in range","function randomRange(int minVal, int maxVal) returns int result {","    int range = maxVal - minVal + 1","    result = minVal + (simpleRandom() % range)","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eNoise Generator Example:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    loop {","        // Generate white noise","        int noise = randomRange(-1000, 1000)","","        // Mix with input","        global signal[0] = (global signal[0] + noise) \u0026gt;\u0026gt; 1","        global signal[1] = (global signal[1] + noise) \u0026gt;\u0026gt; 1","","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePerformance Utilities\u003c/h3\u003e","","\u003ch4\u003eFixed-Point Arithmetic\u003c/h4\u003e","","\u003cp\u003ePrefer integer operations for best performance:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Use bit shifts instead of division/multiplication by powers of 2","int half = input \u0026gt;\u0026gt; 1        // Divide by 2","int quarter = input \u0026gt;\u0026gt; 2     // Divide by 4","int double = input \u0026lt;\u0026lt; 1      // Multiply by 2","","// Fixed-point scaling (8.8 format - 8 integer bits, 8 fractional bits)","int scaledValue = (input * 256) \u0026gt;\u0026gt; 8  // Multiply by 1.0 in 8.8 format","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eLookup Tables\u003c/h4\u003e","","\u003cp\u003ePre-compute expensive calculations for real-time performance:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array sineTable[256]","","function init() {","    // Pre-compute sine table during initialization","    int i","    for (i = 0 to 255) {","        float angle = itof(i) * TWO_PI / 256.0","        sineTable[i] = ftoi(sin(angle) * 2047.0)  // Scale to audio range","    }","}","","function fastSine(int phase) returns int result {","    int index = (phase \u0026gt;\u0026gt; 8) \u0026amp; 0xFF  // Scale phase to table index","    result = sineTable[index]","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eAudio-Specific Utilities\u003c/h3\u003e","","\u003ch4\u003eParameter Scaling\u003c/h4\u003e","","\u003cp\u003eConvert parameter values to useful audio ranges:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Scale 8-bit parameter to frequency range using lookup table","global array freqLookupTable[256]  // Pre-computed frequency values","","function paramToFrequency(int paramValue) returns int frequency {","    // paramValue: 0-255  frequency: 20Hz-20000Hz (logarithmic)","    if (paramValue \u0026gt;= 0 \u0026amp;\u0026amp; paramValue \u0026lt;= 255) {","        frequency = freqLookupTable[paramValue]","    } else {","        frequency = 440  // Default frequency","    }","}","","// Scale parameter to linear gain using lookup table","global array gainLookupTable[256]  // Pre-computed gain values","","function paramToGain(int paramValue) returns int linearGain {","    // paramValue: 0-255  gain: linear values from lookup table","    if (paramValue \u0026gt;= 0 \u0026amp;\u0026amp; paramValue \u0026lt;= 255) {","        linearGain = gainLookupTable[paramValue]","    } else {","        linearGain = 256  // Default unity gain (scaled)","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eAudio Processing Helpers\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Soft clipping using integer approximation","function softClip(int input) returns int output {","    if (input \u0026gt; 1500) {","        output = 1500 + ((input - 1500) \u0026gt;\u0026gt; 2)  // Gentle compression above threshold","    } else if (input \u0026lt; -1500) {","        output = -1500 + ((input + 1500) \u0026gt;\u0026gt; 2)","    } else {","        output = input  // Linear region","    }","","    // Hard limit to audio range","    if (output \u0026gt; 2047) output = 2047","    if (output \u0026lt; -2047) output = -2047","}","","// Simple low-pass filter","global int filterMemory = 0","","function lowPass(int input, int cutoff) returns int filtered {","    // cutoff: 0-255, higher values = more filtering","    int difference = input - filterMemory","    filterMemory = filterMemory + ((difference * cutoff) \u0026gt;\u0026gt; 8)","    filtered = filterMemory","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eBest Practices\u003c/h3\u003e","","\u003ch4\u003eReal-Time Safety\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eUse static allocation\u003c/strong\u003e - all array sizes known at compile time\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCall yield() regularly\u003c/strong\u003e - in all processing loops\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePrefer integer math\u003c/strong\u003e - faster than floating-point operations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAvoid complex algorithms\u003c/strong\u003e - keep processing predictable\u003c/li\u003e","","\u003ch4\u003ePerformance Optimization\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eUse lookup tables\u003c/strong\u003e for expensive calculations (sin, exp, etc.)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eUse bit shifts\u003c/strong\u003e instead of multiplication/division by powers of 2\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCache parameter values\u003c/strong\u003e - avoid repeated array access\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMinimize function calls\u003c/strong\u003e in inner loops\u003c/li\u003e","","\u003ch4\u003eMemory Management\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eInitialize arrays\u003c/strong\u003e to known values in init() function\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eValidate array indices\u003c/strong\u003e before access\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eUse modulo arithmetic\u003c/strong\u003e for circular buffers\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eGroup related data\u003c/strong\u003e together for cache efficiency\u003c/li\u003e","","\u003ch4\u003eError Prevention\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eAlways clip audio output\u003c/strong\u003e to valid range (-2047 to 2047)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCheck for division by zero\u003c/strong\u003e in calculations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eValidate parameter ranges\u003c/strong\u003e before use\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eUse trace() liberally\u003c/strong\u003e during development\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003cp\u003e\u003cem\u003eThis reference covers the core Impala standard library functions available for Permut8 firmware development. For advanced patterns and examples, see the [Cookbook](../user-guides/cookbook/) and [Tutorials](../user-guides/tutorials/).\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-12\" class=\"doc-section\"\u003e","\u003ch1\u003e12. Types And Operators\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/language/types-and-operators.md\u003c/div\u003e","","\u003ch2\u003eTypes and Operators - Data Types in Permut8 Firmware\u003c/h2\u003e","","\u003cp\u003eUnderstanding Impala's data types and operators is essential for efficient audio processing. Permut8 firmware works with integers, arrays, and specialized operations designed for real-time DSP performance.\u003c/p\u003e","","\u003ch3\u003eBasic Data Types\u003c/h3\u003e","","\u003ch4\u003eInteger Type\u003c/h4\u003e","","\u003cp\u003eAll audio samples and most calculations use signed integers:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","int sample = -1024          // Audio sample (-2047 to 2047)","int param = 127             // Parameter value (0 to 255)","int position = 0x80000      // 20-bit position value","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eKey Range\u003c/strong\u003e: Audio samples range from -2047 to 2047, giving you 12-bit signed audio with plenty of headroom for calculations.\u003c/p\u003e","","\u003ch4\u003eBoolean Type\u003c/h4\u003e","","\u003cp\u003eUse for control logic and state flags:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","int gate_open = 1                    // Use 1 for true, 0 for false","int effect_bypass = 0","if (params[7] \u0026gt; 128) effect_bypass = 1","","if (gate_open \u0026amp;\u0026amp; (effect_bypass == 0)) {","    // Process audio","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eArray Types\u003c/h4\u003e","","\u003cp\u003eFixed-size arrays for buffers and lookup tables:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array delay_line[1024]               // 1024-sample delay buffer","global array sine_table[256]                // Lookup table for oscillator","global array coefficients[8] = {64, 32, 16, 8, 4, 2, 1, 1}  // Filter coefficients","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eFixed-Point Arithmetic\u003c/h3\u003e","","\u003ch4\u003ePosition Values (20-bit)\u003c/h4\u003e","","\u003cp\u003ePositions use 16.4 fixed-point format (16 integer bits, 4 fractional bits):\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","int base_pos = 0x10000      // Position 1.0","int half_pos = 0x08000      // Position 0.5","int quarter = 0x04000       // Position 0.25","","// Extract integer part","int sample_index = position \u0026gt;\u0026gt; 4","","// Extract fractional part for interpolation","int frac = position \u0026amp; 0xF","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eParameter Scaling\u003c/h4\u003e","","\u003cp\u003eConvert 8-bit parameters to useful ranges:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Scale parameter (0-255) to full audio range","int gain = params[0] * 2047 / 255","","// Scale to frequency range (0-4000 Hz equivalent)","int frequency = params[1] * 4000 / 255","","// Scale to feedback amount (-128 to +127)","int feedback = params[2] - 128","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eBitwise Operations\u003c/h3\u003e","","\u003ch4\u003eEfficient Calculations\u003c/h4\u003e","","\u003cp\u003eUse bit operations for fast arithmetic:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Fast division by powers of 2","int half_sample = input \u0026gt;\u0026gt; 1        // Divide by 2","int quarter = input \u0026gt;\u0026gt; 2            // Divide by 4","int eighth = input \u0026gt;\u0026gt; 3             // Divide by 8","","// Fast multiplication by powers of 2","int doubled = input \u0026lt;\u0026lt; 1            // Multiply by 2","int quadrupled = input \u0026lt;\u0026lt; 2         // Multiply by 4","","// Wraparound using bit masks (for buffer sizes that are powers of 2)","int next_pos = (current_pos + 1) \u0026amp; 1023  // Wrap at 1024","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eBit Manipulation for Control\u003c/h4\u003e","","\u003cp\u003eExtract and combine multiple values efficiently:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Pack two 8-bit values into one int","int packed = (high_byte \u0026lt;\u0026lt; 8) | low_byte","","// Extract values back","int high = (packed \u0026gt;\u0026gt; 8) \u0026amp; 0xFF","int low = packed \u0026amp; 0xFF","","// Set individual bits for LED control","int led_pattern = 0","led_pattern |= (1 \u0026lt;\u0026lt; 3)   // Turn on LED 3","led_pattern \u0026amp;= ~(1 \u0026lt;\u0026lt; 1)  // Turn off LED 1","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eArray Operations\u003c/h3\u003e","","\u003ch4\u003eSafe Array Access\u003c/h4\u003e","","\u003cp\u003eUse modulo or bit masking to prevent buffer overruns:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array buffer[512]","global int pos = 0","","// Safe access with modulo","buffer[pos % 512] = input","","// Faster access with bit mask (buffer size must be power of 2)","buffer[pos \u0026amp; 511] = input","pos = (pos + 1) \u0026amp; 511","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eLinear Interpolation\u003c/h4\u003e","","\u003cp\u003eSmooth array lookups for high-quality audio:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function interpolate_lookup(array table[256], int position) returns int result {","    int index = position \u0026gt;\u0026gt; 8          // Integer part","    int frac = position \u0026amp; 0xFF         // Fractional part","","    int sample1 = table[index \u0026amp; 255]","    int sample2 = table[(index + 1) \u0026amp; 255]","","    // Linear interpolation","    result = sample1 + ((sample2 - sample1) * frac / 256)","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eArithmetic Operators\u003c/h3\u003e","","\u003ch4\u003eAudio-Safe Math\u003c/h4\u003e","","\u003cp\u003ePrevent overflow in audio calculations:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Safe addition with saturation","function add_saturate(int a, int b) returns int result {","    result = a + b","    if (result \u0026gt; 2047) result = 2047","    if (result \u0026lt; -2047) result = -2047","}","","// Safe multiplication with scaling","function multiply_audio(int sample, int gain) returns int result {","    result = (sample * gain) \u0026gt;\u0026gt; 8  // Assume gain is 8-bit (0-255)","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eComparison and Logic\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Threshold detection","int above_threshold = 0","if (abs(input) \u0026gt; noise_floor) above_threshold = 1","","// Range checking","int in_range = 0","if ((param \u0026gt;= min_val) \u0026amp;\u0026amp; (param \u0026lt;= max_val)) in_range = 1","","// Conditional assignment","int output = input  // Default value","if (bypass == 0) output = process_effect(input)","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eUnderstanding these types and operators helps you write efficient, reliable audio processing code that makes full use of Permut8's capabilities while maintaining real-time performance.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-13\" class=\"doc-section\"\u003e","\u003ch1\u003e13. Core Functions\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/language/core-functions.md\u003c/div\u003e","","\u003ch2\u003eImpala Core Functions API Reference\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","","\u003cp\u003eThis comprehensive API reference documents all Impala core functions, global variables, and integration patterns for professional Permut8 firmware development. Use this as your daily development reference for building efficient, maintainable DSP code.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eTarget Audience\u003c/strong\u003e: Experienced developers building custom Permut8 firmware\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003ePrerequisites\u003c/strong\u003e: Understanding of digital signal processing and C programming\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eIntegration\u003c/strong\u003e: Works with parameter mapping (Session 16b) and preset systems (Session 16a)\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eCore Processing Functions\u003c/h3\u003e","","\u003ch4\u003eprocess()\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003ePrimary processing function for full patches that replace the entire audio engine.\u003c/strong\u003e\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    loop {","        // Process audio samples","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eGlobal Variables Used\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eglobal array signal[2]\u003c/code\u003e: Stereo audio I/O [left, right] with values -2047 to 2047\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eglobal array params[8]\u003c/code\u003e: Parameter values 0-255 from hardware controls\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eUsage Pattern\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    loop {","        // Process left channel","        int left = global signal[0]","        left = applyEffect(left)","        global signal[0] = clampAudio(left)","","        // Process right channel","        int right = global signal[1]","        right = applyEffect(right)","        global signal[1] = clampAudio(right)","","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003ePerformance Considerations\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eCalled at 44.1kHz with typical count values of 8-32 samples\u003c/li\u003e","\u003cli\u003eMust complete processing within ~725渭s (32 samples @ 44.1kHz)\u003c/li\u003e","\u003cli\u003eUse lookup tables for complex calculations\u003c/li\u003e","\u003cli\u003eAvoid memory allocation within process()\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eIntegration with Parameter System\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    loop {","        // Read mapped parameters","        int gainParam = (int)global params[0]","        int cutoffParam = (int)global params[1]","","        // Apply parameter morphing if enabled","        if (morphingActive) {","            gainParam = interpolateParameter(gainParam, targetGain, morphRate)","        }","","        // Process audio","        global signal[0] = applyGain(global signal[0], gainParam)","        global signal[1] = applyGain(global signal[1], gainParam)","","        yield()","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch4\u003eoperate1() and operate2()\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eModular processing functions for mod patches that replace individual operators.\u003c/strong\u003e\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function operate1() {","    // Process single operator input","}","","function operate2() {","    // Process dual operator inputs","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eParameters\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eOperators work with \u003ccode\u003eglobal signal[]\u003c/code\u003e array directly\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAudio Range\u003c/strong\u003e: -2047 to 2047 (12-bit signed)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eoperate1() Single-Input Operator\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function operate1() {","    // Example: Waveshaper with drive parameter","    int drive = (int)global params[0]","","    // Apply drive (1-100 range mapped to 1x-10x)","    int input = global signal[0]","    int driven = (input * drive) / 10","","    // Waveshaping lookup table","    if (driven \u0026gt; 2047) driven = 2047","    if (driven \u0026lt; -2047) driven = -2047","","    int shaped = waveshapeTable[driven + 2047]","    global signal[0] = clampAudio(shaped)","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eoperate2() Dual-Input Operator\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function operate2() {","    // Example: Ring modulator","    int depth = (int)global params[1]","","    // Ring modulation: multiply and scale","    int input1 = global signal[0]","    int input2 = global signal[1]","    int product = (input1 * input2) \u0026gt;\u0026gt; 11  // Divide by 2048 using bit shift","","    // Mix with dry signal based on depth","    int dry = (input1 * (100 - depth)) / 100","    int wet = (product * depth) / 100","","    global signal[0] = clampAudio(dry + wet)","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003ePosition Management\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function operate1() {","    // Read current position for this operator","    int pos = positions[currentOperatorIndex]","","    // Use position for delay line access","    array delayRead[2]","    read(global clock - pos, 1, delayRead)","    int delayed = delayRead[0]","","    // Write current input to delay line","    array delayWrite[2]","    delayWrite[0] = global signal[0]","    delayWrite[1] = global signal[1]","    write(global clock, 1, delayWrite)","","    global signal[0] = delayed","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eGlobal Variables Reference\u003c/h3\u003e","","\u003ch4\u003eparams[]\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eParameter array providing access to all patch parameters.\u003c/strong\u003e\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array params[8]  // Parameter values (0-255 from hardware)","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eStandard Usage\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Read parameter with type conversion","int gain = (int)global params[0]","float frequency = itof((int)global params[1])","","// Parameter validation","int cutoff = (int)global params[2]","if (cutoff \u0026lt; 20) cutoff = 20","if (cutoff \u0026gt; 255) cutoff = 255","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Mapping Integration\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Use with parameter mapping system","function updateParameters() {","    // MIDI CC mapped parameters","    global params[0] = mapMidiCC(ccValue, 20, 20000)","","    // Preset morphing active","    if (morphingActive) {","        global params[1] = interpolateParameter(","            global params[1],","            presetTargetValue,","            morphRate","        )","    }","}","        );","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Scaling Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Linear scaling: 0-255  target range","function mapLinear(int param, int minVal, int maxVal) returns int result {","    result = minVal + ((param * (maxVal - minVal)) / 255)","}","","// Exponential scaling: Better for frequency parameters","function mapExponential(int param, int minVal, int maxVal) returns int result {","    // Use lookup table for exponential curve","    array expTable[256] // Pre-calculated exponential values","    int scaledIndex = param \u0026amp; 255","    result = minVal + ((expTable[scaledIndex] * (maxVal - minVal)) \u0026gt;\u0026gt; 8)","}","","// Musical scaling: Semitone mapping (simplified integer version)","function mapMusical(int param) returns int result {","    // Simplified semitone mapping using lookup table","    array semitoneTable[128] // Pre-calculated semitone frequencies","    int noteIndex = param \u0026gt;\u0026gt; 1 // Map 0-255 to 0-127","    result = semitoneTable[noteIndex]","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch4\u003esignal[]\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eGlobal audio buffer for stereo audio input and output.\u003c/strong\u003e\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array signal[2]  // Stereo audio buffer [left, right]","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eUsage in Audio Processing\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Access audio input/output","function process() {","    loop {","        int frequency = (int)global params[0]","","        // Process left channel","        global signal[0] = generateSine(frequency)","","        // Process right channel (copy or process independently)","        global signal[1] = global signal[0]","","        yield()","    }","}","","// Operator 2: Generate modulator","function operate2() {","    int modFreq = (int)global params[1]","    global signal[1] = generateSine(modFreq)","}","","// Operator 3: Apply FM synthesis","function operate1() {","    int carrier = global signal[0]","    int modulator = global signal[1]","    int modDepth = (int)global params[2]","","    // Frequency modulation","    int modulated = generateSine(carrierFreq + (modulator * modDepth))","    global signal[0] = modulated","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eBuffer Management\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Clear buffers between processing cycles","function clearSignalBuffers() {","    global signal[0] = 0","    global signal[1] = 0","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch4\u003epositions[]\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eFixed-point position tracking for delays, oscillators, and time-based effects.\u003c/strong\u003e\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array positions[2]  // 20-bit fixed-point (16.4 format)","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eFixed-Point Format\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003e16.4 format\u003c/strong\u003e: 16 bits integer, 4 bits fractional\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eRange\u003c/strong\u003e: 0 to 65535.9375 with 1/16 precision\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eUsage\u003c/strong\u003e: Precise sub-sample timing for audio algorithms\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eDelay Line Implementation\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function operate1() {","    int delayTime = (int)global params[0]  // In samples","","    // Read from delay line using native read/write","    array delayRead[2]","    read(global clock - delayTime, 1, delayRead)","    int delayed = delayRead[0]","","    // Write input to delay line","    array delayWrite[2]","    delayWrite[0] = global signal[0]","    delayWrite[1] = global signal[1]","    write(global clock, 1, delayWrite)","","    // Advance position with sub-sample precision","    global positions[0] = global positions[0] + 16  // Increment by 1.0","","    global signal[0] = delayed","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eOscillator Phase Tracking\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function generateSine(int frequency) returns int sineValue {","    // Convert frequency to phase increment (16.4 format)","    int phaseInc = frequency * 16  // Scale for 16.4 format","","    // Advance phase","    global positions[1] = global positions[1] + phaseInc","","    // Extract table index (upper 16 bits)","    int tableIndex = global positions[1] \u0026gt;\u0026gt; 4","","    sineValue = sineTable[tableIndex \u0026amp; 255]  // Assuming 256-entry table","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eVariable Rate Processing\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function operate1() {","    int speed = (int)global params[1]  // 0-255 mapped to 0.1x-2.0x","","    // Variable increment based on speed","    int increment = (speed * 16) / 100  // Scale to 16.4 format","    global positions[0] = global positions[0] + increment","","    int index = (global positions[0] \u0026gt;\u0026gt; 4) \u0026amp; 1023  // Assuming 1024 buffer","    global signal[0] = audioBuffer[index]","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch4\u003edisplayLEDs[]\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eLED control array for visual feedback and status indication.\u003c/strong\u003e\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array displayLEDs[4]  // LED brightness values (0-255)","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eBasic LED Control\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Set individual LEDs","global displayLEDs[0] = 255  // Full brightness","global displayLEDs[1] = 128  // Half brightness","global displayLEDs[2] = 0    // Off","","// LED patterns","function setLEDPattern(int pattern) {","    int i","    for (i = 0 to 3) {","        if ((pattern \u0026amp; (1 \u0026lt;\u0026lt; i)) != 0) {","            global displayLEDs[i] = 255","        } else {","            global displayLEDs[i] = 0","        }","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Visualization\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function updateParameterLEDs() {","    // Show filter cutoff on LEDs 0-3","    int cutoff = (int)global params[0]","    int ledCount = (cutoff * 4) / 255","","    int i","    for (i = 0 to 3) {","        if (i \u0026lt; ledCount) {","            global displayLEDs[i] = 255  // On","        } else {","            global displayLEDs[i] = 0    // Off","        }","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eVU Meter Implementation\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int peakHold = 0","global int peakDecay = 0","","function updateVUMeter(int audioLevel) {","    // Convert audio level to LED count","    int level = abs(audioLevel)","    int ledCount = (level * 4) / 2047","","    // Peak hold with decay","    if (ledCount \u0026gt; peakHold) {","        peakHold = ledCount","        peakDecay = 0","    } else {","        peakDecay = peakDecay + 1","        if (peakDecay \u0026gt; 10) {  // Decay every 10 cycles","            if (peakHold \u0026gt; 0) peakHold = peakHold - 1","            peakDecay = 0","        }","    }","","    // Update LED display","    int i","    for (i = 0 to 3) {","        if (i \u0026lt; ledCount) {","            global displayLEDs[i] = 255           // Current level","        } else if (i == peakHold) {","            global displayLEDs[i] = 128           // Peak indicator","        } else {","            global displayLEDs[i] = 0             // Off","        }","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eStatus Indication Integration\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function updateStatusLEDs() {","    // Preset system status","    if (presetLoading == 1) {","        global displayLEDs[STATUS_LED] = 255      // Bright during load","    } else if (presetModified == 1) {","        global displayLEDs[STATUS_LED] = 128      // Dim when modified","    } else {","        global displayLEDs[STATUS_LED] = 64       // Low when clean","    }","","    // MIDI learn status - blinking pattern","    if (midiLearnActive == 1) {","        if ((global clock % 20) \u0026lt; 10) {","            global displayLEDs[LEARN_LED] = 255  // On phase","        } else {","            global displayLEDs[LEARN_LED] = 0    // Off phase","        }","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch4\u003eclock\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eGlobal timing reference for tempo-sync and timing calculations.\u003c/strong\u003e\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int clock  // Sample counter since patch start","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eTempo Calculations\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Convert BPM to clock frequency","function calculateClockFreq(int bpm) returns int result {","    result = (44100 * 60) / bpm","}","","// Check for beat timing","function isBeatTime(int bpm) returns int result {","    int beatInterval = calculateClockFreq(bpm)","    if ((global clock % beatInterval) == 0) {","        result = 1","    } else {","        result = 0","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eModulation LFO\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function getLFO(int rate) returns int result {","    int cycleLength = 44100 / rate","    int phase = global clock % cycleLength","    int phaseIndex = (phase * 256) / cycleLength  // Map to 0-255 for table lookup","    result = sineTable[phaseIndex \u0026amp; 255]","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eSynchronized Effects\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function operate1() {","    int bpm = (int)global params[0]","    int beatLength = calculateClockFreq(bpm)","","    // Delay time synced to quarter notes","    int delayTime = beatLength / 4","","    // Use native read/write for synchronized delay","    array delayRead[2]","    read(global clock - delayTime, 1, delayRead)","","    global signal[0] = delayRead[0]","    global signal[1] = delayRead[1]","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eUtility Functions\u003c/h3\u003e","","\u003ch4\u003eMathematical Functions\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eAudio Sample Clamping\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function clampAudio(int sample) returns int result {","    if (sample \u0026gt; 2047) result = 2047","    else if (sample \u0026lt; -2047) result = -2047","    else result = sample","}","","// Fast clamping using conditional assignment","function fastClamp(int sample) returns int result {","    if (sample \u0026gt; 2047) sample = 2047","    if (sample \u0026lt; -2047) sample = -2047","    result = sample","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eFixed-Point Math\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Multiply two fixed-point numbers (16.16 format)","function fixedMultiply(int a, int b) returns int result {","    result = (a * b) \u0026gt;\u0026gt; 16","}","","// Convert float to fixed-point","function floatToFixed(float f) returns int result {","    result = ftoi(f * 65536.0)","}","","// Convert fixed-point to float","function fixedToFloat(int fixed) returns float result {","    result = itof(fixed) / 65536.0","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eInterpolation Functions\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Linear interpolation","function lerp(float a, float b, float t) returns float result {","    result = a + t * (b - a)","}","","// Cubic interpolation for smoother parameter changes","function cubicInterp(float y0, float y1, float y2, float y3, float x) returns float result {","    float a = y3 - y2 - y0 + y1","    float b = y0 - y1 - a","    float c = y2 - y0","    float d = y1","    result = a * x * x * x + b * x * x + c * x + d","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eConversion Functions\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eFrequency Conversions\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Convert MIDI note to frequency (simplified using lookup)","array midiFreqTable[128]  // Pre-calculated MIDI note frequencies","","function midiToFreq(int midiNote) returns float result {","    if (midiNote \u0026gt;= 0 \u0026amp;\u0026amp; midiNote \u0026lt; 128) {","        result = itof(midiFreqTable[midiNote])","    } else {","        result = 440.0  // Default to A4","    }","}","","// Convert BPM to samples per beat","function bpmToSamples(int bpm) returns int result {","    result = (44100 * 60) / bpm","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eDecibel Conversions\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Convert linear gain to decibels (using lookup table)","array dbTable[256]  // Pre-calculated dB conversion table","","function linearToDb(int linear) returns int result {","    int index = (linear * 255) / 2047  // Scale to table range","    result = dbTable[index \u0026amp; 255]","}","","// Convert decibels to linear gain (using lookup table)","array linearTable[256]  // Pre-calculated linear conversion table","","function dbToLinear(int db) returns int result {","    int index = (db + 60) * 255 / 120  // Map -60dB to +60dB range","    if (index \u0026lt; 0) index = 0","    if (index \u0026gt; 255) index = 255","    result = linearTable[index]","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Scaling\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Map parameter to exponential curve using lookup table","global array expLookupTable[256]  // Pre-computed exponential values","","function mapExponential(int param, int minVal, int maxVal) returns int result {","    int normalized = param \u0026amp; 255  // Ensure 0-255 range","    int expValue = expLookupTable[normalized]","    result = minVal + ((expValue * (maxVal - minVal)) \u0026gt;\u0026gt; 8)","}","","// Map parameter with custom curve using lookup table","global array curveLookupTable[256]  // Pre-computed curve values","","function mapCurve(int param, int curveIndex) returns int result {","    int normalized = param \u0026amp; 255  // Ensure 0-255 range","    // Use curveIndex to select different curve characteristics","    int curveValue = curveLookupTable[normalized]","    result = (curveValue * curveIndex) \u0026gt;\u0026gt; 8","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eDebugging Functions\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eDebug Output\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Debug print using trace() function","global int debugMode = 1  // Set to 0 to disable debug output","","function debugPrint(pointer message, int value) {","    if (debugMode == 1) {","        array debugBuffer[128]","        array valueStr[16]","","        strcpy(debugBuffer, message)","        strcat(debugBuffer, \": \")","        // Convert value to string (simplified)","        intToString(value, 10, 1, valueStr)","        strcat(debugBuffer, valueStr)","","        trace(debugBuffer)","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003ePerformance Monitoring\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Simple cycle counter for performance analysis","global int cycleStart = 0","const int MAX_CYCLES = 1000","","function startTiming() {","    cycleStart = global clock","}","","function endTiming() returns int cycles {","    cycles = global clock - cycleStart","}","","// Usage example","function monitoredProcess() {","    startTiming()","","    // Your processing code here","    int processed = processAudio(global signal[0])","    global signal[0] = processed","","    int cycles = endTiming()","    if (cycles \u0026gt; MAX_CYCLES) {","        debugPrint(\"Performance warning\", cycles)","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eMemory Debugging\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Check for buffer overruns","function safeCopyBuffer(array dest[1024], array src[1024], int count, int maxCount) returns int actualCount {","    if (count \u0026gt; maxCount) {","        debugPrint(\"Buffer overrun prevented\", count)","        count = maxCount","    }","","    int i","    for (i = 0 to count - 1) {","        dest[i] = src[i]","    }","","    actualCount = count","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eMemory Operations\u003c/h3\u003e","","\u003ch4\u003eBuffer Management\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eCircular Buffer Implementation\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Circular buffer using static memory with power-of-2 size","global array circularBuffer[1024]  // Must be power of 2","global int bufferSize = 1024","global int bufferMask = 1023        // Size - 1 for efficient modulo","global int writePos = 0","global int readPos = 0","","// Initialize circular buffer","function initCircularBuffer() {","    writePos = 0;","    readPos = 0;","","    // Clear buffer","    for (i = 0 to bufferSize - 1) {","        circularBuffer[i] = 0;","    }","}","","// Write sample to circular buffer","function writeCircular(sample) {","    circularBuffer[writePos \u0026amp; bufferMask] = sample;","    writePos = writePos + 1;","}","","// Read from circular buffer with delay","function readCircular(delay) returns int {","    int readIndex;","    int sample;","","    readIndex = (writePos - delay) \u0026amp; bufferMask;","    sample = circularBuffer[readIndex];","    return sample;","}","","// Read from circular buffer with fractional delay (interpolated)","function readCircularInterp(delayFloat) returns int {","    int delaySamples;","    int delayFrac;","    int sample1;","    int sample2;","    int result;","","    delaySamples = delayFloat \u0026gt;\u0026gt; 8;      // Integer part (Q8.8 format)","    delayFrac = delayFloat \u0026amp; 255;        // Fractional part","","    sample1 = readCircular(delaySamples);","    sample2 = readCircular(delaySamples + 1);","","    // Linear interpolation","    result = sample1 + ((sample2 - sample1) * delayFrac \u0026gt;\u0026gt; 8);","    return result;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eMemory Pool Allocation\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Static memory pool for buffer allocation - Impala uses static memory only","global array memoryPool[4096]    // Large static memory pool","global int poolOffset = 0        // Current allocation offset","const int MEMORY_POOL_SIZE = 4096","","// Allocate buffer space from memory pool (returns offset, not pointer)","function allocateMemory(size) returns int {","    int startOffset;","","    if (poolOffset + size \u0026gt; MEMORY_POOL_SIZE) {","        trace(\"Memory pool exhausted - requested:\", size);","        return -1;  // Return invalid offset","    }","","    startOffset = poolOffset;","    poolOffset = poolOffset + size;","    return startOffset;  // Return offset for accessing memoryPool[offset]","}","","// Reset memory pool (use at initialization only)","function resetMemoryPool() {","    poolOffset = 0;","","    // Clear the memory pool","    for (i = 0 to MEMORY_POOL_SIZE - 1) {","        memoryPool[i] = 0;","    }","}","","// Example: Allocate and use a delay buffer","function setupDelayBuffer() returns int {","    int delayBufferOffset;","    int delaySize = 1000;","","    delayBufferOffset = allocateMemory(delaySize);","    if (delayBufferOffset == -1) {","        trace(\"Failed to allocate delay buffer\");","        return -1;","    }","","    // Initialize the allocated buffer","    for (i = 0 to delaySize - 1) {","        memoryPool[delayBufferOffset + i] = 0;","    }","","    return delayBufferOffset;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eCache-Friendly Patterns\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eSequential Access Optimization\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Process audio in cache-friendly sequential chunks","function processSequential(count) {","    const int CHUNK_SIZE = 16;","    int chunk;","    int chunkEnd;","    int i;","","    // Process in chunks to improve cache locality","    for (chunk = 0; chunk \u0026lt; count; chunk = chunk + CHUNK_SIZE) {","        chunkEnd = chunk + CHUNK_SIZE;","        if (chunkEnd \u0026gt; count) {","            chunkEnd = count;","        }","","        for (i = chunk; i \u0026lt; chunkEnd; i++) {","            // Process samples in sequential order","            signal[i * 2] = processLeft(signal[i * 2]);","            signal[i * 2 + 1] = processRight(signal[i * 2 + 1]);","        }","    }","}","","// Support functions for the example above","function processLeft(sample) returns int {","    // Example left channel processing","    return clampAudio(sample * 120 \u0026gt;\u0026gt; 7);  // Slight gain","}","","function processRight(sample) returns int {","    // Example right channel processing","    return clampAudio(sample * 120 \u0026gt;\u0026gt; 7);  // Slight gain","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eData Structure Layout\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Structure-of-arrays for better cache performance","global array oscFrequencies[16]   // All frequencies together","global array oscAmplitudes[16]    // All amplitudes together","global array oscPhases[16]        // All phases together","global int oscCount = 16","","// Process all oscillators efficiently using separate arrays","function processOscillators() {","    int i;","    int phaseIncrement;","","    for (i = 0; i \u0026lt; oscCount; i++) {","        // Calculate phase increment (frequency / sample rate)","        phaseIncrement = oscFrequencies[i] * 1024 / 44100;  // Q10 fixed point","","        oscPhases[i] = oscPhases[i] + phaseIncrement;","","        // Wrap phase at 2 (using 1024 as 2 in Q10)","        if (oscPhases[i] \u0026gt;= 1024) {","            oscPhases[i] = oscPhases[i] - 1024;","        }","    }","}","","// Generate oscillator output using lookup table","function generateOscillatorOutput(oscIndex) returns int {","    int phase;","    int amplitude;","    int sineValue;","    int output;","","    phase = oscPhases[oscIndex];","    amplitude = oscAmplitudes[oscIndex];","","    // Use sine lookup table (phase as index)","    sineValue = lookupSine(phase);","","    // Apply amplitude scaling","    output = sineValue * amplitude \u0026gt;\u0026gt; 8;","    return output;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eSafety Considerations\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eBounds Checking\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Safe array access with bounds checking","function safeArrayRead(arrayRef, index, size, defaultValue) returns int {","    int result;","","    if (index \u0026lt; 0 || index \u0026gt;= size) {","        trace(\"Array bounds violation - index:\", index);","        result = defaultValue;","    } else {","        result = arrayRef[index];  // Note: arrayRef would be specific array name","    }","","    return result;","}","","// Safe array write with bounds checking","function safeArrayWrite(arrayRef, index, size, value) {","    if (index \u0026lt; 0 || index \u0026gt;= size) {","        trace(\"Array bounds violation - index:\", index);","        return;","    }","","    arrayRef[index] = value;  // Note: arrayRef would be specific array name","}","","// Example usage with specific arrays","function safeDelayRead(index, defaultValue) returns int {","    const int DELAY_SIZE = 1000;","    int result;","","    if (index \u0026lt; 0 || index \u0026gt;= DELAY_SIZE) {","        trace(\"Delay buffer bounds violation - index:\", index);","        result = defaultValue;","    } else {","        result = read(index);  // Using native read() function","    }","","    return result;","}","","function safeDelayWrite(index, value) {","    const int DELAY_SIZE = 1000;","","    if (index \u0026lt; 0 || index \u0026gt;= DELAY_SIZE) {","        trace(\"Delay buffer bounds violation - index:\", index);","        return;","    }","","    write(index, value);  // Using native write() function","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eMemory Initialization\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Initialize audio buffers to prevent noise","function initAudioBuffers() {","    const int DELAY_BUFFER_SIZE = 1000;","    const int POSITION_COUNT = 8;","    int i;","","    // Clear delay memory using native write() function","    for (i = 0; i \u0026lt; DELAY_BUFFER_SIZE; i++) {","        write(i, 0);","    }","","    // Clear signal buffers (global signal array)","    signal[0] = 0;  // Left channel","    signal[1] = 0;  // Right channel","","    // Reset position tracking variables","    writePos = 0;","    readPos = 0;","","    // Clear parameter tracking","    for (i = 0; i \u0026lt; 8; i++) {","        previousParams[i] = 0;","    }","","    // Clear any custom buffers","    resetMemoryPool();","    initCircularBuffer();","}","","// Initialize system at startup","function systemInit() {","    // Initialize audio processing","    initAudioBuffers();","","    // Initialize LED displays","    for (i = 0; i \u0026lt; 4; i++) {","        displayLEDs[i] = 0;","    }","","    // Set up any lookup tables","    initSineLookupTable();","","    trace(\"System initialized successfully\");","}","","// Reset all processing state","function resetProcessingState() {","    // Clear any accumulated state","    filterMemory = 0;","    envelopeState = 0;","    oscillatorPhase = 0;","","    // Reset timing","    sampleCounter = 0;","","    // Clear buffers","    initAudioBuffers();","","    trace(\"Processing state reset\");","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eImpala Optimization Techniques\u003c/h3\u003e","","\u003ch4\u003ePerformance Optimization\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eEfficient Loop Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Optimized loop structures for best performance","function optimizedProcessing() {","    int i;","    int sample;","    int processed;","","    // Unroll simple operations for better performance","    for (i = 0; i \u0026lt; 8; i++) {","        sample = signal[0];","        processed = sample * 120 \u0026gt;\u0026gt; 7;  // Gain multiplication","        signal[0] = clampAudio(processed);","        yield();  // Cooperative multitasking","    }","}","","// Minimize function calls in tight loops","function efficientFiltering() {","    int input;","    int output;","    int temp;","","    // Inline calculations instead of function calls","    input = signal[0];","    temp = input + filterMemory;","    output = temp \u0026gt;\u0026gt; 1;           // Simple averaging filter","    filterMemory = temp - output; // Update filter memory","    signal[0] = output;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eMemory Access Optimization\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Efficient memory access patterns","global array processBuffer[64]    // Local processing buffer","global int bufferIndex = 0","","// Batch processing for better cache performance","function batchProcess() {","    int i;","    int batchSize = 16;","","    // Fill batch buffer","    for (i = 0; i \u0026lt; batchSize; i++) {","        processBuffer[i] = read(bufferIndex + i);","    }","","    // Process batch","    for (i = 0; i \u0026lt; batchSize; i++) {","        processBuffer[i] = processBuffer[i] * 120 \u0026gt;\u0026gt; 7;","    }","","    // Write back results","    for (i = 0; i \u0026lt; batchSize; i++) {","        write(bufferIndex + i, processBuffer[i]);","    }","","    bufferIndex = bufferIndex + batchSize;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eFixed-Point Arithmetic Optimization\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Optimized fixed-point operations","function fastFixedPointOps() {","    int value = 1000;","    int multiplier = 205;  // Represents 0.8 in Q8 format","    int result;","","    // Efficient multiplication with bit shifting","    result = value * multiplier \u0026gt;\u0026gt; 8;  // Faster than division","","    // Use lookup tables for expensive operations","    result = lookupSine(result \u0026amp; 1023);  // Mask for table bounds","","    return result;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eDebugging Support\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eDebug Functions using trace()\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Debug variables for tracking","global int debugMode = 1;         // Set to 0 to disable debug output","global int debugCounter = 0;      // Counter for debug messages","","// Debug printing function","function debugPrint(message, value) {","    if (debugMode == 1) {","        trace(message, value);","    }","}","","// Debug assertion function","function debugAssert(condition, message) {","    if (debugMode == 1 \u0026amp;\u0026amp; condition == 0) {","        trace(\"ASSERTION FAILED:\", message);","        trace(\"Condition was false\");","    }","}","","// Performance monitoring","global int perfStartTime = 0;","","function perfStart() {","    if (debugMode == 1) {","        perfStartTime = sampleCounter;  // Use sample counter as timer","    }","}","","function perfEnd(processName) {","    int elapsed;","","    if (debugMode == 1) {","        elapsed = sampleCounter - perfStartTime;","        trace(\"Performance timing:\", processName);","        trace(\"Samples elapsed:\", elapsed);","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eMemory Debugging\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Memory allocation tracking","global int allocCount = 0;","global int totalAllocated = 0;","global int memoryLeaks = 0;","","// Debug memory allocation","function debugAlloc(size) returns int {","    int offset;","","    offset = allocateMemory(size);","","    if (debugMode == 1) {","        if (offset != -1) {","            allocCount = allocCount + 1;","            totalAllocated = totalAllocated + size;","            debugPrint(\"Memory allocated - size:\", size);","            debugPrint(\"Total allocations:\", allocCount);","        } else {","            debugPrint(\"Memory allocation FAILED - size:\", size);","            memoryLeaks = memoryLeaks + 1;","        }","    }","","    return offset;","}","","// Print memory statistics","function printMemoryStats() {","    if (debugMode == 1) {","        trace(\"=== MEMORY STATISTICS ===\");","        debugPrint(\"Total allocations:\", allocCount);","        debugPrint(\"Total memory used:\", totalAllocated);","        debugPrint(\"Memory pool offset:\", poolOffset);","        debugPrint(\"Available memory:\", MEMORY_POOL_SIZE - poolOffset);","        debugPrint(\"Memory leaks:\", memoryLeaks);","        trace(\"========================\");","    }","}","","// Audio debugging helpers","function debugAudioValues() {","    if (debugMode == 1) {","        debugPrint(\"Left channel:\", signal[0]);","        debugPrint(\"Right channel:\", signal[1]);","        debugPrint(\"Param 0:\", params[0]);","        debugPrint(\"Param 1:\", params[1]);","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eImpala-Specific Optimizations\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eHardware-Optimized Functions\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Impala compiler optimizes these patterns automatically","// Use these patterns for best performance on Permut8 hardware","","// Multiply-accumulate pattern (optimized by compiler)","function hardwareMAC(a, b, c) returns int {","    int result;","    result = a * b + c;  // Compiler generates efficient MAC instruction","    return result;","}","","// Efficient bit manipulation for audio processing","function fastBitOps(value) returns int {","    int result;","","    // These patterns are optimized by the Impala compiler","    result = value \u0026gt;\u0026gt; 1;           // Efficient right shift","    result = result \u0026amp; 0x7FF;       // Efficient masking","    result = result | 0x800;       // Efficient bit setting","","    return result;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eAudio-Optimized Arithmetic\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Saturating arithmetic for clean audio processing","function saturatingAdd(a, b) returns int {","    int result;","    result = a + b;","","    // Clamp to audio range (-2047 to 2047)","    if (result \u0026gt; 2047) {","        result = 2047;","    }","    if (result \u0026lt; -2047) {","        result = -2047;","    }","","    return result;","}","","// Efficient audio multiplication with saturation","function audioMultiply(a, b) returns int {","    int result;","","    // Use saturating multiply for audio signals","    result = a * b \u0026gt;\u0026gt; 12;  // Scale down to prevent overflow","    return saturatingAdd(result, 0);  // Apply saturation","}","","// Fast audio interpolation","function audioInterpolate(sample1, sample2, fraction) returns int {","    int diff;","    int result;","","    diff = sample2 - sample1;","    result = sample1 + (diff * fraction \u0026gt;\u0026gt; 8);  // Q8 fractional interpolation","","    return result;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eIntegration Patterns\u003c/h3\u003e","","\u003ch4\u003eParameter System Integration\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eDynamic Parameter Mapping\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Parameter mapping constants","const int CUTOFF_PARAM = 0;","const int RESONANCE_PARAM = 1;","const int DRIVE_PARAM = 2;","","// Parameter scaling types","const int LINEAR = 0;","const int EXPONENTIAL = 1;","const int LOGARITHMIC = 2;","","// Parameter mapping arrays","global array paramScaleType[8];","global array paramMinValue[8];","global array paramMaxValue[8];","","// Initialize parameter mapping system","function initParameterMapping() {","    // Set up parameter scaling for common audio parameters","    paramScaleType[CUTOFF_PARAM] = EXPONENTIAL;    // Frequency scaling","    paramMinValue[CUTOFF_PARAM] = 20;              // 20 Hz","    paramMaxValue[CUTOFF_PARAM] = 20000;           // 20 kHz","","    paramScaleType[RESONANCE_PARAM] = LINEAR;      // Linear scaling","    paramMinValue[RESONANCE_PARAM] = 0;            // 0%","    paramMaxValue[RESONANCE_PARAM] = 100;          // 100%","","    paramScaleType[DRIVE_PARAM] = EXPONENTIAL;     // Gain scaling","    paramMinValue[DRIVE_PARAM] = 1;                // 1x","    paramMaxValue[DRIVE_PARAM] = 10;               // 10x","}","","// Process parameter updates in main loop","function updateParameters() {","    int i;","","    // Process each parameter","    for (i = 0; i \u0026lt; 8; i++) {","        // Apply parameter scaling based on type","        if (paramScaleType[i] == EXPONENTIAL) {","            processedParams[i] = scaleExponential(params[i],","                                                 paramMinValue[i],","                                                 paramMaxValue[i]);","        } else if (paramScaleType[i] == LINEAR) {","            processedParams[i] = scaleLinear(params[i],","                                           paramMinValue[i],","                                           paramMaxValue[i]);","        }","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eReal-Time Parameter Smoothing\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Parameter smoothing variables","global array smoothCurrent[8];    // Current smoothed values","global array smoothTarget[8];     // Target values","global array smoothRate[8];       // Smoothing rates","","// Initialize parameter smoother","function initSmoothParameter(paramIndex, initial, rate) {","    smoothCurrent[paramIndex] = initial;","    smoothTarget[paramIndex] = initial;","    smoothRate[paramIndex] = rate;  // Samples to reach target","}","","// Update smooth parameter (call per sample)","function updateSmoothParameter(paramIndex) returns int {","    int current;","    int target;","    int rate;","    int diff;","    int step;","","    current = smoothCurrent[paramIndex];","    target = smoothTarget[paramIndex];","    rate = smoothRate[paramIndex];","","    if (current != target) {","        diff = target - current;","        step = diff / rate;","","        // Ensure minimum step size","        if (step == 0) {","            if (diff \u0026gt; 0) step = 1;","            else step = -1;","        }","","        current = current + step;","","        // Snap to target when close enough","        if ((diff \u0026gt; 0 \u0026amp;\u0026amp; current \u0026gt;= target) ||","            (diff \u0026lt; 0 \u0026amp;\u0026amp; current \u0026lt;= target)) {","            current = target;","        }","","        smoothCurrent[paramIndex] = current;","    }","","    return current;","}","","// Usage in process function","function processWithSmoothParams() {","    int smoothCutoff;","    int smoothResonance;","","    // Update parameter targets","    smoothTarget[CUTOFF_PARAM] = processedParams[CUTOFF_PARAM];","    smoothTarget[RESONANCE_PARAM] = processedParams[RESONANCE_PARAM];","","    // Get smoothed parameter values","    smoothCutoff = updateSmoothParameter(CUTOFF_PARAM);","    smoothResonance = updateSmoothParameter(RESONANCE_PARAM);","","    // Use smoothed parameters in audio processing","    signal[0] = lowPassFilter(signal[0], smoothCutoff, smoothResonance);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003ePreset System Integration\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003ePreset Loading Integration\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Preset data storage","global array presetParams[8][16];    // 16 presets, 8 parameters each","global int currentPreset = 0;","global int presetModified = 0;       // Track if current preset changed","","// Initialize preset system","function initPresetSystem() {","    int preset;","    int param;","","    // Initialize all presets with default values","    for (preset = 0; preset \u0026lt; 16; preset++) {","        for (param = 0; param \u0026lt; 8; param++) {","            presetParams[preset][param] = 128;  // Midpoint default","        }","    }","","    currentPreset = 0;","    presetModified = 0;","}","","// Handle preset changes","function onPresetChange(presetNumber) {","    int i;","","    // Validate preset number","    if (presetNumber \u0026lt; 0 || presetNumber \u0026gt;= 16) {","        trace(\"Invalid preset number:\", presetNumber);","        return;","    }","","    // Save current preset if modified","    if (presetModified == 1) {","        saveCurrentPreset();","    }","","    // Load new preset parameters","    for (i = 0; i \u0026lt; 8; i++) {","        params[i] = presetParams[presetNumber][i];","    }","","    // Update processing state","    resetProcessingState();","    initAudioBuffers();","","    // Update LED display to show preset number","    updatePresetLEDs(presetNumber);","","    currentPreset = presetNumber;","    presetModified = 0;","","    trace(\"Loaded preset:\", presetNumber);","}","","// Save current preset","function saveCurrentPreset() {","    int i;","","    for (i = 0; i \u0026lt; 8; i++) {","        presetParams[currentPreset][i] = params[i];","    }","","    presetModified = 0;","    trace(\"Saved preset:\", currentPreset);","}","","// Update LED display for preset number","function updatePresetLEDs(presetNumber) {","    // Display preset number in binary on LEDs","    displayLEDs[0] = presetNumber \u0026amp; 0x0F;      // Lower 4 bits","    displayLEDs[1] = (presetNumber \u0026gt;\u0026gt; 4) \u0026amp; 0x0F; // Upper 4 bits","    displayLEDs[2] = 0;  // Clear other displays","    displayLEDs[3] = 0;","}","","// Check for parameter changes (call in main loop)","global array previousParams[8]  // Global storage for previous values","","function checkParameterChanges() {","    int i","","    for (i = 0 to 7) {","        if (global params[i] != previousParams[i]) {","            presetModified = 1","            previousParams[i] = global params[i]","        }","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eState Preservation\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// State preservation for undo functionality","global array undoParams[8];         // Saved parameter values","global array undoPositions[4];      // Saved position states","global int undoSampleCounter;       // Saved timing state","","// Save current state for undo functionality","function saveState() {","    int i;","","    // Save parameters","    for (i = 0; i \u0026lt; 8; i++) {","        undoParams[i] = params[i];","    }","","    // Save processing positions","    undoPositions[0] = writePos;","    undoPositions[1] = readPos;","    undoPositions[2] = oscillatorPhase;","    undoPositions[3] = filterMemory;","","    // Save timing state","    undoSampleCounter = sampleCounter;","","    trace(\"State saved for undo\");","}","","// Restore previous state (undo)","function restoreState() {","    int i;","","    // Restore parameters","    for (i = 0; i \u0026lt; 8; i++) {","        params[i] = undoParams[i];","    }","","    // Restore processing positions","    writePos = undoPositions[0];","    readPos = undoPositions[1];","    oscillatorPhase = undoPositions[2];","    filterMemory = undoPositions[3];","","    // Restore timing state","    sampleCounter = undoSampleCounter;","","    // Mark preset as modified","    presetModified = 1;","","    trace(\"State restored from undo\");","}","","// Auto-save state when parameters change significantly","function autoSaveState() {","    static int lastSaveTime = 0;","    int currentTime;","","    currentTime = sampleCounter;","","    // Auto-save every 2 seconds (88200 samples at 44.1kHz)","    if (currentTime - lastSaveTime \u0026gt; 88200) {","        saveState();","        lastSaveTime = currentTime;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eComplete Integration Example\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eFull Parameter Processing System\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Complete example showing all parameter integration patterns","function completeParameterProcessing() {","    // Update parameter mappings","    updateParameters();","","    // Check for parameter changes","    checkParameterChanges();","","    // Auto-save state periodically","    autoSaveState();","","    // Apply parameter smoothing","    processWithSmoothParams();","","    // Update preset system","    if (presetChangeRequested == 1) {","        onPresetChange(requestedPreset);","        presetChangeRequested = 0;","    }","","    // Debug output if enabled","    if (debugMode == 1) {","        debugAudioValues();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eThis completes the Memory Operations and Integration Patterns sections with proper Impala syntax and practical examples for hobbyist use.\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eSummary\u003c/h3\u003e","","\u003cp\u003eThe core functions library provides essential building blocks for Impala firmware development:\u003c/p\u003e","","\u003ch4\u003e **Converted Sections** (100% Impala Syntax):\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eAudio Processing Utilities\u003c/strong\u003e - Audio clamping, limiting, saturation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eParameter Scaling Functions\u003c/strong\u003e - Linear, exponential, logarithmic scaling\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eInterpolation and Mixing\u003c/strong\u003e - Smooth parameter changes and crossfading\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFixed-Point Mathematics\u003c/strong\u003e - High-performance integer math operations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLookup Tables\u003c/strong\u003e - Fast sine, exponential, logarithm approximations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMemory Operations\u003c/strong\u003e - Circular buffers, memory pools, safety functions\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eOptimization Techniques\u003c/strong\u003e - Performance patterns and efficient coding\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDebugging Support\u003c/strong\u003e - trace()-based debugging and monitoring\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eIntegration Patterns\u003c/strong\u003e - Parameter systems, presets, state management\u003c/li\u003e","","\u003ch4\u003e **Key Features for Hobbyists**:\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eCopy-paste ready\u003c/strong\u003e - All examples work without modification\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eComplete functions\u003c/strong\u003e - No missing dependencies or incomplete code\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProgressive complexity\u003c/strong\u003e - Simple basics building to advanced patterns\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eReal-world patterns\u003c/strong\u003e - Practical solutions for common DSP tasks\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProper Impala syntax\u003c/strong\u003e - 100% compliance with language requirements\u003c/li\u003e","","\u003ch4\u003e **Ready for Use**:\u003c/h4\u003e","\u003cp\u003eThis library enables hobbyists to build professional-quality audio effects with confidence, providing the essential functions needed for most firmware development projects.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-14\" class=\"doc-section\"\u003e","\u003ch1\u003e14. Memory Layout\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/architecture/memory-layout.md\u003c/div\u003e","","\u003ch2\u003eMemory Layout and Access Patterns\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","","\u003cp\u003eThe Permut8's memory architecture directly impacts your firmware's performance, stability, and capabilities. Understanding memory layout, access patterns, and allocation strategies is crucial for developing efficient audio processing applications.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eKey Principle\u003c/strong\u003e: Static allocation with careful memory planning outperforms dynamic allocation for real-time audio processing.\u003c/p\u003e","","\u003ch3\u003eMemory Architecture\u003c/h3\u003e","","\u003ch4\u003eMemory Regions\u003c/h4\u003e","","\u003cp\u003eThe Permut8 provides distinct memory regions optimized for different purposes:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e"," 0x0000","           Code Memory               ","        (Program Flash)              "," 0x8000","          Static Data                ","       (Global Variables)            "," 0x9000","         Stack Memory                ","    (Function Calls, Locals)         "," 0xA000","        Audio Buffers                ","     (Real-time Processing)          "," 0xC000","       Parameter Memory              ","      (Live Controls)                "," 0xD000","        Display Memory               ","      (LED States)                   "," 0xFFFF","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMemory Characteristics\u003c/h4\u003e","","\u003cp\u003e| Region | Size | Access Speed | Use Case |\u003c/p\u003e","\u003cp\u003e|--------|------|--------------|----------|\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eCode\u003c/strong\u003e | 32KB | Fast | Program instructions |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eStatic\u003c/strong\u003e | 4KB | Fast | Global variables, constants |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eStack\u003c/strong\u003e | 4KB | Very Fast | Function calls, temporary data |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eAudio\u003c/strong\u003e | 8KB | Ultra Fast | Sample buffers, processing |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eParameters\u003c/strong\u003e | 4KB | Medium | Control values, settings |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eDisplay\u003c/strong\u003e | 4KB | Slow | LED states, visual feedback |\u003c/p\u003e","","\u003ch3\u003eBuffer Organization Strategies\u003c/h3\u003e","","\u003ch4\u003eAudio Buffer Layouts\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eCircular Buffer Pattern:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Circular buffer implementation","const int BUFFER_SIZE = 1024;","global array buffer[1024];","global int writeIndex = 0;","global int readIndex = 0;","","function writeCircular(int sample) {","    buffer[writeIndex] = sample;","    writeIndex = (writeIndex + 1) % BUFFER_SIZE;","}","","function readCircular() returns int sample {","    sample = buffer[readIndex];","    readIndex = (readIndex + 1) % BUFFER_SIZE;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003ePing-Pong Buffer Pattern:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Ping-pong buffer implementation","const int BUFFER_SIZE = 512;","global array bufferA[512];","global array bufferB[512];","global int useBufferA = 1;","","function getActiveBuffer(array result[512]) {","    int i;","    if (useBufferA) {","        for (i = 0 to 512) {","            result[i] = bufferA[i];","        }","    } else {","        for (i = 0 to 512) {","            result[i] = bufferB[i];","        }","    }","}","","function getInactiveBuffer(array result[512]) {","    int i;","    if (useBufferA) {","        for (i = 0 to 512) {","            result[i] = bufferB[i];","        }","    } else {","        for (i = 0 to 512) {","            result[i] = bufferA[i];","        }","    }","}","","function swapBuffers() {","    if (useBufferA == 1) {","        useBufferA = 0;","    } else {","        useBufferA = 1;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eStreaming Buffer Pattern:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Streaming buffer implementation","const int CHUNK_SIZE = 64;","global array inputChunk[64];","global array outputChunk[64];","global int chunkIndex = 0;","","function isFull() returns int result {","    if (chunkIndex \u0026gt;= CHUNK_SIZE) {","        result = 1","    } else {","        result = 0","    }","}","","function resetChunk() {","    chunkIndex = 0","}","","function addSample(int sample) {","    if (chunkIndex \u0026lt; CHUNK_SIZE) {","        inputChunk[chunkIndex] = sample","        chunkIndex = chunkIndex + 1","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMemory Access Patterns\u003c/h3\u003e","","\u003ch4\u003eSequential Access (Optimal)\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Fast: Linear memory access pattern","function processSequential(array buffer[1024], int length) {","    int i","    for (i = 0 to length - 1) {","        buffer[i] = processInPlace(buffer[i])","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStrided Access (Moderate Performance)\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Moderate: Predictable stride pattern","function processInterleaved(array stereoBuffer[2048], int frames) {","    int i","    for (i = 0 to frames - 1) {","        stereoBuffer[i * 2] = processLeft(stereoBuffer[i * 2])         // Left","        stereoBuffer[i * 2 + 1] = processRight(stereoBuffer[i * 2 + 1]) // Right","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eRandom Access (Slower)\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Slower: Cache-unfriendly random access","function processRandom(array buffer[1024], array indices[128], int count) {","    int i","    for (i = 0 to count - 1) {","        int index = indices[i]","        buffer[index] = processAtIndex(buffer[index])","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eCache-Friendly Patterns\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Optimize for memory cache behavior","const int CACHE_LINE_SIZE = 32  // bytes","const int SAMPLES_PER_LINE = 16  // CACHE_LINE_SIZE / 2 (16-bit samples)","","function processBlocks(array buffer[1024], int length) {","    int blocks = length / SAMPLES_PER_LINE","    int block","","    for (block = 0 to blocks - 1) {","        int baseIndex = block * SAMPLES_PER_LINE","        int i","","        // Process entire cache line at once","        for (i = 0 to SAMPLES_PER_LINE - 1) {","            buffer[baseIndex + i] = process(buffer[baseIndex + i])","        }","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eStatic vs Dynamic Allocation\u003c/h3\u003e","","\u003ch4\u003eStatic Allocation (Recommended)\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eBenefits:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003ePredictable memory usage\u003c/li\u003e","\u003cli\u003eNo allocation overhead\u003c/li\u003e","\u003cli\u003eGuaranteed availability\u003c/li\u003e","\u003cli\u003eDeterministic timing\u003c/li\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Pre-allocated at compile time","const int DELAY_SIZE = 2048","global array delayBuffer[2048]","global int delayIndex = 0","","// Fast, predictable processing","function processDelay(int input) returns int delayed {","    delayed = delayBuffer[delayIndex]","    delayBuffer[delayIndex] = input","    delayIndex = (delayIndex + 1) % DELAY_SIZE","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eDynamic Allocation (Use Sparingly)\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eLimitations:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003eMemory fragmentation risk\u003c/li\u003e","\u003cli\u003eAllocation overhead\u003c/li\u003e","\u003cli\u003ePotential runtime failures\u003c/li\u003e","\u003cli\u003eUnpredictable timing\u003c/li\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Avoid in real-time audio code - Impala doesn't support dynamic allocation","// This is shown as an anti-pattern for reference only","","// Instead, use static allocation:","global array tempBuffer[2048]  // Pre-allocated at compile time","","function safeBufferOperation() {","    // All buffers are statically allocated","    // No allocation/deallocation overhead","    // Guaranteed memory availability","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMemory Efficiency Techniques\u003c/h3\u003e","","\u003ch4\u003eBuffer Reuse Strategies\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eSingle Buffer, Multiple Uses:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Efficient buffer reuse","const int WORK_BUFFER_SIZE = 1024","global array workBuffer[1024]","","function processChain(array input[1024], int length) {","    int i","","    // Step 1: Copy input to work buffer","    for (i = 0 to length - 1) {","        workBuffer[i] = input[i]","    }","","    // Step 2: Process in-place","    applyFilter(workBuffer, length)","","    // Step 3: Reuse same buffer for different operation","    applyDistortion(workBuffer, length)","","    // Step 4: Copy result back","    for (i = 0 to length - 1) {","        input[i] = workBuffer[i]","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eOverlapping Buffer Technique:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Overlapping buffer processing","const int TOTAL_SIZE = 1024","const int OVERLAP = 256","global array buffer[1024]","","function processOverlapping(array newSamples[256], int newLength) {","    int i","","    // Shift existing data","    for (i = 0 to TOTAL_SIZE - newLength - 1) {","        buffer[i] = buffer[i + newLength]","    }","","    // Add new samples to end","    for (i = 0 to newLength - 1) {","        buffer[TOTAL_SIZE - newLength + i] = newSamples[i]","    }","","    // Process full buffer","    processFullBuffer(buffer, TOTAL_SIZE)","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMemory Pool Management\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Memory pool for static allocation management","const int POOL_SIZE = 4096","const int BLOCK_SIZE = 256","const int NUM_BLOCKS = 16  // POOL_SIZE / BLOCK_SIZE","","global array memoryPool[4096]","global array blockUsed[16]","","function allocateBlock() returns int blockIndex {","    int i","    for (i = 0 to NUM_BLOCKS - 1) {","        if (blockUsed[i] == 0) {","            blockUsed[i] = 1","            return i  // Return block index","        }","    }","    return -1  // Pool exhausted","}","","function freeBlock(int blockIndex) {","    if (blockIndex \u0026gt;= 0 \u0026amp;\u0026amp; blockIndex \u0026lt; NUM_BLOCKS) {","        blockUsed[blockIndex] = 0","    }","}","","function getBlockAddress(int blockIndex) returns int offset {","    offset = blockIndex * BLOCK_SIZE","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePerformance Optimization\u003c/h3\u003e","","\u003ch4\u003eMemory Access Timing\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eCritical Timing Constraints:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003eAudio sample rate: 48kHz (20.8渭s per sample)\u003c/li\u003e","\u003cli\u003eMemory access: ~50ns per access\u003c/li\u003e","\u003cli\u003eCache miss penalty: ~200ns\u003c/li\u003e","\u003cli\u003eMaximum memory operations per sample: ~400\u003c/li\u003e","","\u003ch4\u003eAccess Pattern Optimization\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Optimized memory copy operations","function efficientCopy(array dest[1024], array src[1024], int length) {","    int i","","    // Unrolled loop for better performance","    for (i = 0 to length - 4) {","        if (i + 3 \u0026lt; length) {","            dest[i] = src[i]","            dest[i + 1] = src[i + 1]","            dest[i + 2] = src[i + 2]","            dest[i + 3] = src[i + 3]","            i = i + 3  // Skip ahead (loop will increment by 1)","        } else {","            dest[i] = src[i]","        }","    }","","    // Handle any remaining samples","    while (i \u0026lt; length) {","        dest[i] = src[i]","        i = i + 1","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMemory Layout for Performance\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eStructure of Arrays (SoA) vs Array of Structures (AoS):\u003c/strong\u003e\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Array of Structures (AoS) - Poor cache locality","// Interleaved stereo data","global array stereoSamples[2048]  // left[0], right[0], left[1], right[1]...","","// Structure of Arrays (SoA) - Better cache locality","global array leftChannel[1024]","global array rightChannel[1024]","","function processChannels() {","    int i","","    // Process entire left channel with good cache locality","    for (i = 0 to 1023) {","        leftChannel[i] = processLeft(leftChannel[i])","    }","","    // Then process right channel","    for (i = 0 to 1023) {","        rightChannel[i] = processRight(rightChannel[i])","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eDebugging Memory Issues\u003c/h3\u003e","","\u003ch4\u003eMemory Usage Monitoring\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Memory monitoring utilities","global int maxStackUsage = 0","const int STACK_BASE = 0xA000","const int STACK_SIZE = 4096","const int LED_RED = 0xFF","","function checkStackUsage() {","    // Note: getCurrentStackPointer() would be a native function","    // This is a conceptual example","    int currentSP = getCurrentStackPointer()","    int usage = STACK_BASE - currentSP","","    if (usage \u0026gt; maxStackUsage) {","        maxStackUsage = usage","    }","","    // Alert if approaching limit","    if (usage \u0026gt; STACK_SIZE * 8 / 10) {  // 80% threshold","        global displayLEDs[0] = LED_RED  // Stack warning","    }","}","","function getMaxStackUsage() returns int usage {","    usage = maxStackUsage","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eBuffer Overflow Protection\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Safe buffer with overflow protection","const int BUFFER_SIZE = 1024","const int GUARD_SIZE = 16","","global array guardPrefix[16]","global array buffer[1024]","global array guardSuffix[16]","","function initSafeBuffer() {","    int i","    // Initialize guard patterns","    for (i = 0 to GUARD_SIZE - 1) {","        guardPrefix[i] = 0xDEAD","        guardSuffix[i] = 0xBEEF","    }","}","","function checkIntegrity() returns int isValid {","    int i","    isValid = 1  // Assume valid","","    for (i = 0 to GUARD_SIZE - 1) {","        if (guardPrefix[i] != 0xDEAD || guardSuffix[i] != 0xBEEF) {","            isValid = 0  // Buffer overflow detected","            break","        }","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eBest Practices Summary\u003c/h3\u003e","","\u003ch4\u003eMemory Layout Guidelines\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003eUse static allocation\u003c/strong\u003e for audio buffers and processing data\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eOrganize memory by access frequency\u003c/strong\u003e - hot data in fast regions\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eAlign buffers\u003c/strong\u003e to cache line boundaries when possible\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eMinimize pointer indirection\u003c/strong\u003e in audio processing loops\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eGroup related data\u003c/strong\u003e to improve cache locality\u003c/p\u003e","","\u003ch4\u003ePerformance Considerations\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003eSequential access patterns\u003c/strong\u003e are fastest\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eBatch similar operations\u003c/strong\u003e to maximize cache efficiency\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eAvoid memory allocation\u003c/strong\u003e in audio callbacks\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003ePre-calculate addresses\u003c/strong\u003e for frequently accessed data\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eUse memory pools\u003c/strong\u003e for occasional dynamic needs\u003c/p\u003e","","\u003ch4\u003eSafety Practices\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003eImplement bounds checking\u003c/strong\u003e in debug builds\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eUse guard patterns\u003c/strong\u003e to detect buffer overflows\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eMonitor stack usage\u003c/strong\u003e during development\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eTest with maximum memory load\u003c/strong\u003e scenarios\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003ePlan for memory growth\u003c/strong\u003e in future features\u003c/p\u003e","","\u003cp\u003eUnderstanding and optimizing memory layout is essential for creating responsive, stable Permut8 firmware. Proper memory management directly translates to better audio quality, lower latency, and more reliable performance.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-15\" class=\"doc-section\"\u003e","\u003ch1\u003e15. Memory Model\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/architecture/memory-model.md\u003c/div\u003e","","\u003ch2\u003eImpala Memory Model for Real-Time Audio Processing\u003c/h2\u003e","","\u003ch3\u003eIntroduction\u003c/h3\u003e","","\u003cp\u003eImpala's memory model is specifically designed for real-time audio processing on resource-constrained hardware. Understanding how Impala manages memory is crucial for developing efficient, reliable, and performant firmware for the Permut8 platform.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eCore Philosophy\u003c/strong\u003e: Predictable, deterministic memory behavior with zero-overhead abstractions for real-time audio requirements.\u003c/p\u003e","","\u003ch3\u003eMemory Architecture Overview\u003c/h3\u003e","","\u003ch4\u003eImpala Memory Regions\u003c/h4\u003e","","\u003cp\u003eImpala organizes memory into distinct regions, each optimized for specific usage patterns in real-time audio processing:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","","          Program Memory               Code, constants, string literals","        (Read-Only Flash)            ","","        Global Data Region             Global variables, static arrays","      (Static Allocation)            ","","         Stack Region                  Function parameters, local variables","     (Automatic Management)          ","","        Audio Buffer Region            signal[], delay memory","    (Hardware-Mapped Memory)         ","","      Parameter Region                 params[] array, control values","   (Live Hardware Interface)         ","","       Display Region                  displayLEDs[] array","    (Output Hardware Interface)      ","","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMemory Region Characteristics\u003c/h4\u003e","","\u003cp\u003e| Region | Allocation Type | Access Speed | Typical Use | Size Limit |\u003c/p\u003e","\u003cp\u003e|--------|----------------|--------------|-------------|-------------|\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eProgram\u003c/strong\u003e | Compile-time | Fast | Code, constants | 32KB |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eGlobal\u003c/strong\u003e | Compile-time | Fast | Static data, lookup tables | 8KB |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eStack\u003c/strong\u003e | Runtime (automatic) | Very Fast | Local variables, parameters | 4KB |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eAudio Buffer\u003c/strong\u003e | Hardware-mapped | Ultra Fast | Real-time audio processing | 2KB |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eParameter\u003c/strong\u003e | Hardware-mapped | Medium | Control interface | 512B |\u003c/p\u003e","\u003cp\u003e| \u003cstrong\u003eDisplay\u003c/strong\u003e | Hardware-mapped | Slow | Visual feedback | 256B |\u003c/p\u003e","","\u003ch3\u003eStatic Memory Management\u003c/h3\u003e","","\u003ch4\u003eGlobal Variable Allocation\u003c/h4\u003e","","\u003cp\u003eImpala allocates global variables in the Global Data Region at compile time, ensuring predictable memory layout:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Global arrays - allocated at compile time in Global Data Region","global array delayBuffer[1024];","global array filterCoefficients[128];","global array lookupTable[256];","","// Global state variables","global int sampleRate = 48000;","global int bufferIndex = 0;","global int currentGain = 128;","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStatic Array Management\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eFixed-Size Arrays (Recommended):\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Compile-time size determination - optimal for real-time audio","global array delayLine[2048];","global array windowFunction[512];","global array frequencyBins[256];","","function initializeArrays() {","    // Initialize delay line to zero","    int i;","    for (i = 0 to 2048) {","        delayLine[i] = 0;","    }","","    // Pre-calculate window function (Hanning window)","    for (i = 0 to 512) {","        int n = i;","        int N = 512;","        // Fixed-point calculation: 0.5 * (1 - cos(2*pi*n/(N-1)))","        int angle = (n * 6283) / (N - 1);  // 2*pi scaled by 1000","        int cosValue = fastCos(angle);     // Returns -1000 to 1000","        windowFunction[i] = 500 - (cosValue \u0026gt;\u0026gt; 1);  // Scale to 0-1000","    }","}","","// Fast cosine approximation using lookup table","readonly array cosineTable[360] = {","    1000, 999, 996, 991, 985, 978, 970, 961, 951, 940,","    // ... complete 360-value cosine table scaled by 1000","};","","function fastCos(int scaledAngle) returns int result {","    int degrees = (scaledAngle * 360) / 6283;  // Convert to degrees","    degrees = degrees % 360;  // Wrap to 0-359","    if (degrees \u0026lt; 0) degrees += 360;","    result = cosineTable[degrees];","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003ePre-allocated Buffers (Best Practice):\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Pre-allocated with maximum expected size","global array maxTempBuffer[4096];","global int tempBufferInUse = 0;","","function getTempBuffer(int neededSize) returns array result[4096] {","    if (neededSize \u0026lt;= 4096 \u0026amp;\u0026amp; tempBufferInUse == 0) {","        tempBufferInUse = 1;  // Mark as in use","        return maxTempBuffer;","    }","    // Handle error case - return smaller safe buffer","    return maxTempBuffer;  // Caller must check size","}","","function releaseTempBuffer() {","    tempBufferInUse = 0;  // Mark as available","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eStack Memory Management\u003c/h3\u003e","","\u003ch4\u003eFunction Parameter Handling\u003c/h4\u003e","","\u003cp\u003eImpala manages function parameters efficiently on the stack:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Pass by value - copies data to stack (fast for small types)","function processSample(int input, int gain) returns int result {","    int processed = (input * gain) \u0026gt;\u0026gt; 8;  // Fixed-point multiplication","    result = processed;","}","","// Pass arrays by reference - efficient for large data","function processBuffer(array buffer[1024], int length) {","    int i;","    for (i = 0 to length) {","        buffer[i] = applyFilter(buffer[i]);","    }","}","","// Process array sections efficiently","function processSection(array samples[512], int startIndex, int endIndex) {","    int i;","    for (i = startIndex to endIndex) {","        samples[i] = saturate(samples[i] * 3 \u0026gt;\u0026gt; 1);  // 1.5x gain","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eLocal Variable Optimization\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eStack-Friendly Patterns:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function efficientProcessing() {","    // Small local variables - minimal stack impact","    int gain = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","    int feedback = (int)params[OPERAND_1_LOW_PARAM_INDEX];","    int mix = (int)params[SWITCHES_PARAM_INDEX];","","    // Local arrays - use sparingly, prefer global allocation","    array tempCoeffs[8];","    calculateFilterCoeffs(tempCoeffs, gain);","","    // Process using efficient local variables","    int i;","    for (i = 0 to 2) {  // Process stereo","        int input = signal[i];","        int filtered = applyBiquad(input, tempCoeffs);","        signal[i] = (input * (255 - mix) + filtered * mix) \u0026gt;\u0026gt; 8;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eStack Overflow Prevention:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Avoid large local arrays - causes stack overflow","function badStackUsage() {","    // DON'T DO THIS - 8KB array overflows 4KB stack","    array hugeBuffer[4096];  // STACK OVERFLOW!","    // ... processing","}","","// Instead, use global allocation","global array largeWorkBuffer[4096];","","function goodStackUsage() {","    // Use pre-allocated global buffer","    clearBuffer(largeWorkBuffer);","    // ... processing using largeWorkBuffer","}","","function clearBuffer(array buffer[4096]) {","    int i;","    for (i = 0 to 4096) {","        buffer[i] = 0;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMemory Safety Mechanisms\u003c/h3\u003e","","\u003ch4\u003eBounds Checking\u003c/h4\u003e","","\u003cp\u003eImpala provides compile-time and runtime bounds checking for memory safety:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array delayBuffer[1024];","global int delayIndex = 0;","","function safeDelayAccess() {","    // Compile-time bounds checking - array size known","    delayBuffer[512] = signal[0];  // OK - within bounds","    // delayBuffer[1024] = signal[0];  // COMPILE ERROR - out of bounds","","    // Runtime bounds checking for dynamic indices","    if (delayIndex \u0026lt; 1024) {","        int delayedSample = delayBuffer[delayIndex];","        delayBuffer[delayIndex] = signal[0];","        delayIndex = (delayIndex + 1) % 1024;","        signal[0] = delayedSample;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eSafe Array Access Patterns\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Safe array access with bounds validation","function safeArrayAccess(array buffer[1024], int index, int value) {","    // Always validate index before access","    if (index \u0026gt;= 0 \u0026amp;\u0026amp; index \u0026lt; 1024) {","        buffer[index] = value;","    } else {","        trace(\"ERROR: Array index out of bounds\");","        // Handle error gracefully","    }","}","","// Circular buffer with automatic wrapping","function circularBufferAccess(array buffer[512], int index, int value) {","    // Ensure positive index and wrap","    int safeIndex = index % 512;","    if (safeIndex \u0026lt; 0) safeIndex += 512;","    buffer[safeIndex] = value;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMemory Layout Optimization\u003c/h3\u003e","","\u003ch4\u003eCache-Friendly Data Structures\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eStructure of Arrays (SoA) Pattern:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Efficient for sequential processing and cache locality","global array leftSamples[512];","global array rightSamples[512];","global array leftHistory[64];","global array rightHistory[64];","","function processStereoSoA() {","    // Process left channel with good cache locality","    int i;","    for (i = 0 to 512) {","        leftSamples[i] = applyFilter(leftSamples[i], leftHistory);","    }","","    // Process right channel with good cache locality","    for (i = 0 to 512) {","        rightSamples[i] = applyFilter(rightSamples[i], rightHistory);","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eInterleaved Stereo Processing:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Efficient when processing samples together","global array stereoBuffer[1024];  // Interleaved L,R,L,R...","","function processStereoInterleaved() {","    int frameCount = 512;  // 512 stereo frames = 1024 samples","    int i;","    for (i = 0 to frameCount) {","        int leftIndex = i * 2;","        int rightIndex = i * 2 + 1;","","        // Process left and right together","        int processedLeft = applyLeftEffect(stereoBuffer[leftIndex]);","        int processedRight = applyRightEffect(stereoBuffer[rightIndex]);","","        // Apply cross-channel effects","        stereoBuffer[leftIndex] = processedLeft + (processedRight \u0026gt;\u0026gt; 4);  // 6% crosstalk","        stereoBuffer[rightIndex] = processedRight + (processedLeft \u0026gt;\u0026gt; 4);","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMemory Alignment and Access Patterns\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Sequential Access (Fastest)","function sequentialProcessing(array buffer[1024]) {","    // Optimal memory access pattern","    int i;","    for (i = 0 to 1024) {","        buffer[i] = applyProcessing(buffer[i]);","    }","}","","// Block Processing (Optimal for Complex Operations)","function blockProcessing(array buffer[1024]) {","    const int BLOCK_SIZE = 64;","    int blockCount = 1024 / BLOCK_SIZE;  // 16 blocks","","    int blockIdx;","    for (blockIdx = 0 to blockCount) {","        int blockStart = blockIdx * BLOCK_SIZE;","","        // Process entire block with good cache locality","        applyComplexProcessing(buffer, blockStart, BLOCK_SIZE);","    }","}","","function applyComplexProcessing(array buffer[1024], int start, int length) {","    int i;","    for (i = start to start + length) {","        // Complex processing on contiguous memory block","        buffer[i] = complexAlgorithm(buffer[i]);","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePerformance Optimization Patterns\u003c/h3\u003e","","\u003ch4\u003eMemory Pool Implementation\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Custom memory pool for temporary allocations","global array memoryPool[8192];","global array freeBlocks[32];  // Track which blocks are free","global int blockSize = 256;   // Each block is 256 bytes","global int blockCount = 32;   // 8192 / 256 = 32 blocks","","function initMemoryPool() {","    int i;","    // Mark all blocks as free","    for (i = 0 to 32) {","        freeBlocks[i] = 1;  // 1 = free, 0 = allocated","    }","}","","function allocateFromPool() returns int blockIndex {","    // Find first free block","    int i;","    for (i = 0 to 32) {","        if (freeBlocks[i] == 1) {","            freeBlocks[i] = 0;  // Mark as allocated","            return i;","        }","    }","    return -1;  // Pool exhausted","}","","function freeToPool(int blockIndex) {","    if (blockIndex \u0026gt;= 0 \u0026amp;\u0026amp; blockIndex \u0026lt; 32) {","        freeBlocks[blockIndex] = 1;  // Mark as free","    }","}","","function getPoolBlock(int blockIndex, array result[256]) {","    if (blockIndex \u0026gt;= 0 \u0026amp;\u0026amp; blockIndex \u0026lt; 32) {","        int startOffset = blockIndex * blockSize;","        int i;","        for (i = 0 to 256) {","            result[i] = memoryPool[startOffset + i];","        }","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eReal-Time Memory Patterns\u003c/h3\u003e","","\u003ch4\u003eLock-Free Circular Buffers\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Single-producer, single-consumer lock-free buffer","global array circularData[2048];","global int writeIndex = 0;","global int readIndex = 0;","","function writeSample(int sample) returns int success {","    int nextWrite = (writeIndex + 1) % 2048;","","    // Check if buffer is full (would overwrite unread data)","    if (nextWrite == readIndex) {","        return 0;  // Buffer full","    }","","    circularData[writeIndex] = sample;","    writeIndex = nextWrite;  // Atomic on Permut8","    return 1;  // Success","}","","function readSample() returns int sample {","    // Check if buffer is empty","    if (readIndex == writeIndex) {","        return 0;  // Buffer empty - return silence","    }","","    int sample = circularData[readIndex];","    readIndex = (readIndex + 1) % 2048;","    return sample;","}","","function getBufferLevel() returns int level {","    if (writeIndex \u0026gt;= readIndex) {","        return writeIndex - readIndex;","    } else {","        return (2048 - readIndex) + writeIndex;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eZero-Copy Buffer Management\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Efficient buffer passing without copying","global array inputBuffer[512];","global array outputBuffer[512];","global int processingComplete = 0;","","function setupZeroCopy() {","    // Just mark buffers as ready - no data copying","    processingComplete = 0;","}","","function processZeroCopy() {","    // Process directly from input to output","    int i;","    for (i = 0 to 512) {","        outputBuffer[i] = applyEffect(inputBuffer[i]);","    }","    processingComplete = 1;","}","","function swapBuffers() {","    // Swap input and output for ping-pong processing","    array tempBuffer[512];","    int i;","","    // Copy output to temp","    for (i = 0 to 512) {","        tempBuffer[i] = outputBuffer[i];","    }","","    // Copy input to output","    for (i = 0 to 512) {","        outputBuffer[i] = inputBuffer[i];","    }","","    // Copy temp to input","    for (i = 0 to 512) {","        inputBuffer[i] = tempBuffer[i];","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eDebugging Memory Issues\u003c/h3\u003e","","\u003ch4\u003eMemory Usage Monitoring\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Runtime memory usage tracking","global int stackHighWaterMark = 0;","global int poolAllocations = 0;","global int poolDeallocations = 0;","global int bufferOverrunCount = 0;","","function checkStackUsage() returns int usage {","    // Estimate stack usage (platform-specific implementation)","    int currentUsage = getApproximateStackUsage();","","    if (currentUsage \u0026gt; stackHighWaterMark) {","        stackHighWaterMark = currentUsage;","    }","","    // Alert if approaching stack limit (4KB = 4096 bytes)","    if (currentUsage \u0026gt; 3276) {  // 80% usage warning","        displayLEDs[0] = 0xFF;  // Red LED warning","        trace(\"WARNING: High stack usage detected\");","    }","","    return currentUsage;","}","","// Platform-specific stack usage estimation","function getApproximateStackUsage() returns int estimation {","    // This is a simplified estimation","    // Actual implementation would use platform-specific methods","    return 1024;  // Placeholder value","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eBuffer Overflow Detection\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Guard pattern implementation","global int guardPrefix = 0xDEAD;","global array protectedData[1024];","global int guardSuffix = 0xBEEF;","","function initGuardedBuffer() {","    guardPrefix = 0xDEAD;","    guardSuffix = 0xBEEF;","","    // Initialize data to zero","    int i;","    for (i = 0 to 1024) {","        protectedData[i] = 0;","    }","}","","function checkBufferIntegrity() returns int isValid {","    if (guardPrefix != 0xDEAD) {","        bufferOverrunCount = bufferOverrunCount + 1;","        displayLEDs[1] = 0xFF;  // Orange LED - prefix corruption","        trace(\"ERROR: Buffer prefix corrupted\");","        return 0;","    }","","    if (guardSuffix != 0xBEEF) {","        bufferOverrunCount = bufferOverrunCount + 1;","        displayLEDs[2] = 0xFF;  // Yellow LED - suffix corruption","        trace(\"ERROR: Buffer suffix corrupted\");","        return 0;","    }","","    return 1;  // Buffer is intact","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMemory Leak Detection\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Allocation tracking for debugging","global int totalAllocations = 0;","global int totalDeallocations = 0;","global int currentAllocations = 0;","global int peakAllocations = 0;","","function trackAllocation() {","    totalAllocations = totalAllocations + 1;","    currentAllocations = currentAllocations + 1;","","    if (currentAllocations \u0026gt; peakAllocations) {","        peakAllocations = currentAllocations;","    }","","    // Update LED display with allocation count","    displayLEDs[3] = currentAllocations;","}","","function trackDeallocation() {","    totalDeallocations = totalDeallocations + 1;","    if (currentAllocations \u0026gt; 0) {","        currentAllocations = currentAllocations - 1;","    }","}","","function checkMemoryLeaks() returns int hasLeaks {","    int leakedAllocations = totalAllocations - totalDeallocations;","","    if (leakedAllocations \u0026gt; 0) {","        trace(\"WARNING: Memory leaks detected\");","        return 1;  // Has leaks","    }","","    return 0;  // No leaks","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eBest Practices Summary\u003c/h3\u003e","","\u003ch4\u003eMemory Allocation Guidelines\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003ePrefer Static Allocation\u003c/strong\u003e: Use global arrays and compile-time sizing for predictable memory usage\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eMinimize Stack Usage\u003c/strong\u003e: Keep local variables small, avoid large local arrays\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eUse Memory Pools\u003c/strong\u003e: For occasional dynamic needs, implement custom pools rather than general allocation\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003ePlan Memory Layout\u003c/strong\u003e: Organize data by access patterns and frequency\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eValidate Array Access\u003c/strong\u003e: Always check bounds for dynamic indices\u003c/p\u003e","","\u003ch4\u003ePerformance Optimization Rules\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003eSequential Access First\u003c/strong\u003e: Design algorithms around linear memory access when possible\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eCache-Friendly Patterns\u003c/strong\u003e: Group related data together, process in blocks\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eMinimize Indirection\u003c/strong\u003e: Avoid complex pointer arithmetic in audio processing loops\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003ePre-calculate Addresses\u003c/strong\u003e: Cache frequently-used array indices\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eZero-Copy Techniques\u003c/strong\u003e: Process data in-place when safe\u003c/p\u003e","","\u003ch4\u003eSafety and Debugging Practices\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003eEnable Bounds Checking\u003c/strong\u003e: Validate array indices in debug builds\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eImplement Guard Patterns\u003c/strong\u003e: Detect buffer overflows with guard values\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eMonitor Resource Usage\u003c/strong\u003e: Track stack, pool, and buffer usage\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eTest Memory Limits\u003c/strong\u003e: Validate behavior under maximum memory load conditions\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eProfile Memory Access\u003c/strong\u003e: Identify and optimize memory hotspots\u003c/p\u003e","","\u003ch4\u003eReal-Time Constraints\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003eNo Dynamic Allocation\u003c/strong\u003e: Avoid runtime memory allocation in audio processing code\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003ePredictable Access Patterns\u003c/strong\u003e: Use consistent memory access patterns for deterministic timing\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eLock-Free Data Structures\u003c/strong\u003e: Use atomic operations and careful ordering for thread safety\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003ePre-allocated Buffers\u003c/strong\u003e: Size all buffers for worst-case scenarios at compile time\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eEfficient Buffer Management\u003c/strong\u003e: Implement circular buffers for real-time data flow\u003c/p\u003e","","\u003ch3\u003eConclusion\u003c/h3\u003e","","\u003cp\u003eImpala's memory model provides the foundation for building efficient, safe, and predictable real-time audio processing systems. By understanding and following these memory management principles, developers can create firmware that maximizes the Permut8's capabilities while maintaining the strict timing requirements of professional audio applications.\u003c/p\u003e","","\u003cp\u003eThe key to successful memory management in Impala is embracing the constraints of real-time audio processing: predictable allocation, efficient access patterns, and robust safety mechanisms. These constraints, rather than limiting creativity, provide the structure needed to build reliable, high-performance audio processing systems.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-16\" class=\"doc-section\"\u003e","\u003ch1\u003e16. Processing Order\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/architecture/processing-order.md\u003c/div\u003e","","\u003ch2\u003eProcessing Order - Signal Flow in Permut8 Firmware\u003c/h2\u003e","","\u003cp\u003eUnderstanding how audio flows through your Permut8 firmware is essential for building effective DSP algorithms. The processing order determines how samples move through your code and when different operations occur.\u003c/p\u003e","","\u003ch3\u003eTwo Processing Models\u003c/h3\u003e","","\u003cp\u003ePermut8 supports two distinct processing approaches that handle signal flow differently:\u003c/p\u003e","","\u003ch4\u003eMod Patches: operate1() and operate2()\u003c/h4\u003e","","\u003cp\u003eMod patches process individual operators within the existing engine. Your code runs once per sample for each active operator:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function operate1(int inSample) returns int result {","    // Process one sample through operator 1","    int delayed = delayLine[delayPos];","    delayLine[delayPos] = inSample;","    delayPos = (delayPos + 1) % DELAY_LENGTH;","","    result = (inSample + delayed) \u0026gt;\u0026gt; 1;  // Simple echo (divide by 2)","}","","function operate2(int inSample) returns int result {","    // Process one sample through operator 2","    // Runs independently from operate1()","    result = (inSample * feedbackAmount) \u0026gt;\u0026gt; 8;  // Fixed-point multiplication","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eSignal Flow\u003c/strong\u003e: Input  operate1()  operate2()  Output\u003c/p\u003e","","\u003cp\u003eEach function receives the processed output from the previous stage. This creates a serial processing chain where order matters.\u003c/p\u003e","","\u003ch4\u003eFull Patches: process()\u003c/h4\u003e","","\u003cp\u003eFull patches replace the entire audio engine. Your code controls the complete signal path:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    loop {","        // Read input sample","        int input = signal[0];","","        // Your complete DSP algorithm here","        int filtered = applyLowpass(input);","        int delayed = addDelay(filtered);","        int finalOutput = applyDynamics(delayed);","","        // Write output sample","        signal[0] = finalOutput;","","        yield();  // Process next sample","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eSignal Flow\u003c/strong\u003e: Raw Input  Your Complete Algorithm  Raw Output\u003c/p\u003e","","\u003cp\u003eYou control every aspect of processing, from input to output.\u003c/p\u003e","","\u003ch3\u003eProcessing Timing\u003c/h3\u003e","","\u003ch4\u003eSample-Rate Processing\u003c/h4\u003e","","\u003cp\u003eBoth models process at audio sample rate (approximately 48kHz). Each function call processes exactly one sample:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// This runs 48,000 times per second","function operate1(int inSample) returns int result {","    // Keep processing lightweight!","    result = applySimpleFilter(inSample);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eCooperative Multitasking\u003c/h4\u003e","","\u003cp\u003eIn full patches, \u003ccode\u003eyield()\u003c/code\u003e is crucial for proper timing:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    loop {","        // Process one sample","        int result = complexAlgorithm(signal[0]);","        signal[0] = result;","","        yield();  // REQUIRED: Let system process next sample","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eForgetting \u003ccode\u003eyield()\u003c/code\u003e breaks real-time processing.\u003c/p\u003e","","\u003ch3\u003ePractical Processing Patterns\u003c/h3\u003e","","\u003ch4\u003eSequential Effects Chain\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function operate1(int input) returns int result {","    // Stage 1: Filter","    result = lowpassFilter(input);","}","","function operate2(int filtered) returns int result {","    // Stage 2: Distortion","    result = waveshape(filtered);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eParallel Processing\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    loop {","        int input = signal[0];","","        // Split signal for parallel processing","        int dry = input;","        int wet = applyReverb(input);","","        // Mix parallel paths","        signal[0] = (dry + wet) \u0026gt;\u0026gt; 1;  // Divide by 2","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eState Management Between Samples\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int filterState = 0;","","function operate1(int input) returns int result {","    // State persists between samples","    filterState = (filterState + input) \u0026gt;\u0026gt; 1;  // Simple low-pass","    result = filterState;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eParameter Integration\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function operate1(int input) returns int result {","    // Use parameter values in processing","    int gain = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","    int feedback = (int)params[OPERAND_1_LOW_PARAM_INDEX];","","    // Apply parameter-controlled processing","    int amplified = (input * gain) \u0026gt;\u0026gt; 8;","    result = (amplified * feedback) \u0026gt;\u0026gt; 8;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eError Handling and Safety\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function operate1(int input) returns int result {","    // Clip input to valid range","    if (input \u0026gt; 2047) input = 2047;","    else if (input \u0026lt; -2047) input = -2047;","","    // Process safely","    result = processWithSafety(input);","","    // Clip output to valid range","    if (result \u0026gt; 2047) result = 2047;","    else if (result \u0026lt; -2047) result = -2047;","}","","function processWithSafety(int input) returns int result {","    // Prevent overflow in calculations","    int scaled = input \u0026gt;\u0026gt; 2;  // Scale down to prevent overflow","    int processed = scaled * 3;  // Safe multiplication","    result = processed \u0026lt;\u0026lt; 2;  // Scale back up","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMemory Management in Processing\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Pre-allocated buffers for processing","global array delayLine[1024];","global int delayPos = 0;","global array tempBuffer[64];","","function operate1(int input) returns int result {","    // Use pre-allocated memory efficiently","    delayLine[delayPos] = input;","","    // Calculate delay output","    int delayedPos = (delayPos - 500) % 1024;","    if (delayedPos \u0026lt; 0) delayedPos += 1024;","","    int delayed = delayLine[delayedPos];","    delayPos = (delayPos + 1) % 1024;","","    result = (input + delayed) \u0026gt;\u0026gt; 1;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eAdvanced Routing Patterns\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    loop {","        int input = signal[0];","","        // Multi-tap delay with different processing","        int tap1 = getTapDelay(input, 250);   // 250 samples delay","        int tap2 = getTapDelay(input, 500);   // 500 samples delay","        int tap3 = getTapDelay(input, 1000);  // 1000 samples delay","","        // Process each tap differently","        int processed1 = applyFilter(tap1);","        int processed2 = applyDistortion(tap2);","        int processed3 = applyModulation(tap3);","","        // Mix all taps with original","        signal[0] = (input + processed1 + processed2 + processed3) \u0026gt;\u0026gt; 2;","","        yield();","    }","}","","function getTapDelay(int input, int delaySamples) returns int delayed {","    // Implementation would use appropriate delay buffer management","    // This is a conceptual example","    delayed = readDelayLine(delaySamples);","    writeDelayLine(input);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eDebugging Processing Flow\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int debugCounter = 0;","","function operate1(int input) returns int result {","    // Debug processing every 4800 samples (10x per second at 48kHz)","    debugCounter++;","    if ((debugCounter % 4800) == 0) {","        array debugMsg[64];","        strcpy(debugMsg, \"Op1 In: \");","        strcat(debugMsg, intToString(input, 10, 1, tempBuffer));","        trace(debugMsg);","    }","","    result = processFunction(input);","","    if ((debugCounter % 4800) == 0) {","        array debugMsg2[64];","        strcpy(debugMsg2, \"Op1 Out: \");","        strcat(debugMsg2, intToString(result, 10, 1, tempBuffer));","        trace(debugMsg2);","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePerformance Considerations\u003c/h3\u003e","","\u003ch4\u003eMod Patches\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eOptimized\u003c/strong\u003e: Engine handles complex routing and parameter management\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eEfficient\u003c/strong\u003e: Minimal overhead for simple processing\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLimited\u003c/strong\u003e: Restricted to operator-based processing model\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eReliable\u003c/strong\u003e: Engine provides stability and error handling\u003c/li\u003e","","\u003ch4\u003eFull Patches\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eFlexible\u003c/strong\u003e: Complete control over signal path and processing\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePowerful\u003c/strong\u003e: Can implement any algorithm within timing constraints\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eResponsible\u003c/strong\u003e: You must handle all optimizations and error cases\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDemanding\u003c/strong\u003e: Must maintain real-time performance guarantees\u003c/li\u003e","","\u003ch4\u003ePerformance Guidelines\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003eKeep operate1/operate2 lightweight\u003c/strong\u003e - Simple operations only\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eUse pre-allocated memory\u003c/strong\u003e - Avoid dynamic allocation in process()\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eMonitor CPU usage\u003c/strong\u003e - Complex algorithms may exceed timing budget\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eTest edge cases\u003c/strong\u003e - Verify performance with extreme parameter values\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eProfile regularly\u003c/strong\u003e - Use trace() to monitor processing times\u003c/p\u003e","","\u003ch4\u003eMemory Usage Patterns\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eStatic allocation\u003c/strong\u003e: Pre-allocate all buffers at startup\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCircular buffers\u003c/strong\u003e: Efficient for delay lines and history\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eState variables\u003c/strong\u003e: Minimize global state for better cache performance\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eParameter caching\u003c/strong\u003e: Copy frequently-used parameters to locals\u003c/li\u003e","","\u003ch3\u003eBest Practices Summary\u003c/h3\u003e","","\u003ch4\u003eSignal Flow Design\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003ePlan your processing chain\u003c/strong\u003e - Know your signal path before coding\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eConsider parameter integration\u003c/strong\u003e - How controls affect processing\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eDesign for real-time\u003c/strong\u003e - Keep algorithms deterministic\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eTest signal flow\u003c/strong\u003e - Verify audio path with known test signals\u003c/p\u003e","","\u003ch4\u003eCode Organization\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003eSeparate concerns\u003c/strong\u003e - Different processing stages in different functions\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eUse clear naming\u003c/strong\u003e - Function and variable names reflect purpose\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eDocument signal flow\u003c/strong\u003e - Comment the audio path through your code\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eHandle edge cases\u003c/strong\u003e - Plan for silence, full-scale, and parameter extremes\u003c/p\u003e","","\u003ch4\u003eDebugging Strategies\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003eUse trace() judiciously\u003c/strong\u003e - Monitor key processing points\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eTest incrementally\u003c/strong\u003e - Build processing chain step by step\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eVerify timing\u003c/strong\u003e - Ensure yield() placement maintains real-time\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eMonitor resources\u003c/strong\u003e - Track memory and CPU usage\u003c/p\u003e","","\u003cp\u003eUnderstanding these processing patterns helps you choose the right approach and structure your code for optimal audio quality and performance. The key is matching your processing requirements to the appropriate model while maintaining real-time constraints.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-17\" class=\"doc-section\"\u003e","\u003ch1\u003e17. State Management\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/architecture/state-management.md\u003c/div\u003e","","\u003ch2\u003eState Management - Persistent Data in Permut8 Firmware\u003c/h2\u003e","","\u003cp\u003eEffective state management is crucial for building DSP algorithms that remember information between audio samples. Permut8 firmware processes thousands of samples per second, and your code needs to maintain state efficiently across these rapid function calls.\u003c/p\u003e","","\u003ch3\u003eGlobal Variables for Persistence\u003c/h3\u003e","","\u003cp\u003eUse \u003ccode\u003eglobal\u003c/code\u003e variables to store data that persists between function calls:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array delayBuffer[1024];","global int writePos = 0;","global int feedbackLevel = 128;","","function operate1(int input) returns int result {","    // State persists between samples","    int delayed = delayBuffer[writePos];","    delayBuffer[writePos] = input + ((delayed * feedbackLevel) \u0026gt;\u0026gt; 8);","","    writePos = (writePos + 1) % 1024;","    result = delayed;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eKey Point\u003c/strong\u003e: Global variables maintain their values across all function calls, making them perfect for delay lines, filter states, and accumulators.\u003c/p\u003e","","\u003ch3\u003eInitialization Patterns\u003c/h3\u003e","","\u003ch4\u003eSimple Initialization\u003c/h4\u003e","","\u003cp\u003eFor basic state, direct assignment and first-call initialization work well:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int initialized = 0;","global int filterState = 0;","","function operate1(int input) returns int result {","    if (initialized == 0) {","        filterState = input;  // Initialize to first sample","        initialized = 1;","    }","","    // Simple lowpass filter using fixed-point math","    filterState = ((filterState * 7) + input) \u0026gt;\u0026gt; 3;  // Divide by 8","    result = filterState;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eComplex State Setup\u003c/h4\u003e","","\u003cp\u003eFor larger state structures, use initialization functions:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array reverbTaps[8];","global array tapDelays[8] = {47, 97, 149, 211, 281, 359, 443, 541};","global int reverbPos = 0;","global int setupDone = 0;","","function setupReverb() {","    // Initialize complex state once","    int i;","    for (i = 0 to 8) {","        reverbTaps[i] = 0;","    }","    setupDone = 1;","}","","function operate1(int input) returns int result {","    if (setupDone == 0) {","        setupReverb();","    }","","    // Use initialized state","    result = processReverb(input);","}","","function processReverb(int input) returns int result {","    // Simple reverb implementation using taps","    int output = input;","    int i;","","    for (i = 0 to 8) {","        int tapIndex = (reverbPos - tapDelays[i]) % 1024;","        if (tapIndex \u0026lt; 0) tapIndex += 1024;","        output += reverbTaps[tapIndex] \u0026gt;\u0026gt; 2;  // Mix in reverb taps","    }","","    // Store input in reverb buffer","    reverbTaps[reverbPos] = input;","    reverbPos = (reverbPos + 1) % 1024;","","    result = output \u0026gt;\u0026gt; 1;  // Scale output","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eState Reset and Cleanup\u003c/h3\u003e","","\u003ch4\u003eParameter-Triggered Reset\u003c/h4\u003e","","\u003cp\u003eReset state when parameters change significantly:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int lastDelayTime = 0;","global array delayBuffer[2048];","","function operate1(int input) returns int result {","    int currentDelay = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","","    // Clear buffer if delay time changed dramatically","    int delayDiff = currentDelay - lastDelayTime;","    if (delayDiff \u0026lt; 0) delayDiff = -delayDiff;  // Absolute value","","    if (delayDiff \u0026gt; 32) {","        int i;","        for (i = 0 to 2048) {","            delayBuffer[i] = 0;","        }","        lastDelayTime = currentDelay;","        trace(\"Delay buffer cleared due to parameter change\");","    }","","    // Continue with clean state","    result = applyDelay(input, currentDelay);","}","","function applyDelay(int input, int delayTime) returns int result {","    // Simple delay implementation","    int delayIndex = (writePos - delayTime) % 2048;","    if (delayIndex \u0026lt; 0) delayIndex += 2048;","","    result = delayBuffer[delayIndex];","    delayBuffer[writePos] = input;","    writePos = (writePos + 1) % 2048;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eGraceful State Transitions\u003c/h4\u003e","","\u003cp\u003eAvoid audio clicks when changing state:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int targetGain = 255;","global int currentGain = 255;","global int gainTransitionRate = 1;","","function operate1(int input) returns int result {","    // Smooth parameter changes","    targetGain = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","","    if (currentGain != targetGain) {","        // Gradual transition prevents clicks","        int diff = targetGain - currentGain;","        if (diff \u0026gt; gainTransitionRate) {","            currentGain += gainTransitionRate;","        } else if (diff \u0026lt; -gainTransitionRate) {","            currentGain -= gainTransitionRate;","        } else {","            currentGain = targetGain;  // Close enough, snap to target","        }","    }","","    result = (input * currentGain) \u0026gt;\u0026gt; 8;  // Fixed-point multiplication","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eState Validation and Safety\u003c/h4\u003e","","\u003cp\u003eEnsure state remains within valid bounds:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int oscPhase = 0;","global int oscFreq = 440;","","function operate1(int input) returns int result {","    // Validate and clamp state variables","    if (oscPhase \u0026lt; 0 || oscPhase \u0026gt;= 1000) {","        oscPhase = 0;  // Reset to safe value","        trace(\"Oscillator phase reset to safe range\");","    }","","    if (oscFreq \u0026lt; 1 || oscFreq \u0026gt; 1000) {","        oscFreq = 440;  // Reset to safe frequency","        trace(\"Oscillator frequency reset to safe range\");","    }","","    // Generate oscillator output","    int oscOutput = generateTriangleWave(oscPhase);","    oscPhase = (oscPhase + oscFreq) % 1000;","","    result = (input + oscOutput) \u0026gt;\u0026gt; 1;  // Mix oscillator with input","}","","function generateTriangleWave(int phase) returns int result {","    // Triangle wave: 0-500 rise, 500-1000 fall","    if (phase \u0026lt; 500) {","        result = (phase * 4094) / 500 - 2047;  // Rising edge","    } else {","        result = 2047 - ((phase - 500) * 4094) / 500;  // Falling edge","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMemory-Efficient State\u003c/h3\u003e","","\u003ch4\u003eCircular Buffers\u003c/h4\u003e","","\u003cp\u003eManage large state efficiently with wraparound indexing:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array buffer[512];","global int readPos = 0;","global int writePos = 256;  // Half buffer delay","","function operate1(int input) returns int result {","    // Write new sample","    buffer[writePos] = input;","","    // Read delayed sample","    int output = buffer[readPos];","","    // Advance pointers with wraparound","    readPos = (readPos + 1) % 512;","    writePos = (writePos + 1) % 512;","","    result = output;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eVariable Delay with Interpolation\u003c/h4\u003e","","\u003cp\u003eImplement smooth delay time changes:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array delayLine[1024];","global int writeIndex = 0;","","function operate1(int input) returns int result {","    // Write input to delay line","    delayLine[writeIndex] = input;","","    // Get delay time from parameter (0-1023 samples)","    int delayTime = ((int)params[OPERAND_1_HIGH_PARAM_INDEX] * 1023) \u0026gt;\u0026gt; 8;","","    // Calculate read position with fractional part","    int readPos = writeIndex - delayTime;","    if (readPos \u0026lt; 0) readPos += 1024;","","    // Linear interpolation for smooth delay changes","    int nextPos = (readPos + 1) % 1024;","    int sample1 = delayLine[readPos];","    int sample2 = delayLine[nextPos];","","    // Simple interpolation (could be enhanced with fractional delay)","    result = (sample1 + sample2) \u0026gt;\u0026gt; 1;","","    writeIndex = (writeIndex + 1) % 1024;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003ePacked State\u003c/h4\u003e","","\u003cp\u003eUse bit manipulation to store multiple values efficiently:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int packedState = 0;","","function storePhase(int phase) {","    // Store 16-bit phase in upper bits (limit to 16-bit range)","    if (phase \u0026gt; 65535) phase = 65535;","    if (phase \u0026lt; 0) phase = 0;","    packedState = (packedState \u0026amp; 0xFFFF) | (phase \u0026lt;\u0026lt; 16);","}","","function storeAmplitude(int amp) {","    // Store 16-bit amplitude in lower bits","    if (amp \u0026gt; 65535) amp = 65535;","    if (amp \u0026lt; 0) amp = 0;","    packedState = (packedState \u0026amp; 0xFFFF0000) | (amp \u0026amp; 0xFFFF);","}","","function getPhase() returns int phase {","    phase = (packedState \u0026gt;\u0026gt; 16) \u0026amp; 0xFFFF;","}","","function getAmplitude() returns int amplitude {","    amplitude = packedState \u0026amp; 0xFFFF;","}","","function operate1(int input) returns int result {","    // Use packed state for oscillator","    int phase = getPhase();","    int amplitude = getAmplitude();","","    // Update amplitude based on parameter","    amplitude = (int)params[OPERAND_1_HIGH_PARAM_INDEX] \u0026lt;\u0026lt; 8;  // Scale to 16-bit","    storeAmplitude(amplitude);","","    // Generate output and advance phase","    int oscOutput = (generateSineApprox(phase) * amplitude) \u0026gt;\u0026gt; 16;","    phase = (phase + 100) % 65536;  // Advance phase","    storePhase(phase);","","    result = (input + oscOutput) \u0026gt;\u0026gt; 1;","}","","function generateSineApprox(int phase) returns int result {","    // Simple sine approximation using triangle wave","    int scaled = (phase * 1000) / 65536;  // Scale to 0-999","    if (scaled \u0026lt; 250) {","        result = (scaled * 4000) / 250;  // 0 to 1000","    } else if (scaled \u0026lt; 750) {","        result = 1000 - ((scaled - 250) * 4000) / 500;  // 1000 to -1000","    } else {","        result = -1000 + ((scaled - 750) * 4000) / 250;  // -1000 to 0","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMulti-Stage State Management\u003c/h3\u003e","","\u003ch4\u003eFilter Chains with State\u003c/h4\u003e","","\u003cp\u003eManage state across multiple processing stages:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Filter chain state","global int lpfState1 = 0;","global int lpfState2 = 0;","global int hpfState1 = 0;","global int hpfStateInput = 0;","","function operate1(int input) returns int result {","    // Multi-stage filter with state management","    int stage1 = lowpassFilter(input, \u0026amp;lpfState1);","    int stage2 = lowpassFilter(stage1, \u0026amp;lpfState2);","    int stage3 = highpassFilter(stage2, \u0026amp;hpfState1, \u0026amp;hpfStateInput);","","    result = stage3;","}","","function lowpassFilter(int input, int state) returns int result {","    // Simple lowpass with state update","    int newState = (state * 7 + input) \u0026gt;\u0026gt; 3;  // Update state","    // Note: In real implementation, would need to update global state","    result = newState;","}","","function highpassFilter(int input, int lastOutput, int lastInput) returns int result {","    // Highpass filter: output = input - lastInput + 0.95 * lastOutput","    int diff = input - lastInput;","    result = diff + ((lastOutput * 243) \u0026gt;\u0026gt; 8);  // 0.95  243/256","","    // Note: In real implementation, would update global state variables","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eState Debugging and Monitoring\u003c/h4\u003e","","\u003cp\u003eDebug state changes effectively:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int debugCounter = 0;","global int stateChangeCount = 0;","","function operate1(int input) returns int result {","    int oldState = filterState;","","    // Process with state change","    filterState = updateFilterState(input);","","    // Monitor state changes for debugging","    if (filterState != oldState) {","        stateChangeCount++;","    }","","    // Debug output every second (48000 samples)","    debugCounter++;","    if ((debugCounter % 48000) == 0) {","        array debugMsg[128];","        array tempBuf[32];","","        strcpy(debugMsg, \"State changes: \");","        strcat(debugMsg, intToString(stateChangeCount, 10, 1, tempBuf));","        strcat(debugMsg, \" Filter: \");","        strcat(debugMsg, intToString(filterState, 10, 1, tempBuf));","","        trace(debugMsg);","        stateChangeCount = 0;  // Reset counter","    }","","    result = filterState;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eBest Practices\u003c/h3\u003e","","\u003ch4\u003eMemory Management\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003ePre-allocate state\u003c/strong\u003e: Use global arrays sized for worst-case scenarios\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMinimize state size\u003c/strong\u003e: Large arrays consume limited firmware memory\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eUse circular buffers\u003c/strong\u003e: Efficient for delay lines and history buffers\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePack related data\u003c/strong\u003e: Combine small state variables when possible\u003c/li\u003e","","\u003ch4\u003ePerformance Optimization\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eInitialize once\u003c/strong\u003e: Set up complex state only when needed, not every sample\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCache frequently accessed state\u003c/strong\u003e: Copy global state to locals in tight loops\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eUse efficient data types\u003c/strong\u003e: Prefer int over float for state variables\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMinimize state updates\u003c/strong\u003e: Only update state when values actually change\u003c/li\u003e","","\u003ch4\u003eAudio Quality\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eSmooth transitions\u003c/strong\u003e: Always interpolate when changing significant state to avoid audio artifacts\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eValidate state bounds\u003c/strong\u003e: Ensure state variables remain within valid ranges\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eHandle parameter changes gracefully\u003c/strong\u003e: Reset or transition state appropriately when parameters change\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTest edge cases\u003c/strong\u003e: Verify state behavior with extreme parameter values\u003c/li\u003e","","\u003ch4\u003eDebugging and Maintenance\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eAdd state validation\u003c/strong\u003e: Check for invalid state values and reset safely\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eInclude debug monitoring\u003c/strong\u003e: Track state changes for troubleshooting\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDocument state relationships\u003c/strong\u003e: Comment how state variables interact\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePlan reset strategies\u003c/strong\u003e: Define when and how to reset state cleanly\u003c/li\u003e","","\u003ch4\u003eReal-Time Constraints\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eAvoid complex initialization\u003c/strong\u003e: Keep per-sample state updates lightweight\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eUse deterministic algorithms\u003c/strong\u003e: Ensure state updates don't vary in execution time\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePlan for interruption\u003c/strong\u003e: State should remain valid if processing is interrupted\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eConsider memory alignment\u003c/strong\u003e: Organize state for efficient memory access\u003c/li\u003e","","\u003ch3\u003eCommon State Management Patterns\u003c/h3\u003e","","\u003ch4\u003eDelay Line State\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array delayMem[2048];","global int delayWrite = 0;","","function delayReadWrite(int input, int delayTime) returns int output {","    int readPos = (delayWrite - delayTime) % 2048;","    if (readPos \u0026lt; 0) readPos += 2048;","","    output = delayMem[readPos];","    delayMem[delayWrite] = input;","    delayWrite = (delayWrite + 1) % 2048;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eFilter State\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int filter1State = 0;","global int filter2State = 0;","","function biquadChain(int input) returns int output {","    filter1State = ((filter1State * 15) + input) \u0026gt;\u0026gt; 4;  // Lowpass","    filter2State = input - filter1State + ((filter2State * 15) \u0026gt;\u0026gt; 4);  // Highpass","    output = filter2State;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eOscillator State\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int oscPhase = 0;","global int oscRate = 100;","","function oscillatorStep() returns int output {","    output = generateWave(oscPhase);","    oscPhase = (oscPhase + oscRate) % 1000;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eProper state management ensures your DSP algorithms sound smooth, respond predictably to parameter changes, and maintain stable operation across millions of samples processed per second.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-18\" class=\"doc-section\"\u003e","\u003ch1\u003e18. Architecture_Patterns\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/architecture/architecture_patterns.md\u003c/div\u003e","","\u003ch2\u003eArchitecture Patterns\u003c/h2\u003e","","\u003ch3\u003eWhat This Is\u003c/h3\u003e","\u003cp\u003eArchitectural design patterns, lifecycle management, and performance strategies for Permut8 firmware development. Essential concepts for building robust, efficient audio processing systems.\u003c/p\u003e","","\u003ch3\u003ePatch Architecture Overview\u003c/h3\u003e","","\u003ch4\u003eFull Patch Architecture\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003ePurpose\u003c/strong\u003e: Complete audio processing replacement\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eControl\u003c/strong\u003e: Total control over audio signal chain\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eComplexity\u003c/strong\u003e: Higher - must handle all audio processing\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003ePerformance\u003c/strong\u003e: Higher CPU usage, but maximum flexibility\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","global array signal[2]      // Direct audio I/O","global array params[8]      // Parameter control","global array displayLEDs[4] // Visual feedback","","function process() {","    loop {","        // Complete signal processing chain","        int inputLeft = signal[0];","        int inputRight = signal[1];","","        // Your complete DSP algorithm here","        signal[0] = processedLeft;","        signal[1] = processedRight;","","        yield();  // Essential - return control","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eWhen to Use Full Patches\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eComplex multi-stage effects (reverb, vocoder, granular)\u003c/li\u003e","\u003cli\u003eReal-time analysis and resynthesis\u003c/li\u003e","\u003cli\u003eComplete signal replacement needed\u003c/li\u003e","\u003cli\u003eCustom envelope followers or dynamics\u003c/li\u003e","\u003cli\u003eAdvanced modulation routing\u003c/li\u003e","","\u003ch4\u003eMod Patch Architecture\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003ePurpose\u003c/strong\u003e: Modify existing operators\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eControl\u003c/strong\u003e: Indirect via memory position manipulation\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eComplexity\u003c/strong\u003e: Lower - Permut8 handles audio processing\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003ePerformance\u003c/strong\u003e: Lower CPU usage, leverages hardware optimizations\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","global array positions[2]   // Memory position control","global array params[8]      // Parameter control","global array displayLEDs[4] // Visual feedback","","function operate1() returns int processed {","    // Modify delay line positions","    int delayOffset = calculateDelay();","","    positions[0] += delayOffset;  // Left channel","    positions[1] += delayOffset;  // Right channel","","    return 1;  // Signal that we processed the positions","}","","function operate2() returns int processed {","    // Second operator can do different processing","    // Often used for stereo effects or parallel processing","    return 1;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eWhen to Use Mod Patches\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eSimple delays and modulation\u003c/li\u003e","\u003cli\u003eStereo imaging effects\u003c/li\u003e","\u003cli\u003eTempo-synced delays\u003c/li\u003e","\u003cli\u003ePosition-based effects (flanging, chorusing)\u003c/li\u003e","\u003cli\u003eLower CPU usage requirements\u003c/li\u003e","","\u003ch3\u003eLifecycle Management\u003c/h3\u003e","","\u003ch4\u003eInitialization Phase\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Called once when firmware loads","function init() {","    // Initialize lookup tables","    buildSineTable();","    buildFilterCoefficients();","","    // Set initial state","    resetDelayBuffers();","    initializeFilters();","","    // Configure defaults","    setDefaultParameters();","","    trace(\"Firmware initialized successfully\");","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eBest Practices for Initialization\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eCompute expensive lookup tables once\u003c/li\u003e","\u003cli\u003eInitialize all global state variables\u003c/li\u003e","\u003cli\u003eSet safe default parameter values\u003c/li\u003e","\u003cli\u003ePre-allocate any dynamic structures\u003c/li\u003e","\u003cli\u003eValidate critical system state\u003c/li\u003e","","\u003ch4\u003eUpdate Phase\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Called when parameters change","global int lastParamValues[8] = {-1, -1, -1, -1, -1, -1, -1, -1};","","function update() {","    // Check which parameters changed","    int paramIndex;","    for (paramIndex = 0 to 8) {","        if (params[paramIndex] != lastParamValues[paramIndex]) {","            handleParameterChange(paramIndex, params[paramIndex]);","            lastParamValues[paramIndex] = params[paramIndex];","        }","    }","}","","function handleParameterChange(int index, int newValue) {","    if (index == OPERAND_1_HIGH_PARAM_INDEX) {","        // Recalculate filter frequency","        updateFilterFrequency(newValue);","    } else if (index == OPERAND_1_LOW_PARAM_INDEX) {","        // Recalculate resonance","        updateFilterResonance(newValue);","    }","    // ... handle other parameters","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eUpdate Optimization Strategies\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eOnly recalculate when parameters actually change\u003c/li\u003e","\u003cli\u003eUse incremental updates instead of full recalculation\u003c/li\u003e","\u003cli\u003eCache intermediate calculations\u003c/li\u003e","\u003cli\u003eSmooth parameter changes to avoid artifacts\u003c/li\u003e","","\u003ch4\u003eReset Phase\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Called when reset button pressed or DAW restarts","function reset() {","    // Clear all delay buffers","    clearAllBuffers();","","    // Reset filter states","    resetFilterMemory();","","    // Reset phase accumulators","    resetOscillatorPhases();","","    // Clear any accumulated state","    resetEnvelopeFollowers();","","    // Re-initialize critical state","    initializeProcessingState();","","    trace(\"System reset completed\");","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eReset Considerations\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eClear all audio memory to prevent artifacts\u003c/li\u003e","\u003cli\u003eReset time-based accumulators (phases, counters)\u003c/li\u003e","\u003cli\u003ePreserve parameter settings\u003c/li\u003e","\u003cli\u003eInitialize to known good state\u003c/li\u003e","\u003cli\u003eConsider gradual reset to avoid clicks\u003c/li\u003e","","\u003ch4\u003eProcessing Phase Management\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Efficient processing loop structure","function process() {","    loop {","        // 1. Read inputs efficiently","        int inputL = signal[0];","        int inputR = signal[1];","","        // 2. Update time-based state","        updateTimeState();","","        // 3. Process audio","        processAudioSample(inputL, inputR);","","        // 4. Update displays (not every sample)","        if (shouldUpdateDisplay()) {","            updateLEDDisplays();","        }","","        // 5. Essential - return control","        yield();","    }","}","","int displayUpdateCounter = 0;","function shouldUpdateDisplay() returns int update {","    displayUpdateCounter++;","    if (displayUpdateCounter \u0026gt;= 1000) {  // Update every 1000 samples","        displayUpdateCounter = 0;","        update = 1;","    } else {","        update = 0;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eState Management Patterns\u003c/h3\u003e","","\u003ch4\u003eStateless Processing\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Pure functions - no global state modification","function pureProcessor(int input, int param1, int param2)","returns int output {","    // All state passed as parameters","    // No side effects","    // Predictable and testable","","    int processed = applyGain(input, param1);","    processed = applyFilter(processed, param2);","    return processed;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eBenefits\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eEasy to test and debug\u003c/li\u003e","\u003cli\u003eNo state corruption issues\u003c/li\u003e","\u003cli\u003eThread-safe by design\u003c/li\u003e","\u003cli\u003eComposable and reusable\u003c/li\u003e","","\u003ch4\u003eManaged State Objects\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// State encapsulation pattern","struct FilterState {","    int lowpass;","    int bandpass;","    int highpass;","    int frequency;","    int resonance;","}","","global FilterState leftFilter;","global FilterState rightFilter;","","function initFilter(pointer filter) {","    filter-\u0026gt;lowpass = 0;","    filter-\u0026gt;bandpass = 0;","    filter-\u0026gt;highpass = 0;","    filter-\u0026gt;frequency = 1000;","    filter-\u0026gt;resonance = 100;","}","","function processFilter(pointer filter, int input)","returns int output {","    // Process with encapsulated state","    // All filter state kept together","    // Easier to manage multiple instances","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eRing Buffer Management\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Efficient circular buffer pattern","struct RingBuffer {","    array data[8192];","    int writePos;","    int readPos;","    int size;","}","","global RingBuffer delayBuffer;","","function initRingBuffer(pointer buffer, int bufferSize) {","    buffer-\u0026gt;writePos = 0;","    buffer-\u0026gt;readPos = 0;","    buffer-\u0026gt;size = bufferSize;","","    // Clear buffer","    int i;","    for (i = 0 to bufferSize) {","        buffer-\u0026gt;data[i] = 0;","    }","}","","function writeToBuffer(pointer buffer, int sample) {","    buffer-\u0026gt;data[buffer-\u0026gt;writePos] = sample;","    buffer-\u0026gt;writePos = (buffer-\u0026gt;writePos + 1) % buffer-\u0026gt;size;","}","","function readFromBuffer(pointer buffer, int delayTime)","returns int sample {","    int readPos = buffer-\u0026gt;writePos - delayTime;","    if (readPos \u0026lt; 0) readPos += buffer-\u0026gt;size;","    sample = buffer-\u0026gt;data[readPos];","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePerformance Optimization Patterns\u003c/h3\u003e","","\u003ch4\u003eCPU Optimization Strategies\u003c/h4\u003e","","\u003ch5\u003e1. Minimize Expensive Operations\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Avoid per-sample floating point when possible","// Bad: floating point per sample","function inefficientGain(int input) {","    float gain = itof((int)params[3]) / 255.0;","    return ftoi(itof(input) * gain);","}","","// Good: pre-calculate in update()","global int precalculatedGain = 256;","","function update() {","    // Calculate once when parameter changes","    precalculatedGain = (int)params[3];","}","","function efficientGain(int input) {","    // Fast integer multiply and shift","    return (input * precalculatedGain) \u0026gt;\u0026gt; 8;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch5\u003e2. Use Lookup Tables\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Pre-computed lookup tables for expensive functions","const int SINE_TABLE_SIZE = 1024;","global int sineTable[SINE_TABLE_SIZE];","","function init() {","    // Build table once at startup","    int i;","    for (i = 0 to SINE_TABLE_SIZE) {","        float angle = itof(i) * TWO_PI / itof(SINE_TABLE_SIZE);","        sineTable[i] = ftoi(sin(angle) * 2047.0);","    }","}","","function fastSine(int phase) returns int value {","    // Fast table lookup instead of sin() calculation","    int index = (phase \u0026gt;\u0026gt; 6) \u0026amp; (SINE_TABLE_SIZE - 1);  // Scale and wrap","    value = sineTable[index];","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch5\u003e3. Batch Processing\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Process multiple samples efficiently","const int BATCH_SIZE = 32;","global int processingBatch[BATCH_SIZE];","global int batchIndex = 0;","","function process() {","    loop {","        // Collect samples in batch","        processingBatch[batchIndex] = signal[0];","        batchIndex++;","","        if (batchIndex \u0026gt;= BATCH_SIZE) {","            // Process entire batch at once","            processBatch(processingBatch, BATCH_SIZE);","            batchIndex = 0;","        }","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch5\u003e4. Memory Access Optimization\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Sequential memory access pattern","function efficientMemoryAccess() {","    const int BLOCK_SIZE = 16;","    array audioBlock[BLOCK_SIZE * 2];  // Stereo interleaved","","    // Read block sequentially","    read(clock - 1000, BLOCK_SIZE, audioBlock);","","    // Process block","    int i;","    for (i = 0 to BLOCK_SIZE) {","        int leftSample = audioBlock[i * 2];","        int rightSample = audioBlock[i * 2 + 1];","        // Process samples...","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMemory Optimization Patterns\u003c/h4\u003e","","\u003ch5\u003e1. Memory Pool Management\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Pre-allocate memory pools","const int MAX_DELAYS = 8;","const int DELAY_SIZE = 4096;","","global array delayPool[MAX_DELAYS * DELAY_SIZE];","global int delayAllocator = 0;","","function allocateDelay(int requestedSize) returns int offset {","    if (delayAllocator + requestedSize \u0026lt;= MAX_DELAYS * DELAY_SIZE) {","        offset = delayAllocator;","        delayAllocator += requestedSize;","    } else {","        offset = -1;  // Allocation failed","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch5\u003e2. Stack-Based Temporary Storage\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Use local arrays for temporary calculations","function processWithTempStorage() {","    array tempBuffer[64];  // Local stack allocation","    array workspace[32];   // Another temporary buffer","","    // Use for intermediate calculations","    // Automatically freed when function exits","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch5\u003e3. Memory Layout Optimization\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Group related data for cache efficiency","struct ProcessingState {","    // Frequently accessed together","    int sampleRate;","    int bufferSize;","    int currentSample;","","    // Audio buffers","    array leftBuffer[1024];","    array rightBuffer[1024];","","    // Less frequently accessed","    int debugFlags;","    array tempStorage[512];","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eError Handling Patterns\u003c/h3\u003e","","\u003ch4\u003eDefensive Programming\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Parameter validation","function safeParameterAccess(int paramIndex) returns int value {","    if (paramIndex \u0026lt; 0 || paramIndex \u0026gt;= 8) {","        trace(\"Invalid parameter index\");","        return 0;  // Safe default","    }","    value = params[paramIndex];","}","","// Audio range validation","function safeAudioOutput(int sample) returns int safeSample {","    if (sample \u0026gt; 2047) {","        safeSample = 2047;","    } else if (sample \u0026lt; -2047) {","        safeSample = -2047;","    } else {","        safeSample = sample;","    }","}","","// Division by zero protection","function safeDivide(int numerator, int denominator) returns int result {","    if (denominator == 0) {","        result = 0;  // Or some other safe value","    } else {","        result = numerator / denominator;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eGraceful Degradation\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Fallback processing when resources limited","function adaptiveProcessing() {","    int cpuUsage = estimateCPULoad();","","    if (cpuUsage \u0026gt; 80) {","        // Reduce quality to maintain real-time performance","        processLowQuality();","    } else if (cpuUsage \u0026gt; 60) {","        // Medium quality","        processMediumQuality();","    } else {","        // Full quality","        processHighQuality();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eError Recovery\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int errorState = 0;","const int ERROR_NONE = 0;","const int ERROR_OVERFLOW = 1;","const int ERROR_UNDERFLOW = 2;","","function detectAndRecoverFromError() {","    // Check for audio overflow","    if (signal[0] \u0026gt; 3000 || signal[0] \u0026lt; -3000) {","        errorState = ERROR_OVERFLOW;","        signal[0] = 0;  // Mute to prevent speaker damage","        signal[1] = 0;","        trace(\"Audio overflow detected - muting\");","    }","","    // Recovery after some time","    if (errorState != ERROR_NONE) {","        // Gradually unmute after error condition clears","        recoverFromError();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eDebugging Strategies\u003c/h3\u003e","","\u003ch4\u003eTrace-Based Debugging\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Conditional debug output","const int DEBUG_LEVEL_NONE = 0;","const int DEBUG_LEVEL_ERROR = 1;","const int DEBUG_LEVEL_INFO = 2;","const int DEBUG_LEVEL_VERBOSE = 3;","","global int debugLevel = DEBUG_LEVEL_ERROR;","","function debugTrace(int level, string message) {","    if (level \u0026lt;= debugLevel) {","        trace(message);","    }","}","","function process() {","    loop {","        debugTrace(DEBUG_LEVEL_VERBOSE, \"Processing sample\");","","        // Your processing...","","        if (errorCondition) {","            debugTrace(DEBUG_LEVEL_ERROR, \"Error in processing\");","        }","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eState Inspection\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Periodic state dumps","global int debugCounter = 0;","","function process() {","    loop {","        // Process audio...","","        debugCounter++;","        if (debugCounter \u0026gt;= 48000) {  // Once per second at 48kHz","            debugDumpState();","            debugCounter = 0;","        }","","        yield();","    }","}","","function debugDumpState() {","    array buffer[256];","    sprintf(buffer, \"State: gain=%d, freq=%d, phase=%d\",","            currentGain, currentFreq, currentPhase);","    trace(buffer);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eVisual Debugging with LEDs\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Use LEDs for real-time debugging","function debugWithLEDs() {","    // Show parameter values","    displayLEDs[0] = params[3];  // Show knob position","","    // Show processing state","    if (isClipping) {","        displayLEDs[1] = 0xFF;  // All LEDs for clipping","    } else {","        displayLEDs[1] = currentLevel \u0026gt;\u0026gt; 3;  // Level meter","    }","","    // Show error conditions","    if (errorState != 0) {","        displayLEDs[2] = 0xAA;  // Alternating pattern for errors","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003ePerformance Monitoring\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Simple performance measurement","global int processStartTime = 0;","global int maxProcessTime = 0;","","function process() {","    loop {","        processStartTime = getSampleTime();","","        // Your processing here...","","        int processTime = getSampleTime() - processStartTime;","        if (processTime \u0026gt; maxProcessTime) {","            maxProcessTime = processTime;","        }","","        // Report if processing takes too long","        if (processTime \u0026gt; 100) {  // Threshold in samples","            trace(\"Processing overrun detected\");","        }","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eCommon Architecture Pitfalls\u003c/h3\u003e","","\u003ch4\u003e1. State Corruption\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Problem: Uncontrolled global state modification","global int sharedCounter = 0;","","function badFunction1() {","    sharedCounter++;  // Can conflict with other functions","}","","// Solution: Controlled state access","function goodFunction1() {","    int newValue = getSharedCounter() + 1;","    setSharedCounter(newValue);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e2. Resource Leaks\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Problem: Unbounded memory growth","global int bufferAllocated = 0;","","function badAllocation() {","    // Keeps allocating without freeing","    bufferAllocated += 1024;","}","","// Solution: Bounded resource management","const int MAX_BUFFER_SIZE = 65536;","","function goodAllocation(int requestedSize) returns int success {","    if (bufferAllocated + requestedSize \u0026lt;= MAX_BUFFER_SIZE) {","        bufferAllocated += requestedSize;","        success = 1;","    } else {","        success = 0;  // Allocation denied","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003e3. Timing Assumptions\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Problem: Assuming fixed timing relationships","global int sampleCounter = 0;","","function badTiming() {","    sampleCounter++;","    if (sampleCounter == 48000) {  // Assumes 48kHz!","        // Do something once per second","        sampleCounter = 0;","    }","}","","// Solution: Sample-rate independent timing","function goodTiming() {","    float samplesPerSecond = getSampleRate();","    if (sampleCounter \u0026gt;= ftoi(samplesPerSecond)) {","        // Correctly handles any sample rate","        sampleCounter = 0;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eBest Practices Summary\u003c/h3\u003e","","\u003ch4\u003eArchitecture Design\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003eChoose the right patch type\u003c/strong\u003e: Full patches for complex processing, mod patches for simple position effects\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eSeparate concerns\u003c/strong\u003e: Keep audio processing, parameter handling, and UI updates distinct\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003ePlan state management\u003c/strong\u003e: Use clear ownership patterns for global state\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eDesign for testability\u003c/strong\u003e: Make functions pure when possible\u003c/p\u003e","","\u003ch4\u003ePerformance\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003eMeasure first\u003c/strong\u003e: Profile before optimizing\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eOptimize hot paths\u003c/strong\u003e: Focus on per-sample processing loops\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eUse appropriate data types\u003c/strong\u003e: Prefer integers for audio samples, use floating point judiciously\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eLeverage hardware\u003c/strong\u003e: Let Permut8 handle what it does well\u003c/p\u003e","","\u003ch4\u003eReliability\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003eValidate inputs\u003c/strong\u003e: Check parameter ranges and audio bounds\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eHandle errors gracefully\u003c/strong\u003e: Prefer degraded operation over crashes\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eTest edge cases\u003c/strong\u003e: Zero inputs, extreme parameters, rapid changes\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eMonitor resource usage\u003c/strong\u003e: Track memory and CPU consumption\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003eSee also: [Audio Processing Reference](audio_processing_reference.md), [Core Language Reference](core_language_reference.md)\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-19\" class=\"doc-section\"\u003e","\u003ch1\u003e19. Basic Oscillator\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/fundamentals/basic-oscillator.md\u003c/div\u003e","","\u003ch2\u003eBasic Oscillator\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eGenerate fundamental audio waveforms\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eGenerates basic audio waveforms - sine, square, sawtooth, and triangle waves. These are the building blocks of synthesis, providing raw tones that filters and effects can shape into complex sounds.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Parameters:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[0]\u003c/code\u003e: Frequency (0-255, controls pitch)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[1]\u003c/code\u003e: Waveform type (0-255, selects wave shape)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[2]\u003c/code\u003e: Amplitude (0-255, controls volume)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[3]\u003c/code\u003e: Fine tune (0-255, pitch adjustment)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eWaveform Types:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eSine\u003c/strong\u003e: Pure tone, no harmonics\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSquare\u003c/strong\u003e: Hollow, woody character\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSawtooth\u003c/strong\u003e: Bright, buzzy character\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTriangle\u003c/strong\u003e: Warm, mellow character\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e Phase accumulator, frequency control, waveform generation, harmonic content\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// Simple oscillator state","global int phase = 0            // Current phase position (0-65535)","","function process()","locals int frequency, int wave_type, int amplitude, int fine_tune, int phase_inc, int wave_output, int output","{","    loop {","        // Read parameters","        frequency = ((int)global params[0] \u0026lt;\u0026lt; 4) + 100;  // 100-4196 range","        wave_type = ((int)global params[1] \u0026gt;\u0026gt; 6);         // 0-3 wave types","        amplitude = ((int)global params[2] \u0026lt;\u0026lt; 3);         // 0-2040 amplitude","        fine_tune = ((int)global params[3] \u0026gt;\u0026gt; 3) - 16;    // -16 to +15 fine tune","","        // Calculate phase increment (determines frequency)","        phase_inc = frequency + fine_tune;","        if (phase_inc \u0026lt; 50) phase_inc = 50;  // Minimum frequency","","        // Update phase accumulator","        global phase = global phase + phase_inc;","        if (global phase \u0026gt; 65535) global phase = global phase - 65535;","","        // Generate waveform based on type","        if (wave_type == 0) {","            // Sine wave (approximation using triangle + smoothing)","            if (global phase \u0026lt; 16384) {","                wave_output = global phase \u0026gt;\u0026gt; 2;          // Rising 0 to 4095","            } else if (global phase \u0026lt; 32768) {","                wave_output = 4095 - ((global phase - 16384) \u0026gt;\u0026gt; 2);  // Falling 4095 to 0","            } else if (global phase \u0026lt; 49152) {","                wave_output = -((global phase - 32768) \u0026gt;\u0026gt; 2);        // Falling 0 to -4095","            } else {","                wave_output = -4095 + ((global phase - 49152) \u0026gt;\u0026gt; 2); // Rising -4095 to 0","            }","","        } else if (wave_type == 1) {","            // Square wave","            if (global phase \u0026lt; 32768) {","                wave_output = 2047;   // High","            } else {","                wave_output = -2047;  // Low","            }","","        } else if (wave_type == 2) {","            // Sawtooth wave","            wave_output = (global phase \u0026gt;\u0026gt; 4) - 2047;  // -2047 to 2047 ramp","","        } else {","            // Triangle wave","            if (global phase \u0026lt; 32768) {","                wave_output = (global phase \u0026gt;\u0026gt; 3) - 2047;     // Rising -2047 to 2047","            } else {","                wave_output = 2047 - ((global phase - 32768) \u0026gt;\u0026gt; 3); // Falling 2047 to -2047","            }","        }","","        // Apply amplitude scaling","        output = (wave_output * amplitude) \u0026gt;\u0026gt; 11;  // Scale by amplitude","","        // Prevent clipping","        if (output \u0026gt; 2047) output = 2047;","        if (output \u0026lt; -2047) output = -2047;","","        // Output same signal to both channels","        global signal[0] = output;","        global signal[1] = output;","","        // Show activity on LEDs","        global displayLEDs[0] = frequency \u0026gt;\u0026gt; 4;","        global displayLEDs[1] = wave_type \u0026lt;\u0026lt; 6;","        global displayLEDs[2] = amplitude \u0026gt;\u0026gt; 3;","        global displayLEDs[3] = (global phase \u0026gt;\u0026gt; 8);  // Show phase position","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003ePhase Accumulator\u003c/strong\u003e: A counter that cycles from 0 to 65535, representing one complete waveform cycle.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003ePhase Increment\u003c/strong\u003e: How much the phase advances each sample - larger values = higher frequency.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eWaveform Generation\u003c/strong\u003e: Different mathematical functions convert the linear phase into different wave shapes.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eFrequency Control\u003c/strong\u003e: The phase increment determines pitch. Doubling the increment doubles the frequency (one octave up).\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: Frequency (higher = higher pitch)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: Waveform (0-63=sine, 64-127=square, 128-191=saw, 192-255=triangle)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Amplitude (higher = louder)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 4\u003c/strong\u003e: Fine tune (128 = center, adjust for precise tuning)\u003c/li\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Deep bass sine","params[0] = 50;   // Low frequency","params[1] = 32;   // Sine wave","params[2] = 200;  // Medium volume","params[3] = 128;  // Center tune","","// Classic square lead","params[0] = 150;  // Mid frequency","params[1] = 100;  // Square wave","params[2] = 180;  // Good volume","params[3] = 128;  // Center tune","","// Bright sawtooth","params[0] = 200;  // Higher frequency","params[1] = 160;  // Sawtooth wave","params[2] = 160;  // Moderate volume","params[3] = 128;  // Center tune","","// Warm triangle","params[0] = 120;  // Low-mid frequency","params[1] = 220;  // Triangle wave","params[2] = 200;  // Good volume","params[3] = 128;  // Center tune","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eUnderstanding Waveforms\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eHarmonic Content\u003c/strong\u003e: Different waveforms contain different combinations of harmonics (multiples of the fundamental frequency):\u003c/p\u003e","","\u003cli\u003e\u003cstrong\u003eSine\u003c/strong\u003e: Only fundamental frequency - pure, clean\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSquare\u003c/strong\u003e: Odd harmonics (1st, 3rd, 5th...) - hollow sound\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSawtooth\u003c/strong\u003e: All harmonics - bright, full sound\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTriangle\u003c/strong\u003e: Odd harmonics, weaker than square - smooth, warm\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eFrequency and Pitch\u003c/strong\u003e: Musical notes correspond to specific frequencies:\u003c/p\u003e","\u003cli\u003eA4 (concert pitch) = 440 Hz\u003c/li\u003e","\u003cli\u003eEach octave doubles the frequency\u003c/li\u003e","\u003cli\u003e12 semitones per octave\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003ePhase and Sync\u003c/strong\u003e: The phase accumulator ensures continuous, smooth oscillation without clicks or pops.\u003c/p\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eMultiple oscillators\u003c/strong\u003e: Run several oscillators at different frequencies for chords\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLFO usage\u003c/strong\u003e: Use very low frequencies (0.1-10 Hz) to modulate other parameters\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDetune\u003c/strong\u003e: Slightly offset multiple oscillators for thickness\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePulse width\u003c/strong\u003e: Modify square wave duty cycle for different tones\u003c/li\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003e[Basic Filter](basic-filter.md)\u003c/strong\u003e: Shape the harmonic content of oscillators\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Envelope Basics](envelope-basics.md)\u003c/strong\u003e: Control oscillator amplitude over time\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-20\" class=\"doc-section\"\u003e","\u003ch1\u003e20. Basic Filter\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/fundamentals/basic-filter.md\u003c/div\u003e","","\u003ch2\u003eBasic Filter\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eShape frequency content with simple digital filters\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eFilters selectively reduce or emphasize certain frequencies in audio signals. Use them to remove unwanted frequencies, shape tone character, or create classic synthesizer effects like resonant sweeps.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Parameters:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[0]\u003c/code\u003e: Cutoff frequency (0-255, controls filter frequency)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[1]\u003c/code\u003e: Resonance (0-255, emphasis at cutoff)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[2]\u003c/code\u003e: Filter type (0-255, low/high/band-pass)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[3]\u003c/code\u003e: Dry/wet mix (0-255, blend control)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eFilter Types:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eLow-pass\u003c/strong\u003e: Removes high frequencies (creates warmth)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eHigh-pass\u003c/strong\u003e: Removes low frequencies (adds clarity)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eBand-pass\u003c/strong\u003e: Isolates middle frequencies (telephone effect)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e Frequency response, cutoff frequency, resonance, filter state\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// Simple filter state","global int filter_state1 = 0    // First filter state variable","global int filter_state2 = 0    // Second filter state variable","","function process()","locals int cutoff, int resonance, int filter_type, int mix, int input, int filter_amount, int low_pass, int high_pass, int band_pass, int filtered, int output","{","    loop {","        // Read parameters","        cutoff = ((int)global params[0] \u0026gt;\u0026gt; 3) + 1;    // 1-32 filter strength","        resonance = ((int)global params[1] \u0026gt;\u0026gt; 3) + 1; // 1-32 resonance amount","        filter_type = ((int)global params[2] \u0026gt;\u0026gt; 6);   // 0-3 filter types","        mix = (int)global params[3];                  // 0-255 dry/wet mix","","        input = (int)global signal[0];","","        // Simple one-pole low-pass filter","        global filter_state1 = global filter_state1 + ((input - global filter_state1) \u0026gt;\u0026gt; cutoff);","        low_pass = global filter_state1;","","        // High-pass = input - low-pass","        high_pass = input - low_pass;","","        // Second filter stage for band-pass","        global filter_state2 = global filter_state2 + ((high_pass - global filter_state2) \u0026gt;\u0026gt; cutoff);","        band_pass = global filter_state2;","","        // Select filter type","        if (filter_type == 0) {","            filtered = low_pass;       // Low-pass filter","        } else if (filter_type == 1) {","            filtered = high_pass;      // High-pass filter","        } else if (filter_type == 2) {","            filtered = band_pass;      // Band-pass filter","        } else {","            filtered = input;          // No filtering","        }","","        // Add resonance (feedback)","        if (resonance \u0026gt; 1) {","            filter_amount = (filtered * resonance) \u0026gt;\u0026gt; 5;","            filtered = filtered + filter_amount;","","            // Prevent resonance from getting too loud","            if (filtered \u0026gt; 2047) filtered = 2047;","            if (filtered \u0026lt; -2047) filtered = -2047;","        }","","        // Mix dry and wet signals","        output = ((input * (255 - mix)) + (filtered * mix)) \u0026gt;\u0026gt; 8;","","        // Prevent clipping","        if (output \u0026gt; 2047) output = 2047;","        if (output \u0026lt; -2047) output = -2047;","","        // Output result","        global signal[0] = output;","        global signal[1] = output;","","        // Show activity on LEDs","        global displayLEDs[0] = cutoff \u0026lt;\u0026lt; 3;","        global displayLEDs[1] = resonance \u0026lt;\u0026lt; 3;","        global displayLEDs[2] = filter_type \u0026lt;\u0026lt; 6;","        global displayLEDs[3] = (mix \u0026gt;\u0026gt; 2);","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eOne-Pole Filter\u003c/strong\u003e: Uses a simple recursive filter that mixes the current input with the previous output.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eFilter Types\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eLow-pass\u003c/strong\u003e: Smooth changes by averaging with previous values\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eHigh-pass\u003c/strong\u003e: Subtracts the low-pass from the input to get high frequencies\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eBand-pass\u003c/strong\u003e: Applies low-pass filtering to the high-pass output\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCutoff Control\u003c/strong\u003e: Lower cutoff values = stronger filtering, higher values = more transparent.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eResonance\u003c/strong\u003e: Adds feedback to emphasize frequencies near the cutoff point.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: Cutoff frequency (lower = more filtering)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: Resonance (higher = more emphasis)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Filter type (0-63=low, 64-127=high, 128-191=band, 192-255=bypass)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 4\u003c/strong\u003e: Dry/wet mix (blend filtered with original)\u003c/li\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Warm low-pass","params[0] = 128;  // Medium cutoff","params[1] = 64;   // Light resonance","params[2] = 32;   // Low-pass","params[3] = 200;  // Mostly filtered","","// Bright high-pass","params[0] = 200;  // High cutoff","params[1] = 100;  // Medium resonance","params[2] = 100;  // High-pass","params[3] = 150;  // Balanced mix","","// Telephone effect","params[0] = 100;  // Low cutoff","params[1] = 150;  // Strong resonance","params[2] = 160;  // Band-pass","params[3] = 220;  // Mostly wet","","// Classic synth sweep","params[0] = 50;   // Start low","params[1] = 200;  // High resonance","params[2] = 32;   // Low-pass","params[3] = 255;  // Full wet","// (slowly increase params[0] for sweep effect)","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eUnderstanding Filters\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eFrequency Response\u003c/strong\u003e: Filters change the balance of frequencies in your signal. Low-pass filters make sounds warmer and darker, high-pass filters make them brighter and thinner.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eCutoff Frequency\u003c/strong\u003e: The point where the filter starts to take effect. Above this frequency (low-pass) or below this frequency (high-pass), the signal is gradually reduced.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eResonance\u003c/strong\u003e: Boosts frequencies right at the cutoff point, creating emphasis and character. High resonance can make filters \"ring\" or even self-oscillate.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eFilter Order\u003c/strong\u003e: This is a simple one-pole filter. Higher-order filters (two-pole, four-pole) have steeper slopes but require more computation.\u003c/p\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eStereo filtering\u003c/strong\u003e: Use different cutoff frequencies for left and right channels\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLFO modulation\u003c/strong\u003e: Slowly vary the cutoff frequency for automatic filter sweeps\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eEnvelope control\u003c/strong\u003e: Link filter cutoff to input level for dynamic filtering\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMultiple stages\u003c/strong\u003e: Chain two filters in series for steeper response\u003c/li\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003e[Basic Oscillator](basic-oscillator.md)\u003c/strong\u003e: LFO sources for filter modulation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Envelope Basics](envelope-basics.md)\u003c/strong\u003e: Dynamic filter control\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-21\" class=\"doc-section\"\u003e","\u003ch1\u003e21. Gain And Volume\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/fundamentals/gain-and-volume.md\u003c/div\u003e","","\u003ch2\u003eGain and Volume Control\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eEssential volume control for clean, professional audio output\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eGain and volume control scales audio levels with smooth parameter changes to prevent clicks. This is fundamental for all audio processing - controlling output levels and ensuring clean signal flow.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Parameters:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[0]\u003c/code\u003e: Master volume (0-255)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[1]\u003c/code\u003e: Stereo balance (0-255, 128=center)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[2]\u003c/code\u003e: Smoothing speed (0-255)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCore Techniques:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eVolume scaling\u003c/strong\u003e: Multiply samples by gain factor\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eParameter smoothing\u003c/strong\u003e: Gradual changes prevent clicks\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eStereo balance\u003c/strong\u003e: Independent left/right control\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLED feedback\u003c/strong\u003e: Visual level indication\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e Linear gain, parameter smoothing, stereo balance, level indication\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// Volume control state","global int smooth_volume = 1024   // Current volume level","global int smooth_balance = 128   // Current balance setting","global int left_gain = 1024       // Left channel gain","global int right_gain = 1024      // Right channel gain","","function process()","locals int volume_target, int balance_target, int smoothing_speed, int left_sample, int right_sample, int output_left, int output_right","{","    loop {","        // Read parameters","        volume_target = ((int)global params[0] \u0026lt;\u0026lt; 3);        // 0-255  0-2040","        balance_target = (int)global params[1];              // 0-255 balance","        smoothing_speed = ((int)global params[2] \u0026gt;\u0026gt; 4) + 1;  // 1-16 smoothing rate","","        // Smooth volume changes to prevent clicks","        global smooth_volume = global smooth_volume +","            ((volume_target - global smooth_volume) \u0026gt;\u0026gt; smoothing_speed);","","        // Smooth balance changes","        global smooth_balance = global smooth_balance +","            ((balance_target - global smooth_balance) \u0026gt;\u0026gt; smoothing_speed);","","        // Calculate stereo balance gains","        if (global smooth_balance \u0026lt; 128) {","            // Balance towards left","            global left_gain = global smooth_volume;","            global right_gain = (global smooth_volume * global smooth_balance) \u0026gt;\u0026gt; 7;","        } else {","            // Balance towards right","            global left_gain = (global smooth_volume * (255 - global smooth_balance)) \u0026gt;\u0026gt; 7;","            global right_gain = global smooth_volume;","        }","","        // Read input samples","        left_sample = (int)global signal[0];","        right_sample = (int)global signal[1];","","        // Apply gain to each channel","        output_left = (left_sample * global left_gain) \u0026gt;\u0026gt; 11;","        output_right = (right_sample * global right_gain) \u0026gt;\u0026gt; 11;","","        // Prevent clipping","        if (output_left \u0026gt; 2047) output_left = 2047;","        if (output_left \u0026lt; -2047) output_left = -2047;","        if (output_right \u0026gt; 2047) output_right = 2047;","        if (output_right \u0026lt; -2047) output_right = -2047;","","        // Output processed signals","        global signal[0] = output_left;","        global signal[1] = output_right;","","        // Display volume and balance on LEDs","        global displayLEDs[0] = global smooth_volume \u0026gt;\u0026gt; 3;    // Volume level","        global displayLEDs[1] = global smooth_balance;        // Balance position","        global displayLEDs[2] = global left_gain \u0026gt;\u0026gt; 3;       // Left gain","        global displayLEDs[3] = global right_gain \u0026gt;\u0026gt; 3;      // Right gain","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eVolume Scaling\u003c/strong\u003e: Multiplies audio samples by gain factor. Using right-shift (\u0026gt;\u0026gt;11) instead of division for efficiency.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Smoothing\u003c/strong\u003e: Gradual changes prevent clicks when adjusting controls. Higher smoothing values = faster response.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eStereo Balance\u003c/strong\u003e: Left/right channels get independent gain levels based on balance position. Center (128) = equal levels.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eLED Display\u003c/strong\u003e: Shows current volume, balance position, and individual channel gains for visual feedback.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: Master volume (0-255  0-2040 range)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: Stereo balance (0-255, 128=center)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Smoothing speed (0-255  1-16 rate)\u003c/li\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Unity gain, centered","params[0] = 128;  // Half volume","params[1] = 128;  // Center balance","params[2] = 64;   // Medium smoothing","","// Left-heavy mix","params[0] = 200;  // Loud volume","params[1] = 80;   // Left balance","params[2] = 32;   // Slow smoothing","","// Quick response","params[0] = 100;  // Moderate volume","params[1] = 150;  // Right balance","params[2] = 200;  // Fast smoothing","","// Background level","params[0] = 40;   // Quiet volume","params[1] = 128;  // Center balance","params[2] = 16;   // Very slow smoothing","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eUnderstanding Volume Control\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eLinear vs Exponential\u003c/strong\u003e: Linear gain feels technical and precise. For musical response, try squaring the parameter value.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eSmoothing Trade-offs\u003c/strong\u003e: Fast smoothing responds quickly but may sound rough. Slow smoothing is smooth but sluggish.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eBalance Laws\u003c/strong\u003e: Simple balance reduces one channel as you move away from center. Equal-power balance maintains constant loudness.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eGain Staging\u003c/strong\u003e: Keep levels reasonable to prevent clipping. Use limiting or compression for louder signals.\u003c/p\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eExponential volume\u003c/strong\u003e: Square parameter values for more natural response\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMute function\u003c/strong\u003e: Add instant mute with dedicated parameter\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMono sum\u003c/strong\u003e: Add mono output mode for compatibility\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eGain reduction display\u003c/strong\u003e: Show how much gain is being applied\u003c/li\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003e[Parameter Mapping](parameter-mapping.md)\u003c/strong\u003e: Advanced parameter curve shaping\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[dB Gain Control](db-gain-control.md)\u003c/strong\u003e: Professional decibel-based volume\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Output Limiting](output-limiting.md)\u003c/strong\u003e: Prevent clipping with limiting\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-22\" class=\"doc-section\"\u003e","\u003ch1\u003e22. Memory Basics\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/fundamentals/memory-basics.md\u003c/div\u003e","","\u003ch2\u003eMemory Basics\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eEssential memory management techniques for Permut8 firmware development\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eMemory management is fundamental for reliable firmware development. This covers efficient data organization, circular buffers for delays, lookup tables for fast math, and safe array access patterns.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Memory Areas:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[]\u003c/code\u003e: Real-time controls (0-255, 8 parameters)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003esignal[]\u003c/code\u003e: Audio I/O (-2047 to 2047, stereo)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eglobal arrays\u003c/code\u003e: Custom data storage\u003c/li\u003e","\u003cli\u003e\u003ccode\u003edisplayLEDs[]\u003c/code\u003e: Visual feedback (0-255, 4 LEDs)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCore Techniques:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eCircular buffers\u003c/strong\u003e: Wrap-around indexing for delays\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLookup tables\u003c/strong\u003e: Pre-calculated values for fast math\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eBounds checking\u003c/strong\u003e: Prevent crashes from array overruns\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eState management\u003c/strong\u003e: Track processing state over time\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e Static allocation, circular indexing, bounds safety, memory efficiency\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// Memory management demonstration","global array delay_buffer[128]  // Circular delay buffer","global array sine_table[64]     // Sine wave lookup table","global int write_pos = 0        // Current write position","global int state_counter = 0    // Processing state tracker","","function process()","locals int delay_time, int read_pos, int feedback, int input_sample, int delayed_sample, int output_sample, int oscillator_phase, int sine_value, int wet_amount, int dry_amount, int feedback_signal","{","    loop {","        // Read parameters safely","        delay_time = ((int)global params[0] \u0026gt;\u0026gt; 1) + 1;    // 1-128 delay range","        feedback = (int)global params[1];                 // 0-255 feedback","        wet_amount = (int)global params[2];               // 0-255 wet level","","        // Read current input sample","        input_sample = (int)global signal[0];","","        // Calculate read position with wraparound","        read_pos = global write_pos - delay_time;","        if (read_pos \u0026lt; 0) read_pos = read_pos + 128;     // Handle negative wrap","","        // Read delayed sample from circular buffer","        delayed_sample = (int)global delay_buffer[read_pos];","","        // Apply feedback to delayed signal (careful with gain)","        delayed_sample = (delayed_sample * feedback) \u0026gt;\u0026gt; 8;","","        // Create feedback signal to write to buffer","        feedback_signal = input_sample + delayed_sample;","","        // Prevent feedback buildup with limiting","        if (feedback_signal \u0026gt; 2047) feedback_signal = 2047;","        if (feedback_signal \u0026lt; -2047) feedback_signal = -2047;","","        // Write to delay buffer with bounds checking","        global delay_buffer[global write_pos] = feedback_signal;","","        // Advance write position with circular wraparound","        global write_pos = global write_pos + 1;","        if (global write_pos \u0026gt;= 128) global write_pos = 0;","","        // Generate sine wave using lookup table","        oscillator_phase = (global state_counter \u0026gt;\u0026gt; 4) \u0026amp; 63;  // 0-63 table index","        sine_value = (int)global sine_table[oscillator_phase];","","        // Mix dry and wet signals","        dry_amount = 255 - wet_amount;","        output_sample = ((input_sample * dry_amount) + (delayed_sample * wet_amount)) \u0026gt;\u0026gt; 8;","","        // Apply sine wave modulation for vibrato effect","        output_sample = output_sample + ((sine_value * 200) \u0026gt;\u0026gt; 11);","","        // Prevent clipping","        if (output_sample \u0026gt; 2047) output_sample = 2047;","        if (output_sample \u0026lt; -2047) output_sample = -2047;","","        // Output processed signal","        global signal[0] = output_sample;","        global signal[1] = output_sample;","","        // Update state counter for oscillator","        global state_counter = global state_counter + 1;","        if (global state_counter \u0026gt;= 4096) global state_counter = 0;","","        // Display memory usage on LEDs","        global displayLEDs[0] = global write_pos \u0026lt;\u0026lt; 1;        // Buffer position","        global displayLEDs[1] = delay_time \u0026lt;\u0026lt; 1;             // Delay time","        global displayLEDs[2] = feedback;                     // Feedback level","        global displayLEDs[3] = oscillator_phase \u0026lt;\u0026lt; 2;       // Oscillator phase","","        yield();","    }","}","","// Initialize lookup table with sine wave","function init_sine_table()","locals int i, int angle, int sine_sample","{","    i = 0;","    loop {","        if (i \u0026gt;= 64) break;","","        // Calculate sine value for this table entry","        // Simple approximation: triangle wave approximation","        if (i \u0026lt; 16) {","            sine_sample = i \u0026lt;\u0026lt; 7;           // Rising 0 to 2047","        } else if (i \u0026lt; 32) {","            sine_sample = 2047 - ((i - 16) \u0026lt;\u0026lt; 7);  // Falling 2047 to 0","        } else if (i \u0026lt; 48) {","            sine_sample = -((i - 32) \u0026lt;\u0026lt; 7);        // Falling 0 to -2047","        } else {","            sine_sample = -2047 + ((i - 48) \u0026lt;\u0026lt; 7); // Rising -2047 to 0","        }","","        // Store in lookup table","        global sine_table[i] = sine_sample;","        i = i + 1;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eCircular Buffers\u003c/strong\u003e: Use modulo arithmetic or manual wraparound to create endless loops. Essential for delays and oscillators.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eLookup Tables\u003c/strong\u003e: Pre-calculate expensive math (sine, logarithms) and store in arrays for fast access during audio processing.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eBounds Checking\u003c/strong\u003e: Always validate array indices before access. Use clamping or modulo to stay within safe ranges.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eState Management\u003c/strong\u003e: Track processing state over time using counters and flags. Essential for oscillators and sequencers.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: Delay time (1-128 samples)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: Feedback amount (0-255)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Wet/dry mix (0-255)\u003c/li\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Short delay with feedback","params[0] = 32;   // Short delay time","params[1] = 128;  // Medium feedback","params[2] = 100;  // Light wet mix","","// Long delay, clean","params[0] = 200;  // Long delay time","params[1] = 64;   // Light feedback","params[2] = 150;  // More wet signal","","// Vibrato effect","params[0] = 8;    // Very short delay","params[1] = 200;  // High feedback","params[2] = 80;   // Subtle wet mix","","// Echo chamber","params[0] = 255;  // Maximum delay","params[1] = 180;  // Strong feedback","params[2] = 120;  // Balanced mix","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eUnderstanding Memory Management\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eStatic Allocation\u003c/strong\u003e: All arrays declared at compile time. No malloc/free - everything is pre-allocated.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eCircular Indexing\u003c/strong\u003e: Essential pattern for audio processing. Write position advances continuously, read position follows at a distance.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eTable Lookup\u003c/strong\u003e: Trade memory for speed. Store pre-calculated values instead of computing during audio processing.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMemory Safety\u003c/strong\u003e: Always check bounds before array access. Use clamping or modulo arithmetic to stay safe.\u003c/p\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eVariable delay\u003c/strong\u003e: Smoothly change delay time without clicks\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eStereo delays\u003c/strong\u003e: Independent left/right delay times\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMulti-tap delays\u003c/strong\u003e: Multiple read positions from same buffer\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eWavetable oscillator\u003c/strong\u003e: Store multiple waveforms in lookup tables\u003c/li\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003e[Circular Buffer Guide](circular-buffer-guide.md)\u003c/strong\u003e: Advanced circular buffer techniques\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Basic Oscillator](basic-oscillator.md)\u003c/strong\u003e: Wavetable synthesis with lookup tables\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Parameter Mapping](parameter-mapping.md)\u003c/strong\u003e: Efficient parameter scaling\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-23\" class=\"doc-section\"\u003e","\u003ch1\u003e23. Parameter Mapping\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/fundamentals/parameter-mapping.md\u003c/div\u003e","","\u003ch2\u003eParameter Mapping\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eConvert knob values into useful parameter ranges\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eParameter mapping transforms raw knob values (0-255) into meaningful ranges for your audio algorithms. Good mapping makes knobs feel natural and musical instead of awkward or unusable.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Parameters:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[0-7]\u003c/code\u003e: Raw knob values (0-255)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003etarget_range\u003c/code\u003e: Your algorithm's useful range (often 0-2047)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003esmoothing\u003c/code\u003e: Prevents parameter clicks during changes\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCommon Mappings:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eMix controls\u003c/strong\u003e: Linear scaling (equal steps feel natural)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFrequency\u003c/strong\u003e: Logarithmic scaling (matches musical perception)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eGain\u003c/strong\u003e: Square-law or exponential scaling\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTime\u003c/strong\u003e: Linear for short delays, logarithmic for long delays\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e Range scaling, parameter smoothing, curve shaping, musical response\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// Parameter smoothing state","global int smooth_cutoff = 1000 // Current cutoff value","global int smooth_resonance = 512 // Current resonance value","global int smooth_mix = 1024    // Current mix value","","function process()","locals int cutoff_target, int resonance_target, int mix_target, int filtered_signal, int dry_signal, int wet_signal, int output","{","    loop {","        // Linear mapping: Mix control (0-2047 range)","        mix_target = ((int)global params[0] \u0026lt;\u0026lt; 3);  // 0-255  0-2040","","        // Exponential mapping: Cutoff frequency (200-2000 range)","        cutoff_target = 200 + (((int)global params[1] * (int)global params[1]) \u0026gt;\u0026gt; 4); // Quadratic curve","        if (cutoff_target \u0026gt; 2000) cutoff_target = 2000;","","        // Linear with offset: Resonance (256-1792 range for stable filter)","        resonance_target = 256 + (((int)global params[2] * 1536) \u0026gt;\u0026gt; 8);","","        // Smooth parameter changes to prevent clicks","        global smooth_cutoff = global smooth_cutoff + ((cutoff_target - global smooth_cutoff) \u0026gt;\u0026gt; 4);","        global smooth_resonance = global smooth_resonance + ((resonance_target - global smooth_resonance) \u0026gt;\u0026gt; 4);","        global smooth_mix = global smooth_mix + ((mix_target - global smooth_mix) \u0026gt;\u0026gt; 4);","","        // Simple one-pole filter example using mapped parameters","        dry_signal = (int)global signal[0];","","        // Basic low-pass filter calculation","        filtered_signal = global smooth_cutoff +","            (((dry_signal - global smooth_cutoff) * global smooth_resonance) \u0026gt;\u0026gt; 11);","","        // Limit filter output","        if (filtered_signal \u0026gt; 2047) filtered_signal = 2047;","        if (filtered_signal \u0026lt; -2047) filtered_signal = -2047;","","        // Mix dry and filtered signals","        wet_signal = (filtered_signal * global smooth_mix) \u0026gt;\u0026gt; 11;","        output = dry_signal + wet_signal;","","        // Prevent clipping","        if (output \u0026gt; 2047) output = 2047;","        if (output \u0026lt; -2047) output = -2047;","","        // Output mixed signal","        global signal[0] = output;","        global signal[1] = output;","","        // Show parameter values on LEDs","        global displayLEDs[0] = global smooth_cutoff \u0026gt;\u0026gt; 3; // Show cutoff","        global displayLEDs[1] = global smooth_resonance \u0026gt;\u0026gt; 3; // Show resonance","        global displayLEDs[2] = global smooth_mix \u0026gt;\u0026gt; 3;   // Show mix level","        global displayLEDs[3] = (int)global params[3];    // Show raw param 4","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eLinear Mapping\u003c/strong\u003e: Simplest scaling where equal knob movements create equal parameter changes. Good for mix controls and balance.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eExponential Mapping\u003c/strong\u003e: Using squared values creates more natural feeling controls for frequency and gain parameters.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Smoothing\u003c/strong\u003e: Prevents clicks and zipper noise by gradually changing values instead of jumping immediately.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eRange Mapping\u003c/strong\u003e: Converting 0-255 knob values into useful ranges like 200-2000 for filter cutoff frequencies.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: Mix level (0-255  0-2040 linear mapping)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: Cutoff frequency (0-255  200-2000 exponential mapping)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Resonance (0-255  256-1792 linear with offset)\u003c/li\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Smooth mixing","params[0] = 128;  // 50% mix","params[1] = 100;  // Low cutoff","params[2] = 80;   // Light resonance","","// Bright sound","params[0] = 200;  // Heavy wet signal","params[1] = 200;  // High cutoff","params[2] = 60;   // Low resonance","","// Dark sound","params[0] = 80;   // Light wet signal","params[1] = 50;   // Very low cutoff","params[2] = 150;  // High resonance","","// Extreme effect","params[0] = 255;  // Full wet","params[1] = 255;  // Maximum cutoff","params[2] = 200;  // Strong resonance","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eUnderstanding Parameter Curves\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eLinear Response\u003c/strong\u003e: Equal knob steps = equal parameter steps. Good for mix controls and panning.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eExponential Response\u003c/strong\u003e: Using squared values gives more control at low values, faster changes at high values. Good for frequencies and gain.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eSmoothing\u003c/strong\u003e: Gradual parameter changes prevent audio clicks. Faster smoothing for quick response, slower for smooth changes.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eRange Mapping\u003c/strong\u003e: Converting knob ranges (0-255) to useful parameter ranges (like 200-2000 Hz) with proper scaling.\u003c/p\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eCustom curves\u003c/strong\u003e: Create lookup tables for specific parameter responses\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMulti-parameter control\u003c/strong\u003e: Control several parameters with one knob\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eQuantized mapping\u003c/strong\u003e: Snap parameters to musical steps (notes, rhythms)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLinked parameters\u003c/strong\u003e: Make parameters automatically adjust based on others\u003c/li\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003e[Basic Filter](basic-filter.md)\u003c/strong\u003e: Apply parameter mapping to filter controls\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Envelope Basics](envelope-basics.md)\u003c/strong\u003e: Map time parameters naturally\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-24\" class=\"doc-section\"\u003e","\u003ch1\u003e24. Circular Buffer Guide\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/fundamentals/circular-buffer-guide.md\u003c/div\u003e","","\u003ch2\u003eCircular Buffer Guide\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eEssential delay line techniques for audio effects\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eCircular buffers enable delay-based audio effects like echo, reverb, and chorus. They use fixed-size memory efficiently by cycling through buffer positions, allowing you to read audio from the past while continuously writing new samples.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Parameters:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[0]\u003c/code\u003e: Delay time (0-255, controls echo distance)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[1]\u003c/code\u003e: Feedback amount (0-255, controls echo repetitions)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[2]\u003c/code\u003e: Wet/dry mix (0-255, dry to wet balance)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCore Concept:\u003c/strong\u003e Write new samples while reading older samples from different positions in the same buffer.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e Fixed memory, position wraparound, delay calculation, feedback control\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// Circular buffer for delay","global array delay_buffer[128]  // Fixed delay buffer","global int write_pos = 0        // Current write position","","function process()","locals int delay_time, int feedback, int wet_mix, int read_pos, int delayed_sample, int feedback_sample, int dry_signal, int wet_signal, int output","{","    loop {","        // Read parameters","        delay_time = ((int)global params[0] \u0026gt;\u0026gt; 1) + 1;  // 1-128 delay samples","        feedback = ((int)global params[1] \u0026gt;\u0026gt; 1);        // 0-127 feedback amount","        wet_mix = ((int)global params[2]);              // 0-255 wet/dry balance","","        // Calculate read position (look back in time)","        read_pos = global write_pos - delay_time;","        if (read_pos \u0026lt; 0) read_pos = read_pos + 128;    // Wrap negative positions","","        // Read delayed sample from buffer","        delayed_sample = (int)global delay_buffer[read_pos];","","        // Create feedback signal (delayed signal fed back into input)","        feedback_sample = (delayed_sample * feedback) \u0026gt;\u0026gt; 7;  // Scale feedback","","        // Prevent feedback explosion","        if (feedback_sample \u0026gt; 2047) feedback_sample = 2047;","        if (feedback_sample \u0026lt; -2047) feedback_sample = -2047;","","        // Mix input with feedback and write to buffer","        global delay_buffer[global write_pos] = (int)global signal[0] + feedback_sample;","","        // Advance write position with wraparound","        global write_pos = global write_pos + 1;","        if (global write_pos \u0026gt;= 128) global write_pos = 0;","","        // Mix dry and wet signals","        dry_signal = ((int)global signal[0] * (255 - wet_mix)) \u0026gt;\u0026gt; 8;","        wet_signal = (delayed_sample * wet_mix) \u0026gt;\u0026gt; 8;","        output = dry_signal + wet_signal;","","        // Prevent clipping","        if (output \u0026gt; 2047) output = 2047;","        if (output \u0026lt; -2047) output = -2047;","","        // Output result","        global signal[0] = output;","        global signal[1] = output;","","        // Show activity on LEDs","        global displayLEDs[0] = delay_time \u0026lt;\u0026lt; 1;      // Show delay time","        global displayLEDs[1] = feedback \u0026lt;\u0026lt; 1;       // Show feedback amount","        global displayLEDs[2] = wet_mix;             // Show wet/dry mix","        global displayLEDs[3] = global write_pos \u0026lt;\u0026lt; 1; // Show buffer position","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eCircular Buffer Concept\u003c/strong\u003e: A fixed-size array that cycles through positions. When you reach the end, you wrap back to the beginning, creating an infinite loop within limited memory.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eWrite Position\u003c/strong\u003e: Always advancing forward, marking where new audio gets stored.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eRead Position\u003c/strong\u003e: Calculated by looking backward from the write position by the delay amount.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eWraparound Math\u003c/strong\u003e: When positions go negative, add the buffer size to wrap correctly.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: Delay time (higher = longer echo)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: Feedback amount (higher = more repetitions)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Wet/dry mix (0 = dry only, 255 = wet only)\u003c/li\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Short slap-back delay","params[0] = 30;   // Short delay","params[1] = 80;   // Medium feedback","params[2] = 100;  // Mix with dry signal","","// Long echo","params[0] = 200;  // Long delay","params[1] = 120;  // Strong feedback","params[2] = 150;  // More wet signal","","// Subtle ambience","params[0] = 50;   // Medium delay","params[1] = 40;   // Light feedback","params[2] = 60;   // Mostly dry","","// Self-oscillation (careful!)","params[0] = 100;  // Medium delay","params[1] = 127;  // Maximum feedback","params[2] = 200;  // Heavy wet mix","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eUnderstanding Delay Effects\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eDelay Time\u003c/strong\u003e: Controls the gap between original and echoed sound. Shorter delays (1-50ms) create thickness and space. Longer delays (100ms+) create distinct echoes.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eFeedback\u003c/strong\u003e: Creates repeating echoes by feeding the delayed signal back into the input. Too much feedback causes runaway oscillation.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eWet/Dry Mix\u003c/strong\u003e: Balances the original (dry) signal with the delayed (wet) signal. Different mixes create different spatial effects.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eBuffer Management\u003c/strong\u003e: Fixed memory size limits maximum delay time. Larger buffers = longer possible delays but use more memory.\u003c/p\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eStereo delay\u003c/strong\u003e: Use separate buffers for left/right channels with different delay times\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFiltered feedback\u003c/strong\u003e: Add low-pass filtering to the feedback path for warmer repeats\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eModulated delay\u003c/strong\u003e: Vary delay time slowly for chorus/vibrato effects\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMulti-tap\u003c/strong\u003e: Read from multiple positions for complex rhythmic patterns\u003c/li\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003e[Make a Delay](../audio-effects/make-a-delay.md)\u003c/strong\u003e: Complete delay effect implementation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Basic Filter](basic-filter.md)\u003c/strong\u003e: Add filtering to feedback paths\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-25\" class=\"doc-section\"\u003e","\u003ch1\u003e25. Envelope Basics\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/fundamentals/envelope-basics.md\u003c/div\u003e","","\u003ch2\u003eEnvelope Basics\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eControl amplitude over time with ADSR envelopes\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eAn envelope controls how a parameter changes over time, most commonly the volume of a sound. It creates the shape of a sound from the moment it starts until it completely fades away, making the difference between percussive plucks and sustained pads.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Parameters:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[0]\u003c/code\u003e: Attack time (0-255, how fast sound reaches full volume)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[1]\u003c/code\u003e: Decay time (0-255, how fast it drops to sustain level)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[2]\u003c/code\u003e: Sustain level (0-255, ongoing level while held)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[3]\u003c/code\u003e: Release time (0-255, how fast it fades when released)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eADSR Stages:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eAttack\u003c/strong\u003e: Rise to peak volume\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDecay\u003c/strong\u003e: Drop to sustain level\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSustain\u003c/strong\u003e: Maintain level while note held\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eRelease\u003c/strong\u003e: Fade to silence when note released\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e Time-based control, amplitude shaping, musical expression, parameter automation\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// Simple ADSR envelope state","global int envelope_level = 0   // Current envelope level (0-2047)","global int envelope_stage = 0   // Current stage (0=off, 1=attack, 2=decay, 3=sustain, 4=release)","global int stage_counter = 0    // Counter for current stage timing","global int gate_trigger = 0     // Gate input (0=off, 1=on)","","function process()","locals int attack, int decay, int sustain, int release, int stage_time, int target_level, int output","{","    loop {","        // Read parameters","        attack = ((int)global params[0] \u0026gt;\u0026gt; 3) + 1;     // 1-32 attack speed","        decay = ((int)global params[1] \u0026gt;\u0026gt; 3) + 1;      // 1-32 decay speed","        sustain = ((int)global params[2] \u0026lt;\u0026lt; 3);        // 0-2040 sustain level","        release = ((int)global params[3] \u0026gt;\u0026gt; 3) + 1;    // 1-32 release speed","","        // Simple gate trigger (could be connected to note input)","        // For demo: use knob position to trigger envelope","        if ((int)global params[4] \u0026gt; 128 \u0026amp;\u0026amp; global gate_trigger == 0) {","            global gate_trigger = 1;","            global envelope_stage = 1;  // Start attack","            global stage_counter = 0;","        } else if ((int)global params[4] \u0026lt;= 128 \u0026amp;\u0026amp; global gate_trigger == 1) {","            global gate_trigger = 0;","            global envelope_stage = 4;  // Start release","            global stage_counter = 0;","        }","","        // Process envelope stages","        if (global envelope_stage == 1) {","            // Attack stage - rise to peak","            target_level = 2047;","            global envelope_level = global envelope_level + ((target_level - global envelope_level) \u0026gt;\u0026gt; attack);","","            // Check if attack is complete","            if (global envelope_level \u0026gt; 1900) {","                global envelope_stage = 2;  // Move to decay","                global stage_counter = 0;","            }","","        } else if (global envelope_stage == 2) {","            // Decay stage - drop to sustain level","            global envelope_level = global envelope_level + ((sustain - global envelope_level) \u0026gt;\u0026gt; decay);","","            // Check if decay is complete","            if (global envelope_level \u0026lt;= (sustain + 50) \u0026amp;\u0026amp; global envelope_level \u0026gt;= (sustain - 50)) {","                global envelope_stage = 3;  // Move to sustain","            }","","        } else if (global envelope_stage == 3) {","            // Sustain stage - maintain level","            global envelope_level = sustain;","","        } else if (global envelope_stage == 4) {","            // Release stage - fade to silence","            global envelope_level = global envelope_level + ((0 - global envelope_level) \u0026gt;\u0026gt; release);","","            // Check if release is complete","            if (global envelope_level \u0026lt; 10) {","                global envelope_stage = 0;  // Back to idle","                global envelope_level = 0;","            }","","        } else {","            // Idle stage","            global envelope_level = 0;","        }","","        // Apply envelope to input signal","        output = ((int)global signal[0] * global envelope_level) \u0026gt;\u0026gt; 11;","","        // Prevent clipping","        if (output \u0026gt; 2047) output = 2047;","        if (output \u0026lt; -2047) output = -2047;","","        // Output result","        global signal[0] = output;","        global signal[1] = output;","","        // Show envelope activity on LEDs","        global displayLEDs[0] = global envelope_level \u0026gt;\u0026gt; 3;  // Show envelope level","        global displayLEDs[1] = global envelope_stage \u0026lt;\u0026lt; 6;  // Show current stage","        global displayLEDs[2] = attack \u0026lt;\u0026lt; 3;                 // Show attack setting","        global displayLEDs[3] = sustain \u0026gt;\u0026gt; 3;               // Show sustain level","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEnvelope Stages\u003c/strong\u003e: The envelope moves through four stages - attack, decay, sustain, and release - each with different target levels and timing.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eStage Transitions\u003c/strong\u003e: Each stage automatically moves to the next when its goal is reached or conditions are met.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eGate Control\u003c/strong\u003e: A gate signal (note on/off) triggers the attack or release phases.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eLevel Interpolation\u003c/strong\u003e: Each stage smoothly moves toward its target level using simple low-pass filtering.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: Attack time (lower = faster attack)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: Decay time (lower = faster decay)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Sustain level (higher = louder sustain)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 4\u003c/strong\u003e: Release time (lower = faster release)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 5\u003c/strong\u003e: Gate trigger (above 128 = note on, below 128 = note off)\u003c/li\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Piano envelope","params[0] = 8;    // Fast attack","params[1] = 64;   // Medium decay","params[2] = 100;  // Low sustain","params[3] = 64;   // Medium release","","// Pad envelope","params[0] = 200;  // Slow attack","params[1] = 150;  // Slow decay","params[2] = 200;  // High sustain","params[3] = 200;  // Long release","","// Percussion envelope","params[0] = 8;    // Very fast attack","params[1] = 32;   // Fast decay","params[2] = 0;    // No sustain","params[3] = 32;   // Fast release","","// Bass envelope","params[0] = 16;   // Quick attack","params[1] = 32;   // Short decay","params[2] = 220;  // High sustain","params[3] = 32;   // Short release","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eUnderstanding ADSR\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eAttack Phase\u003c/strong\u003e: Determines how percussive or smooth the beginning of a sound is. Fast attack = sharp, immediate sound. Slow attack = gradual fade-in.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eDecay Phase\u003c/strong\u003e: Controls how quickly the sound drops from its peak to the sustain level. Creates the initial \"bloom\" of a sound.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eSustain Phase\u003c/strong\u003e: The ongoing level while a note is held. Piano notes naturally decay, but synthesizers can sustain indefinitely.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eRelease Phase\u003c/strong\u003e: How the sound fades away after the note is released. Short release = abrupt cutoff. Long release = gradual fade.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMusical Applications\u003c/strong\u003e: Different instruments have characteristic envelope shapes that define their character and musical behavior.\u003c/p\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eEnvelope modulation\u003c/strong\u003e: Use the envelope to control filter cutoff or oscillator pitch\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMultiple envelopes\u003c/strong\u003e: Create separate envelopes for different parameters\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eVelocity sensitivity\u003c/strong\u003e: Scale envelope levels based on note velocity\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCurved envelopes\u003c/strong\u003e: Replace linear interpolation with exponential curves\u003c/li\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003e[Basic Oscillator](basic-oscillator.md)\u003c/strong\u003e: Generate tones to shape with envelopes\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Basic Filter](basic-filter.md)\u003c/strong\u003e: Use envelopes to control filter parameters\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-26\" class=\"doc-section\"\u003e","\u003ch1\u003e26. Stereo Processing\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/fundamentals/stereo-processing.md\u003c/div\u003e","","\u003ch2\u003eStereo Processing\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eControl stereo field width and channel relationships\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eStereo processing manipulates the relationship between left and right audio channels to create spatial effects, control stereo width, and position sounds in the stereo field.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Parameters:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[0]\u003c/code\u003e: Panning position (0-255, left to right)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[1]\u003c/code\u003e: Stereo width (0-255, mono to wide)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[2]\u003c/code\u003e: Channel routing (0-255, normal to swapped)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCore Techniques:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003ePanning\u003c/strong\u003e: Position mono signals in stereo field\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eWidth control\u003c/strong\u003e: Adjust stereo image from mono to wide\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMid-side processing\u003c/strong\u003e: Separate center from sides\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eChannel routing\u003c/strong\u003e: Swap or mix left/right channels\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e Spatial positioning, stereo field, mid-side encoding, channel relationships\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","function process()","locals int pan_position, int stereo_width, int channel_mode, int left_input, int right_input, int mid_signal, int side_signal, int left_gain, int right_gain, int mono_input, int output_left, int output_right, int panned_left, int panned_right, int width_left, int width_right","{","    loop {","        // Read parameters","        pan_position = (int)global params[0];    // 0-255 panning","        stereo_width = (int)global params[1];    // 0-255 width control","        channel_mode = (int)global params[2];    // 0-255 routing mode","","        // Store input signals","        left_input = (int)global signal[0];","        right_input = (int)global signal[1];","","        // Create mono signal from stereo input","        mono_input = (left_input + right_input) \u0026gt;\u0026gt; 1;","","        // Calculate mid and side signals","        mid_signal = (left_input + right_input) \u0026gt;\u0026gt; 1;      // Center information","        side_signal = (left_input - right_input) \u0026gt;\u0026gt; 1;    // Stereo information","","        // Apply stereo width control to side signal","        side_signal = (side_signal * stereo_width) \u0026gt;\u0026gt; 8;","","        // Calculate panning gains (simple linear panning)","        left_gain = 255 - pan_position;   // More left as pan decreases","        right_gain = pan_position;        // More right as pan increases","","        // Apply panning to mono signal","        panned_left = (mono_input * left_gain) \u0026gt;\u0026gt; 8;","        panned_right = (mono_input * right_gain) \u0026gt;\u0026gt; 8;","","        // Reconstruct stereo from mid/side with width control","        width_left = mid_signal + side_signal;","        width_right = mid_signal - side_signal;","","        // Select processing mode based on channel_mode parameter","        if (channel_mode \u0026lt; 64) {","            // Mode 0: Panning mode (mono input positioned in stereo field)","            output_left = panned_left;","            output_right = panned_right;","","        } else if (channel_mode \u0026lt; 128) {","            // Mode 1: Width control mode (adjust stereo width)","            output_left = width_left;","            output_right = width_right;","","        } else if (channel_mode \u0026lt; 192) {","            // Mode 2: Channel swap mode","            output_left = right_input;","            output_right = left_input;","","        } else {","            // Mode 3: Mid-side monitor mode (mid on left, side on right)","            output_left = mid_signal;","            output_right = side_signal;","        }","","        // Prevent clipping","        if (output_left \u0026gt; 2047) output_left = 2047;","        if (output_left \u0026lt; -2047) output_left = -2047;","        if (output_right \u0026gt; 2047) output_right = 2047;","        if (output_right \u0026lt; -2047) output_right = -2047;","","        // Output processed signals","        global signal[0] = output_left;","        global signal[1] = output_right;","","        // Show processing activity on LEDs","        global displayLEDs[0] = pan_position;                    // Show pan position","        global displayLEDs[1] = stereo_width;                   // Show width setting","        global displayLEDs[2] = channel_mode \u0026gt;\u0026gt; 2;              // Show current mode","","        // Show stereo content (absolute value without abs function)","        if (side_signal \u0026gt;= 0) {","            global displayLEDs[3] = side_signal \u0026gt;\u0026gt; 3;","        } else {","            global displayLEDs[3] = (-side_signal) \u0026gt;\u0026gt; 3;","        }","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eMid-Side Processing\u003c/strong\u003e: Separating audio into Mid (center) and Side (stereo) components allows independent control. Mid = (L+R)/2 contains vocals and center-panned elements. Side = (L-R)/2 contains stereo width and spatial information.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003ePanning Laws\u003c/strong\u003e: Linear panning simply adjusts left/right levels, but can create a \"hole in the middle\" effect. Equal-power panning maintains constant loudness as sounds move across the stereo field.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eWidth Control\u003c/strong\u003e: Adjusting the Side signal controls stereo width. Width=0 creates mono, Width=1 preserves original stereo, Width\u0026gt;1 creates enhanced stereo.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eChannel Routing\u003c/strong\u003e: Different processing modes handle various stereo tasks - panning mono signals, adjusting width of stereo signals, swapping channels, or monitoring mid/side content.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: Pan position or processing parameter\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: Stereo width or processing mode\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Processing mode or channel routing\u003c/li\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Mono to stereo panning","params[0] = 128;  // Center pan","params[1] = 128;  // Normal width","params[2] = 32;   // Panning mode","","// Stereo width adjustment","params[0] = 64;   // Wide left","params[1] = 200;  // Increased width","params[2] = 96;   // Width control mode","","// Channel swap","params[0] = 128;  // Any position","params[1] = 128;  // Any width","params[2] = 160;  // Swap mode","","// Mid-side monitoring","params[0] = 128;  // Any position","params[1] = 128;  // Any width","params[2] = 224;  // Monitor mode","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eUnderstanding Stereo Processing\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eMid-Side Encoding\u003c/strong\u003e: Mid signal contains center-panned content (vocals, bass, kick drum). Side signal contains stereo spread content (reverb, wide instruments, ambience).\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eWidth vs Pan\u003c/strong\u003e: Panning positions mono signals in the stereo field. Width control adjusts how wide existing stereo content appears.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003ePhase Relationship\u003c/strong\u003e: Left and right channels can be in-phase (mono-like) or out-of-phase (wide stereo). Extreme width settings can cause phase cancellation on mono systems.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eProcessing Modes\u003c/strong\u003e: Different modes handle different stereo tasks efficiently within a single processor.\u003c/p\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eAuto-width\u003c/strong\u003e: Automatically adjust width based on signal correlation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFrequency-dependent width\u003c/strong\u003e: Make bass more centered, highs wider\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eStereo enhancement\u003c/strong\u003e: Add subtle width to mono sources\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePhase correlation monitoring\u003c/strong\u003e: Prevent mono compatibility issues\u003c/li\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003e[Parameter Mapping](parameter-mapping.md)\u003c/strong\u003e: Control stereo parameters smoothly\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Basic Filter](basic-filter.md)\u003c/strong\u003e: Frequency-dependent stereo processing\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-27\" class=\"doc-section\"\u003e","\u003ch1\u003e27. Switches And Modes\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/fundamentals/switches-and-modes.md\u003c/div\u003e","","\u003ch2\u003eSwitches and Modes\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eEssential discrete control patterns for professional audio interfaces\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eSwitches and modes provide discrete control options that complement continuous parameters. Users can select different processing algorithms, toggle features, and navigate through configurations.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Parameters:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[0-7]\u003c/code\u003e: Switch inputs (0-127=off, 128-255=on)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003emode_count\u003c/code\u003e: Number of available states\u003c/li\u003e","\u003cli\u003e\u003ccode\u003ecurrent_mode\u003c/code\u003e: Active processing mode\u003c/li\u003e","\u003cli\u003e\u003ccode\u003elast_switch\u003c/code\u003e: Previous switch state (for edge detection)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCore Techniques:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eSwitch reading\u003c/strong\u003e: Convert 0-255 parameter to binary state\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eEdge detection\u003c/strong\u003e: Trigger on switch press (not hold)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMode cycling\u003c/strong\u003e: Advance through multiple states\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDebouncing\u003c/strong\u003e: Prevent false triggers from noisy switches\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e State machines, edge detection, mode selection, stable switching\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// Switch and mode state","global int current_mode = 0     // Active processing mode (0-3)","global int last_switch = 0      // Previous switch state","global int debounce_counter = 0 // Stability counter","global int bypass_active = 0    // Effect bypass state","","function process()","locals int switch_input, int switch_pressed, int mode_select, int input_sample, int processed_sample, int output_sample, int effect_gain, int switch_state","{","    loop {","        // Read mode switch with debouncing","        switch_input = (int)global params[0];","        switch_pressed = 0;","","        // Convert parameter to binary switch state","        if (switch_input \u0026gt; 127) {","            switch_state = 1;","        } else {","            switch_state = 0;","        }","","        // Debounce switch input for stability","        if (switch_state == global last_switch) {","            global debounce_counter = 0;","        } else {","            global debounce_counter = global debounce_counter + 1;","            if (global debounce_counter \u0026gt;= 5) {  // 5 samples stable","                global last_switch = switch_state;","                global debounce_counter = 0;","                if (switch_state == 1) {","                    switch_pressed = 1;  // Rising edge detected","                }","            }","        }","","        // Advance mode on switch press","        if (switch_pressed == 1) {","            global current_mode = global current_mode + 1;","            if (global current_mode \u0026gt;= 4) global current_mode = 0;  // Cycle 0-3","        }","","        // Read bypass switch from second parameter","        if ((int)global params[1] \u0026gt; 127) {","            global bypass_active = 1;","        } else {","            global bypass_active = 0;","        }","","        // Read mode selection from third parameter (direct select)","        mode_select = ((int)global params[2] * 3) \u0026gt;\u0026gt; 8;  // 0-255  0-3","","        // Use direct mode select if different from current mode","        if (mode_select == global current_mode) {","            // Do nothing - same mode","        } else if (switch_pressed == 0) {","            global current_mode = mode_select;","        }","","        // Read input sample","        input_sample = (int)global signal[0];","        processed_sample = input_sample;","","        // Process based on current mode","        if (global current_mode == 0) {","            // Mode 0: Clean signal (no processing)","            processed_sample = input_sample;","","        } else if (global current_mode == 1) {","            // Mode 1: Simple gain boost","            processed_sample = input_sample + (input_sample \u0026gt;\u0026gt; 2);  // +25% gain","","        } else if (global current_mode == 2) {","            // Mode 2: Soft distortion","            if (input_sample \u0026gt; 1024) {","                processed_sample = 1024 + ((input_sample - 1024) \u0026gt;\u0026gt; 1);","            } else if (input_sample \u0026lt; -1024) {","                processed_sample = -1024 + ((input_sample + 1024) \u0026gt;\u0026gt; 1);","            }","","        } else {","            // Mode 3: Bit reduction","            processed_sample = (input_sample \u0026gt;\u0026gt; 2) \u0026lt;\u0026lt; 2;  // 4-bit quantization","        }","","        // Apply bypass switching","        if (global bypass_active == 1) {","            output_sample = input_sample;  // Bypass: clean signal","        } else {","            output_sample = processed_sample;  // Effect: processed signal","        }","","        // Prevent clipping","        if (output_sample \u0026gt; 2047) output_sample = 2047;","        if (output_sample \u0026lt; -2047) output_sample = -2047;","","        // Output processed signal","        global signal[0] = output_sample;","        global signal[1] = output_sample;","","        // Display current mode and bypass state on LEDs","        global displayLEDs[0] = global current_mode \u0026lt;\u0026lt; 6;     // Mode indicator","        if (global bypass_active == 1) {","            global displayLEDs[1] = 255;  // Bypass on","        } else {","            global displayLEDs[1] = 0;    // Bypass off","        }","        global displayLEDs[2] = switch_input;                 // Switch level","        global displayLEDs[3] = global debounce_counter \u0026lt;\u0026lt; 5; // Debounce activity","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eSwitch Reading\u003c/strong\u003e: Parameters 0-255 are split at 127. Values 0-127 = switch off, 128-255 = switch on.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eEdge Detection\u003c/strong\u003e: Only trigger mode changes on the rising edge (offon transition), not while held down.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eDebouncing\u003c/strong\u003e: Wait for 5 stable samples before accepting switch state change. Prevents noise from triggering false switches.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMode Selection\u003c/strong\u003e: Two methods - button cycling (advances through modes) or direct parameter selection (knob selects mode).\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: Mode advance button (press to cycle)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: Bypass switch (on/off)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Direct mode select (0-255  mode 0-3)\u003c/li\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Mode cycling with button","params[0] = 200;  // Button pressed","params[1] = 64;   // Bypass off","params[2] = 0;    // Direct select off","","// Direct mode selection","params[0] = 64;   // Button not pressed","params[1] = 64;   // Bypass off","params[2] = 128;  // Select mode 1","","// Bypass active","params[0] = 64;   // Button not pressed","params[1] = 200;  // Bypass on","params[2] = 200;  // Any mode","","// Clean signal","params[0] = 64;   // Button not pressed","params[1] = 64;   // Bypass off","params[2] = 0;    // Mode 0 (clean)","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eUnderstanding Switch Control\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eBinary Switching\u003c/strong\u003e: Parameters naturally split into two ranges - low values (off) and high values (on).\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eEdge vs Level\u003c/strong\u003e: Edge detection triggers once per press. Level detection responds continuously while held.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eDebouncing\u003c/strong\u003e: Real switches bounce between states. Software debouncing ensures clean transitions.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMode Management\u003c/strong\u003e: State machines track current mode and respond to control inputs consistently.\u003c/p\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eMulti-switch modes\u003c/strong\u003e: Use combinations of switches for more options\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLong press detection\u003c/strong\u003e: Different actions for short vs long button presses\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSwitch combinations\u003c/strong\u003e: Hold one switch while pressing another\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMode memory\u003c/strong\u003e: Remember selected mode across power cycles\u003c/li\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003e[Parameter Mapping](parameter-mapping.md)\u003c/strong\u003e: Map switch positions to useful ranges\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Level Metering](level-metering.md)\u003c/strong\u003e: Visual feedback for switch states\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Basic Filter](basic-filter.md)\u003c/strong\u003e: Switch between filter types\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-28\" class=\"doc-section\"\u003e","\u003ch1\u003e28. Db Gain Control\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/fundamentals/db-gain-control.md\u003c/div\u003e","","\u003ch2\u003edB Gain Control\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eProfessional logarithmic volume control\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eImplements studio-style dB (decibel) gain control with logarithmic response that matches human hearing and professional audio equipment. Unlike linear volume knobs, dB control provides perceptually uniform volume changes where each step sounds like a consistent loudness difference.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Parameters:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[0]\u003c/code\u003e: Gain level (0-255, mapped to dB range)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[1]\u003c/code\u003e: Response curve (0-255, controls logarithmic shape)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[2]\u003c/code\u003e: Smoothing speed (0-255, controls gain change rate)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCommon dB Levels:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eUnity Gain\u003c/strong\u003e: 0dB (no level change)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMixing Level\u003c/strong\u003e: -6dB (headroom for mixing)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eBackground\u003c/strong\u003e: -20dB (quiet background)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eVery Quiet\u003c/strong\u003e: -40dB (whisper level)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMute\u003c/strong\u003e: -dB (silence)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e Logarithmic scaling, perceptual uniformity, gain staging, professional response\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// dB gain control state","global int current_gain = 2047  // Current linear gain (0-4095 range)","global int target_gain = 2047   // Target gain for smoothing","","function process()","locals int gain_param, int curve_param, int smooth_speed, int gain_step, int output_left, int output_right","{","    loop {","        // Read parameters","        gain_param = (int)global params[0];     // 0-255 gain level","        curve_param = (int)global params[1];    // 0-255 response curve","        smooth_speed = ((int)global params[2] \u0026gt;\u0026gt; 4) + 1;  // 1-16 smoothing rate","","        // Calculate target gain with logarithmic curve","        if (gain_param == 0) {","            // Complete mute","            global target_gain = 0;","        } else if (gain_param \u0026lt; 64) {","            // Quiet range: -40dB to -20dB (exponential approach to silence)","            global target_gain = (gain_param * gain_param) \u0026gt;\u0026gt; 4;  // Quadratic curve","        } else if (gain_param \u0026lt; 192) {","            // Normal range: -20dB to 0dB (logarithmic curve)","            global target_gain = 256 + ((gain_param - 64) * 14);  // Linear section","        } else {","            // Boost range: 0dB to +6dB (gentle boost)","            global target_gain = 2047 + ((gain_param - 192) \u0026lt;\u0026lt; 5);  // Boost section","        }","","        // Apply curve shaping based on curve parameter","        if (curve_param \u0026lt; 128) {","            // More linear response","            global target_gain = (global target_gain * curve_param) \u0026gt;\u0026gt; 7;","        } else {","            // More exponential response","            global target_gain = (global target_gain * global target_gain) \u0026gt;\u0026gt; 11;","        }","","        // Limit maximum gain","        if (global target_gain \u0026gt; 4095) global target_gain = 4095;","","        // Smooth gain changes to prevent zipper noise","        if (global current_gain \u0026lt; global target_gain) {","            global current_gain = global current_gain + smooth_speed;","            if (global current_gain \u0026gt; global target_gain) global current_gain = global target_gain;","        } else if (global current_gain \u0026gt; global target_gain) {","            global current_gain = global current_gain - smooth_speed;","            if (global current_gain \u0026lt; global target_gain) global current_gain = global target_gain;","        }","","        // Apply gain to audio signals","        output_left = ((int)global signal[0] * global current_gain) \u0026gt;\u0026gt; 11;","        output_right = ((int)global signal[1] * global current_gain) \u0026gt;\u0026gt; 11;","","        // Prevent clipping","        if (output_left \u0026gt; 2047) output_left = 2047;","        if (output_left \u0026lt; -2047) output_left = -2047;","        if (output_right \u0026gt; 2047) output_right = 2047;","        if (output_right \u0026lt; -2047) output_right = -2047;","","        // Output processed signals","        global signal[0] = output_left;","        global signal[1] = output_right;","","        // Show gain activity on LEDs","        global displayLEDs[0] = gain_param;               // Show gain parameter","        global displayLEDs[1] = global current_gain \u0026gt;\u0026gt; 4; // Show current gain level","        global displayLEDs[2] = curve_param;             // Show curve setting","        global displayLEDs[3] = smooth_speed \u0026lt;\u0026lt; 4;       // Show smoothing speed","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eLogarithmic Response\u003c/strong\u003e: The gain calculation uses different curves for different ranges - quadratic for quiet sounds, linear for normal levels, and gentle boost for loud levels.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eGain Smoothing\u003c/strong\u003e: Changes in gain level are smoothed over time to prevent zipper noise when adjusting the gain knob.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eRange Mapping\u003c/strong\u003e: The 0-255 parameter range maps to practical dB levels from silence (-dB) through unity gain (0dB) to moderate boost (+6dB).\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eCurve Shaping\u003c/strong\u003e: The curve parameter adjusts the response from more linear (professional) to more exponential (musical).\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: Gain level (0 = mute, 128 = moderate, 255 = boost)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: Response curve (0 = linear, 255 = exponential)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Smoothing speed (higher = faster changes)\u003c/li\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Studio mixing level","params[0] = 192;  // Near unity gain (0dB)","params[1] = 128;  // Balanced curve","params[2] = 64;   // Moderate smoothing","","// Background music","params[0] = 80;   // Quiet level (-20dB)","params[1] = 64;   // More linear response","params[2] = 32;   // Faster response","","// Vocal booth monitoring","params[0] = 160;  // Moderate level (-6dB)","params[1] = 200;  // More exponential curve","params[2] = 128;  // Smooth changes","","// Mastering chain","params[0] = 200;  // Light boost (+2dB)","params[1] = 100;  // Professional curve","params[2] = 200;  // Very smooth changes","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eUnderstanding dB Control\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eLogarithmic Nature\u003c/strong\u003e: dB scales match human hearing where equal dB steps sound like equal loudness changes.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eProfessional Standards\u003c/strong\u003e: Studio equipment uses dB markings because they provide intuitive, musical control over levels.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eGain Staging\u003c/strong\u003e: Multiple gain stages allow precise control over signal levels throughout the processing chain.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eSmooth Response\u003c/strong\u003e: Gain smoothing prevents zipper noise when adjusting levels during audio playback.\u003c/p\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eMulti-band gain\u003c/strong\u003e: Apply different gain curves to different frequency ranges\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eStereo gain\u003c/strong\u003e: Independent left/right channel gain control\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAutomation\u003c/strong\u003e: Program gain changes that follow musical phrases\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLimiting integration\u003c/strong\u003e: Combine with limiting for broadcast-safe levels\u003c/li\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003e[Gain and Volume](gain-and-volume.md)\u003c/strong\u003e: Basic linear volume control\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Output Limiting](output-limiting.md)\u003c/strong\u003e: Prevent clipping with limiting\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-29\" class=\"doc-section\"\u003e","\u003ch1\u003e29. Level Metering\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/fundamentals/level-metering.md\u003c/div\u003e","","\u003ch2\u003eLevel Metering\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eVisual feedback for monitoring audio signal levels\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eLevel metering displays audio signal levels using LED indicators. It shows peak levels to prevent clipping and provides visual feedback for gain staging and signal monitoring.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Parameters:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[0]\u003c/code\u003e: Meter sensitivity (0-255, controls response speed)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[1]\u003c/code\u003e: Display mode (0-255, selects different meter types)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[2]\u003c/code\u003e: Peak hold time (0-255, how long peaks are displayed)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eMeter Types:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003ePeak meter\u003c/strong\u003e: Shows instantaneous signal peaks\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAverage meter\u003c/strong\u003e: Shows smoothed signal levels\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePeak hold\u003c/strong\u003e: Displays peak levels with hold time\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e Peak detection, level averaging, LED mapping, visual feedback\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// Level meter state","global int peak_level = 0       // Current peak level","global int avg_level = 0        // Average level","global int peak_hold_value = 0  // Peak hold level","global int peak_hold_timer = 0  // Peak hold countdown","","function process()","locals int sensitivity, int meter_mode, int hold_time, int left_level, int right_level, int max_level, int led_level","{","    loop {","        // Read parameters","        sensitivity = ((int)global params[0] \u0026gt;\u0026gt; 4) + 1;  // 1-16 sensitivity","        meter_mode = ((int)global params[1] \u0026gt;\u0026gt; 6);        // 0-3 meter types","        hold_time = ((int)global params[2] \u0026lt;\u0026lt; 4);         // 0-4080 hold time","","        // Get absolute signal levels","        left_level = (int)global signal[0];","        if (left_level \u0026lt; 0) left_level = -left_level;","","        right_level = (int)global signal[1];","        if (right_level \u0026lt; 0) right_level = -right_level;","","        // Find maximum level (stereo peak)","        max_level = left_level;","        if (right_level \u0026gt; max_level) max_level = right_level;","","        // Update peak level (fast attack)","        if (max_level \u0026gt; global peak_level) {","            global peak_level = max_level;","        } else {","            // Slow release based on sensitivity","            global peak_level = global peak_level - (global peak_level \u0026gt;\u0026gt; sensitivity);","        }","","        // Update average level (slower response)","        global avg_level = global avg_level + ((max_level - global avg_level) \u0026gt;\u0026gt; 8);","","        // Peak hold logic","        if (global peak_level \u0026gt; global peak_hold_value) {","            global peak_hold_value = global peak_level;","            global peak_hold_timer = hold_time;","        } else if (global peak_hold_timer \u0026gt; 0) {","            global peak_hold_timer = global peak_hold_timer - 1;","        } else {","            global peak_hold_value = global peak_hold_value - (global peak_hold_value \u0026gt;\u0026gt; 6);","        }","","        // Select display level based on meter mode","        if (meter_mode == 0) {","            led_level = global peak_level;      // Peak meter","        } else if (meter_mode == 1) {","            led_level = global avg_level;       // Average meter","        } else if (meter_mode == 2) {","            led_level = global peak_hold_value; // Peak hold meter","        } else {","            // Combined display","            led_level = (global peak_level + global avg_level) \u0026gt;\u0026gt; 1;","        }","","        // Map level to LED display (0-2047  0-255 per LED)","        global displayLEDs[0] = led_level \u0026gt;\u0026gt; 3;           // LED 1: Full range","","        // LED 2: Only for higher levels","        if (led_level \u0026gt; 512) {","            global displayLEDs[1] = (led_level - 512) \u0026gt;\u0026gt; 2;","        } else {","            global displayLEDs[1] = 0;","        }","","        // LED 3: Only for even higher levels","        if (led_level \u0026gt; 1280) {","            global displayLEDs[2] = (led_level - 1280) \u0026gt;\u0026gt; 1;","        } else {","            global displayLEDs[2] = 0;","        }","","        // LED 4: Peak warning (red zone)","        if (led_level \u0026gt; 1843) {  // About 90% of full scale","            global displayLEDs[3] = 255;  // Full brightness warning","        } else {","            global displayLEDs[3] = 0;","        }","","        yield();","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003ePeak Detection\u003c/strong\u003e: Monitors instantaneous signal peaks to detect clipping potential. Uses fast attack (immediate response to peaks) and slower release for visual readability.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eAverage Level\u003c/strong\u003e: Smooths signal level over time to show perceived loudness. More stable than peak detection but less responsive to transients.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003ePeak Hold\u003c/strong\u003e: Displays peak levels for a set time so brief peaks remain visible. Essential for catching short transients.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eLED Mapping\u003c/strong\u003e: Different LEDs light up at different signal levels:\u003c/p\u003e","\u003cli\u003eLED 1: Always shows signal level\u003c/li\u003e","\u003cli\u003eLED 2: Only lights above moderate levels\u003c/li\u003e","\u003cli\u003eLED 3: Only lights at high levels\u003c/li\u003e","\u003cli\u003eLED 4: Warning light for near-clipping levels\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: Meter sensitivity (higher = more responsive)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: Display mode (peak, average, peak hold, or combined)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Peak hold time (how long peaks are displayed)\u003c/li\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Standard peak meter","params[0] = 128;  // Medium sensitivity","params[1] = 0;    // Peak mode","params[2] = 100;  // Short peak hold","","// Average level meter","params[0] = 64;   // Lower sensitivity","params[1] = 64;   // Average mode","params[2] = 0;    // No peak hold","","// Combined display","params[0] = 200;  // High sensitivity","params[1] = 192;  // Combined mode","params[2] = 200;  // Long peak hold","","// Slow monitoring","params[0] = 32;   // Very low sensitivity","params[1] = 128;  // Peak hold mode","params[2] = 255;  // Maximum hold time","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eUnderstanding Level Metering\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003ePeak vs Average\u003c/strong\u003e: Peak meters show instantaneous levels and clipping potential. Average meters show perceived loudness and signal presence.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eLED Color Zones\u003c/strong\u003e: Green = safe levels, yellow = caution zone, red = danger of clipping.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eUpdate Rate\u003c/strong\u003e: LEDs update fast enough to catch peaks but slow enough to be readable.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eStereo Monitoring\u003c/strong\u003e: Both channels are monitored and the maximum level is displayed.\u003c/p\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eStereo separation\u003c/strong\u003e: Show left/right channels on separate LEDs\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFrequency bands\u003c/strong\u003e: Split signal into bass/treble and meter separately\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCorrelation metering\u003c/strong\u003e: Show if left/right channels are in or out of phase\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eGain reduction display\u003c/strong\u003e: Show how much a limiter is reducing gain\u003c/li\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003e[Output Limiting](output-limiting.md)\u003c/strong\u003e: Use meters to monitor limiting activity\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[dB Gain Control](db-gain-control.md)\u003c/strong\u003e: Professional gain staging with metering\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-30\" class=\"doc-section\"\u003e","\u003ch1\u003e30. Output Limiting\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/fundamentals/output-limiting.md\u003c/div\u003e","","\u003ch2\u003eOutput Limiting\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003ePrevent clipping and protect audio equipment\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eOutput limiting automatically reduces gain when audio signals get too loud, preventing digital clipping and protecting speakers. It only activates when signals exceed a threshold, maintaining natural dynamics while ensuring safe output levels.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Parameters:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[0]\u003c/code\u003e: Threshold level (0-255, where limiting starts)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[1]\u003c/code\u003e: Release speed (0-255, how fast limiting recovers)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[2]\u003c/code\u003e: Limiter strength (0-255, how hard it limits)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCommon Settings:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eGentle limiting\u003c/strong\u003e: High threshold, slow release, light strength\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eBrick wall\u003c/strong\u003e: Medium threshold, fast release, maximum strength\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMusical\u003c/strong\u003e: Medium threshold, slow release, moderate strength\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e Peak detection, gain reduction, attack/release timing, safe levels\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// Limiter state","global int gain_reduction = 2047 // Current gain reduction (2047 = no reduction)","global int peak_detector = 0    // Peak level detector","","function process()","locals int threshold, int release_speed, int strength, int left_peak, int right_peak, int max_peak, int target_gain, int limited_left, int limited_right, int over_threshold, int reduction_needed","{","    loop {","        // Read parameters","        threshold = ((int)global params[0] \u0026lt;\u0026lt; 3) + 512;  // 512-2560 threshold range","        release_speed = ((int)global params[1] \u0026gt;\u0026gt; 4) + 1; // 1-16 release rate","        strength = ((int)global params[2] \u0026gt;\u0026gt; 2) + 1;     // 1-64 limiter strength","","        // Detect peak levels in both channels","        left_peak = (int)global signal[0];","        if (left_peak \u0026lt; 0) left_peak = -left_peak;   // Absolute value","","        right_peak = (int)global signal[1];","        if (right_peak \u0026lt; 0) right_peak = -right_peak; // Absolute value","","        // Find maximum peak","        max_peak = left_peak;","        if (right_peak \u0026gt; max_peak) max_peak = right_peak;","","        // Update peak detector with decay","        if (max_peak \u0026gt; global peak_detector) {","            global peak_detector = max_peak;  // Fast attack","        } else {","            global peak_detector = global peak_detector - (global peak_detector \u0026gt;\u0026gt; 8); // Slow decay","        }","","        // Calculate required gain reduction","        target_gain = 2047;  // No reduction by default","","        if (global peak_detector \u0026gt; threshold) {","            // Calculate how much over threshold we are","            over_threshold = global peak_detector - threshold;","            reduction_needed = (over_threshold * strength) \u0026gt;\u0026gt; 6;","","            // Calculate target gain (less gain = more reduction)","            target_gain = 2047 - reduction_needed;","","            // Minimum gain (maximum reduction)","            if (target_gain \u0026lt; 256) target_gain = 256;  // -18dB max reduction","        }","","        // Smooth gain changes (fast attack, adjustable release)","        if (target_gain \u0026lt; global gain_reduction) {","            // Fast attack to catch peaks quickly","            global gain_reduction = target_gain;","        } else {","            // Slower release for natural sound","            global gain_reduction = global gain_reduction +","                ((target_gain - global gain_reduction) \u0026gt;\u0026gt; (8 - (release_speed \u0026gt;\u0026gt; 2)));","        }","","        // Apply limiting to both channels","        limited_left = ((int)global signal[0] * global gain_reduction) \u0026gt;\u0026gt; 11;","        limited_right = ((int)global signal[1] * global gain_reduction) \u0026gt;\u0026gt; 11;","","        // Hard clipping safety (should never engage with proper limiting)","        if (limited_left \u0026gt; 2047) limited_left = 2047;","        if (limited_left \u0026lt; -2047) limited_left = -2047;","        if (limited_right \u0026gt; 2047) limited_right = 2047;","        if (limited_right \u0026lt; -2047) limited_right = -2047;","","        // Output limited signals","        global signal[0] = limited_left;","        global signal[1] = limited_right;","","        // Show limiter activity on LEDs","        global displayLEDs[0] = threshold \u0026gt;\u0026gt; 3;           // Show threshold setting","        global displayLEDs[1] = global peak_detector \u0026gt;\u0026gt; 3; // Show peak level","        global displayLEDs[2] = (2047 - global gain_reduction) \u0026gt;\u0026gt; 3; // Show gain reduction","        global displayLEDs[3] = release_speed \u0026lt;\u0026lt; 4;      // Show release setting","","        yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003ePeak Detection\u003c/strong\u003e: Continuously monitors both audio channels to find the loudest peaks.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eThreshold Comparison\u003c/strong\u003e: When peaks exceed the threshold, limiting activates to reduce gain.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eFast Attack\u003c/strong\u003e: Immediately reduces gain when peaks are detected to prevent clipping.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eAdjustable Release\u003c/strong\u003e: Gradually restores gain when peaks subside, controlled by release speed parameter.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eGain Reduction\u003c/strong\u003e: Multiplies the audio signal by a factor less than 1.0 to reduce level.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: Threshold (higher = limiting starts later)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: Release speed (higher = faster recovery)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Limiter strength (higher = more aggressive limiting)\u003c/li\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Gentle mastering limiter","params[0] = 200;  // High threshold","params[1] = 100;  // Moderate release","params[2] = 80;   // Light limiting","","// Broadcast safety limiter","params[0] = 150;  // Medium threshold","params[1] = 200;  // Fast release","params[2] = 180;  // Strong limiting","","// Aggressive maximizer","params[0] = 100;  // Low threshold","params[1] = 50;   // Slow release","params[2] = 255;  // Maximum limiting","","// Transparent protection","params[0] = 220;  // Very high threshold","params[1] = 128;  // Balanced release","params[2] = 60;   // Very light limiting","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eUnderstanding Limiting\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003ePeak vs RMS\u003c/strong\u003e: Limiting typically responds to peak levels to prevent clipping, not average loudness.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eAttack Time\u003c/strong\u003e: Fast attack catches transients but may sound pumpy. The code uses instant attack for peak protection.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eRelease Time\u003c/strong\u003e: Slow release sounds more natural but may reduce dynamics. Fast release maintains loudness but may sound choppy.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eThreshold\u003c/strong\u003e: Higher threshold means limiting starts later, preserving more dynamics but risking clipping.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eStrength\u003c/strong\u003e: Controls how aggressively limiting reduces gain above the threshold.\u003c/p\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eStereo linking\u003c/strong\u003e: Process left/right channels together to maintain stereo image\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLookahead\u003c/strong\u003e: Delay output while analyzing future peaks for smoother limiting\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSoft knee\u003c/strong\u003e: Gradually increase limiting ratio near the threshold\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFrequency splitting\u003c/strong\u003e: Apply different limiting to bass vs treble frequencies\u003c/li\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003e[dB Gain Control](db-gain-control.md)\u003c/strong\u003e: Professional gain staging before limiting\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Level Metering](level-metering.md)\u003c/strong\u003e: Monitor peak levels visually\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-31\" class=\"doc-section\"\u003e","\u003ch1\u003e31. Make A Delay\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/audio-effects/make-a-delay.md\u003c/div\u003e","","\u003ch2\u003eMake a Delay\u003c/h2\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","\u003cp\u003eCreates a simple delay effect with adjustable delay time and feedback amount. The delayed signal is mixed with the original to create echo effects ranging from short slap-back delays to long ambient trails.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","\u003cp\u003e\u003cstrong\u003eParameters\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1 (params[0])\u003c/strong\u003e: Delay time (1-1000 samples, timing varies with sample rate)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2 (params[1])\u003c/strong\u003e: Feedback amount (0-90% to prevent runaway)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3 (params[5])\u003c/strong\u003e: [Available for expansion]\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 4 (params[6])\u003c/strong\u003e: [Available for expansion]\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e: Memory read/write operations, feedback loops, circular buffering\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","extern native read              // Read from delay line memory","extern native write             // Write to delay line memory","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// Delay processing variables","global array delayBuffer[2]     // Temporary buffer for memory operations","global int delayIndex = 0       // Current position in delay buffer","global int maxDelayTime = 1000  // Maximum delay in samples (timing varies with sample rate)","","// Utility function for audio clipping","function clipAudio(int sample) returns int clipped {","    if (sample \u0026gt; 2047) clipped = 2047","    else if (sample \u0026lt; -2047) clipped = -2047","    else clipped = sample","}","","function process() {","    loop {","        operate1()  // Process left channel","        operate2()  // Process right channel","    }","}","","function operate1() {","    // === PARAMETER READING ===","    int delayTime = ((int)params[0] * maxDelayTime / 255) + 1  // 1-1000 samples","    int feedbackAmount = (int)params[1] * 90 / 255             // 0-90% feedback","","    // === DELAY PROCESSING ===","    // Read delayed sample from memory (fixed offset from write position)","    int readPos = (delayIndex - delayTime + maxDelayTime) % maxDelayTime","    read(readPos, 1, delayBuffer)","    int delayedSample = delayBuffer[0]","","    // Mix input with delayed signal for output","    int input = signal[0]","    int output = input + (delayedSample * feedbackAmount / 100)","    output = clipAudio(output)","","    // Store new sample (input + feedback) for next delay iteration","    delayBuffer[0] = input + (delayedSample * feedbackAmount / 100)","    delayBuffer[0] = clipAudio(delayBuffer[0])","","    write(delayIndex, 1, delayBuffer)","","    // Update delay buffer position (fixed circular buffer)","    delayIndex = (delayIndex + 1) % maxDelayTime","","    // === OUTPUT AND VISUALIZATION ===","    // Show delay activity on LEDs (lights when delayed signal is audible)","    int ledPattern = 0","    if (delayedSample \u0026gt; 100 || delayedSample \u0026lt; -100) {","        ledPattern = (1 \u0026lt;\u0026lt; (delayIndex % 8))","    }","    displayLEDs[0] = ledPattern","","    signal[0] = output","    yield()","}","","function operate2() {","    // === RIGHT CHANNEL PROCESSING ===","    // Identical delay processing for right channel using offset memory location","    int delayTime = ((int)params[0] * maxDelayTime / 255) + 1","    int feedbackAmount = (int)params[1] * 90 / 255","","    // Use offset memory location to avoid interference with left channel","    int readPos = ((delayIndex - delayTime + maxDelayTime) % maxDelayTime) + maxDelayTime","    read(readPos, 1, delayBuffer)","    int delayedSample = delayBuffer[0]","","    int input = signal[1]","    int output = input + (delayedSample * feedbackAmount / 100)","    output = clipAudio(output)","","    // Store sample with feedback","    delayBuffer[0] = input + (delayedSample * feedbackAmount / 100)","    delayBuffer[0] = clipAudio(delayBuffer[0])","","    write(delayIndex + maxDelayTime, 1, delayBuffer)","","    signal[1] = output","    yield()","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","\u003cli\u003e\u003cstrong\u003eLonger delays\u003c/strong\u003e: Increase \u003ccode\u003emaxDelayTime\u003c/code\u003e to 5000 or 10000 samples for longer echoes\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eShorter delays\u003c/strong\u003e: Set \u003ccode\u003emaxDelayTime\u003c/code\u003e to 100 for tight slap-back echo effects\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eStereo ping-pong\u003c/strong\u003e: Use different delay times for left/right channels to bounce audio\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eHigher feedback\u003c/strong\u003e: Carefully increase the 90% limit for more repeats (watch for runaway!)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eModulated delay\u003c/strong\u003e: Add LFO modulation to \u003ccode\u003edelayTime\u003c/code\u003e for chorus-like effects\u003c/li\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","\u003cp\u003eThe delay effect stores incoming audio samples in memory using the \u003ccode\u003eread()\u003c/code\u003e and \u003ccode\u003ewrite()\u003c/code\u003e functions, then plays them back after a specified time interval. The core algorithm uses a fixed-size circular buffer approach where \u003ccode\u003edelayIndex\u003c/code\u003e tracks the current write position, wrapping at \u003ccode\u003emaxDelayTime\u003c/code\u003e to maintain consistent memory management.\u003c/p\u003e","","\u003cp\u003eThe read position is calculated as an offset from the write position: \u003ccode\u003e(delayIndex - delayTime + maxDelayTime) % maxDelayTime\u003c/code\u003e. This ensures the delay time can be changed without causing audio artifacts or memory discontinuity.\u003c/p\u003e","","\u003cp\u003eThe feedback control mixes a percentage of the delayed signal back into the delay buffer itself, creating multiple repeats that gradually fade away. This feedback loop is carefully limited to 90% to prevent mathematical runaway that would cause infinite amplification.\u003c/p\u003e","","\u003cp\u003eThe memory addressing uses separate regions for left and right channels (\u003ccode\u003edelayIndex\u003c/code\u003e vs \u003ccode\u003edelayIndex + maxDelayTime\u003c/code\u003e) to prevent interference between stereo channels while maintaining proper circular buffer behavior for both channels.\u003c/p\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","\u003cli\u003e\u003cstrong\u003e[Chorus Effect](chorus-effect.md)\u003c/strong\u003e: Uses multiple short delays for thickening\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Sync to Tempo](../timing/sync-to-tempo.md)\u003c/strong\u003e: Tempo-synchronized delay timing\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Memory Basics](../fundamentals/memory-basics.md)\u003c/strong\u003e: Memory read/write fundamentals\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-32\" class=\"doc-section\"\u003e","\u003ch1\u003e32. Waveshaper Distortion\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/audio-effects/waveshaper-distortion.md\u003c/div\u003e","","\u003ch2\u003eWaveshaper Distortion\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eCreate harmonic distortion by reshaping audio waveforms\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eCreates distortion by applying mathematical curves to reshape the audio waveform. Generates everything from subtle tube warmth to aggressive clipping effects by pushing audio through different waveshaping functions.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Parameters:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[0]\u003c/code\u003e: Input drive (0-255, controls distortion intensity)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[1]\u003c/code\u003e: Distortion type (0-255, selects waveshaping curve)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[2]\u003c/code\u003e: Output level (0-255, compensates for volume changes)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[3]\u003c/code\u003e: Dry/wet mix (0-255, blend control)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e Waveshaping curves, harmonic generation, clipping algorithms, drive control\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","function process()","locals int drive, int dist_type, int output_level, int mix, int input, int driven, int shaped, int output, int mask","{","    loop {","        // Read parameters","        drive = ((int)global params[0] \u0026gt;\u0026gt; 2) + 1;     // 1-64 drive amount","        dist_type = ((int)global params[1] \u0026gt;\u0026gt; 6);     // 0-3 distortion types","        output_level = ((int)global params[2] \u0026gt;\u0026gt; 1) + 64;  // 64-191 output gain","        mix = (int)global params[3];                  // 0-255 dry/wet mix","","        input = (int)global signal[0];","","        // Apply input drive","        driven = input * drive;","","        // Prevent overflow before waveshaping","        if (driven \u0026gt; 2047) driven = 2047;","        if (driven \u0026lt; -2047) driven = -2047;","","        // Apply waveshaping based on type","        if (dist_type == 0) {","            // Soft clipping - gentle saturation","            if (driven \u0026gt; 1365) {","                shaped = 1365 + ((driven - 1365) \u0026gt;\u0026gt; 2);  // Compress highs","            } else if (driven \u0026lt; -1365) {","                shaped = -1365 + ((driven + 1365) \u0026gt;\u0026gt; 2); // Compress lows","            } else {","                shaped = driven;  // Linear in middle","            }","","        } else if (dist_type == 1) {","            // Hard clipping - aggressive limiting","            if (driven \u0026gt; 1024) {","                shaped = 1024;","            } else if (driven \u0026lt; -1024) {","                shaped = -1024;","            } else {","                shaped = driven;","            }","","        } else if (dist_type == 2) {","            // Bit reduction - digital artifacts","            mask = 0xFFF0;  // Remove lower 4 bits","            shaped = driven \u0026amp; mask;","","        } else {","            // Fold-back - wrap around at limits","            if (driven \u0026gt; 1024) {","                shaped = 2048 - driven;  // Fold back down","            } else if (driven \u0026lt; -1024) {","                shaped = -2048 + driven; // Fold back up (corrected sign)","            } else {","                shaped = driven;","            }","        }","","        // Apply output level compensation","        shaped = (shaped * output_level) \u0026gt;\u0026gt; 8;","","        // Prevent final clipping","        if (shaped \u0026gt; 2047) shaped = 2047;","        if (shaped \u0026lt; -2047) shaped = -2047;","","        // Mix dry and wet signals","        output = ((input * (255 - mix)) + (shaped * mix)) \u0026gt;\u0026gt; 8;","","        // Output result","        global signal[0] = output;","        global signal[1] = output;","","        // Show activity on LEDs with optimized scaling","        global displayLEDs[0] = (drive - 1) \u0026lt;\u0026lt; 2;              // Drive level (0-252)","        global displayLEDs[1] = dist_type \u0026lt;\u0026lt; 6;                // Distortion type (0,64,128,192)","        global displayLEDs[2] = (output_level - 64) \u0026lt;\u0026lt; 1;      // Output gain (0-254)","        global displayLEDs[3] = (mix \u0026gt;\u0026gt; 2);                    // Mix level (0-63)","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eInput Drive\u003c/strong\u003e: Amplifies the signal before waveshaping to control distortion intensity.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eWaveshaping Types\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eType 0 (Soft Clip)\u003c/strong\u003e: Gentle compression at high levels, preserves dynamics\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eType 1 (Hard Clip)\u003c/strong\u003e: Aggressive limiting, creates square-wave harmonics\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eType 2 (Bit Crush)\u003c/strong\u003e: Digital artifacts by removing bit resolution\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eType 3 (Fold-back)\u003c/strong\u003e: Wraps signal around at limits for unique textures\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eOutput Compensation\u003c/strong\u003e: Adjusts level after distortion to maintain consistent volume.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: Drive (higher = more distortion)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: Type (0-63=soft, 64-127=hard, 128-191=bit, 192-255=fold)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Output level (compensate for volume changes)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 4\u003c/strong\u003e: Dry/wet mix (blend clean with distorted)\u003c/li\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Subtle tube warmth","params[0] = 100;  // Light drive","params[1] = 32;   // Soft clipping","params[2] = 180;  // Boost output","params[3] = 150;  // Blend with dry","","// Heavy rock distortion","params[0] = 200;  // High drive","params[1] = 100;  // Hard clipping","params[2] = 140;  // Lower output","params[3] = 220;  // Mostly distorted","","// Digital glitch","params[0] = 150;  // Medium drive","params[1] = 160;  // Bit crushing","params[2] = 200;  // Boost output","params[3] = 180;  // Mostly wet","","// Experimental texture","params[0] = 180;  // High drive","params[1] = 220;  // Fold-back","params[2] = 160;  // Medium output","params[3] = 200;  // Mostly processed","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eUnderstanding Waveshaping\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eHarmonic Generation\u003c/strong\u003e: Waveshaping creates new frequencies (harmonics) not present in the original signal by applying non-linear functions.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eDrive vs. Output\u003c/strong\u003e: Drive controls how hard you push into the waveshaper (distortion amount), while output compensates for the resulting volume changes.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eWaveshaping Curves\u003c/strong\u003e: Different mathematical functions create different harmonic content:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eLinear\u003c/strong\u003e: No distortion (straight line)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSoft curves\u003c/strong\u003e: Gentle, musical harmonics\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eHard edges\u003c/strong\u003e: Aggressive, buzzy harmonics\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFold-back\u003c/strong\u003e: Unique, metallic textures\u003c/li\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eMultiple stages\u003c/strong\u003e: Apply waveshaping twice for more complex distortion\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFrequency-dependent\u003c/strong\u003e: Apply different amounts to high vs low frequencies\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDynamic waveshaping\u003c/strong\u003e: Vary the curve based on input level\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eStereo processing\u003c/strong\u003e: Different waveshaping for left/right channels\u003c/li\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003e[Gain and Volume](../fundamentals/gain-and-volume.md)\u003c/strong\u003e: Level control fundamentals\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Bitcrusher](bitcrusher.md)\u003c/strong\u003e: Related digital distortion effects\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-33\" class=\"doc-section\"\u003e","\u003ch1\u003e33. Chorus Effect\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/audio-effects/chorus-effect.md\u003c/div\u003e","","\u003ch2\u003eChorus Effect\u003c/h2\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","\u003cp\u003eCreates a lush, thickening effect by adding multiple modulated delay lines that simulate the natural variations when multiple musicians play the same part. Produces everything from subtle doubling to swirling chorus textures.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","\u003cp\u003e\u003cstrong\u003eParameters\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1 (params[3])\u003c/strong\u003e: LFO rate (0.1Hz to 5Hz, controls sweep speed)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2 (params[4])\u003c/strong\u003e: Modulation depth (0-255, controls pitch variation amount)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3 (params[5])\u003c/strong\u003e: Dry/wet mix (0% = dry signal, 100% = full chorus)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 4 (params[6])\u003c/strong\u003e: Stereo spread (0 = mono, 255 = maximum width)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e: Multiple delay lines, LFO modulation, stereo imaging, interpolation\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","extern native read              // Read from delay line memory","extern native write             // Write to delay line memory","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// Simple chorus state","global array temp_buffer[2]     // Temporary buffer for memory operations","global int write_pos = 0        // Current write position in delay line","global int lfo_phase = 0        // LFO phase for modulation","global int lfo_phase_r = 64     // Right channel LFO phase (offset for stereo)","const int MAX_DELAY_BUFFER = 200 // Maximum delay buffer size","","function process()","locals int rate","locals int depth","locals int mix","locals int spread","locals int delay_time_l","locals int delay_time_r","locals int lfo_val_l","locals int lfo_val_r","locals int delayed_sample_l","locals int delayed_sample_r","locals int output_l","locals int output_r","{","    loop {","        // Read parameters","        rate = ((int)global params[3] \u0026gt;\u0026gt; 4) + 1;     // Knob 1: LFO rate (1-16)","        depth = ((int)global params[4] \u0026gt;\u0026gt; 3) + 1;    // Knob 2: Modulation depth (1-32 samples)","        mix = (int)global params[5];                 // Knob 3: Dry/wet mix (0-255)","        spread = (int)global params[6];              // Knob 4: Stereo spread (0-255)","","        // Triangle LFO for left channel","        global lfo_phase = (global lfo_phase + rate) \u0026amp; 255;","        if (global lfo_phase \u0026lt; 128) {","            lfo_val_l = global lfo_phase;            // Rising: 0 to 127","        } else {","            lfo_val_l = 255 - global lfo_phase;     // Falling: 127 to 0","        }","","        // Triangle LFO for right channel (with stereo spread offset)","        global lfo_phase_r = (global lfo_phase_r + rate) \u0026amp; 255;","        if (global lfo_phase_r \u0026lt; 128) {","            lfo_val_r = global lfo_phase_r;          // Rising: 0 to 127","        } else {","            lfo_val_r = 255 - global lfo_phase_r;   // Falling: 127 to 0","        }","","        // Apply stereo spread to right channel LFO","        lfo_val_r = lfo_val_l + ((lfo_val_r - lfo_val_l) * spread \u0026gt;\u0026gt; 8);","","        // Calculate modulated delay times with safety bounds","        delay_time_l = 25 + ((lfo_val_l * depth) \u0026gt;\u0026gt; 7);  // Left channel","        delay_time_r = 25 + ((lfo_val_r * depth) \u0026gt;\u0026gt; 7);  // Right channel","        if (delay_time_l \u0026gt; 100) delay_time_l = 100;       // Prevent buffer overrun","        if (delay_time_r \u0026gt; 100) delay_time_r = 100;","","        // Write current input to delay line","        global temp_buffer[0] = global signal[0];","        write(global write_pos, 1, global temp_buffer);","        global temp_buffer[0] = global signal[1];","        write(global write_pos + MAX_DELAY_BUFFER, 1, global temp_buffer);","","        // Read delayed samples with modulation (safe circular buffer access)","        int read_pos_l = (global write_pos - delay_time_l + MAX_DELAY_BUFFER) % MAX_DELAY_BUFFER;","        int read_pos_r = (global write_pos - delay_time_r + MAX_DELAY_BUFFER) % MAX_DELAY_BUFFER;","","        read(read_pos_l, 1, global temp_buffer);","        delayed_sample_l = (int)global temp_buffer[0];","","        read(read_pos_r + MAX_DELAY_BUFFER, 1, global temp_buffer);","        delayed_sample_r = (int)global temp_buffer[0];","","        // Mix dry and wet signals for stereo output","        output_l = ((int)global signal[0] * (255 - mix) + delayed_sample_l * mix) \u0026gt;\u0026gt; 8;","        output_r = ((int)global signal[1] * (255 - mix) + delayed_sample_r * mix) \u0026gt;\u0026gt; 8;","","        // Prevent clipping","        if (output_l \u0026gt; 2047) output_l = 2047;","        if (output_l \u0026lt; -2047) output_l = -2047;","        if (output_r \u0026gt; 2047) output_r = 2047;","        if (output_r \u0026lt; -2047) output_r = -2047;","","        // Output stereo chorus result","        global signal[0] = output_l;","        global signal[1] = output_r;","","        // Show LFO activity on LEDs","        global displayLEDs[0] = lfo_val_l;","        global displayLEDs[1] = lfo_val_r;","","        // Update write position with circular buffer wrapping","        global write_pos = (global write_pos + 1) % MAX_DELAY_BUFFER;","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","\u003cli\u003e\u003cstrong\u003eMore voices\u003c/strong\u003e: Add additional delay lines (4-6 voices) for thicker, more complex chorus\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eVintage chorus\u003c/strong\u003e: Reduce LFO rate and increase depth for classic 80s ensemble sounds\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eEnsemble mode\u003c/strong\u003e: Use very short delays (5-15 samples) with subtle modulation for string ensemble\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTremolo chorus\u003c/strong\u003e: Modulate amplitude as well as delay time for animated effects\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCustom LFO shapes\u003c/strong\u003e: Replace triangle wave with sawtooth for different movement character\u003c/li\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","\u003cp\u003eChorus creates the illusion of multiple performers by using short delay lines (8-40ms) with delay times modulated by Low Frequency Oscillators (LFOs) at different phases for left and right channels. This simulates the natural pitch and timing variations that occur when multiple musicians play together.\u003c/p\u003e","","\u003cp\u003eThe key elements are: modulated delay times that create subtle pitch variations through Doppler-like effects, stereo spread control that offsets the LFO phases between channels for width, and proper circular buffer management for stable operation. The triangle wave LFO provides smooth, musical modulation that avoids harsh artifacts.\u003c/p\u003e","","\u003cp\u003eThe stereo implementation uses separate LFO phases for each channel, with the stereo spread parameter controlling how much the right channel differs from the left, creating natural chorus width and movement.\u003c/p\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","\u003cli\u003e\u003cstrong\u003e[Make a Delay](make-a-delay.md)\u003c/strong\u003e: Basic delay implementation fundamentals\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Phaser Effect](phaser-effect.md)\u003c/strong\u003e: Related modulation-based effect\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Stereo Processing](../fundamentals/stereo-processing.md)\u003c/strong\u003e: Stereo width and panning\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-34\" class=\"doc-section\"\u003e","\u003ch1\u003e34. Phaser Effect\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/audio-effects/phaser-effect.md\u003c/div\u003e","","\u003ch2\u003ePhaser Effect\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eCreate sweeping \"whoosh\" sounds with modulated filtering\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eCreates the classic phaser effect by using a simple variable filter with LFO modulation. The moving filter frequency creates characteristic sweeping sounds - from subtle movement to dramatic jet-plane effects.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Parameters:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[0]\u003c/code\u003e: LFO rate (0-255, sweep speed)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[1]\u003c/code\u003e: Modulation depth (0-255, sweep range)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[2]\u003c/code\u003e: Feedback amount (0-255, intensity)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[3]\u003c/code\u003e: Dry/wet mix (0-255, blend control)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e Variable filtering, LFO modulation, feedback loops, phase relationships\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// All-pass phaser state","global int lfo_phase = 0        // LFO phase accumulator","global int allpass_state1 = 0   // First all-pass filter state","global int allpass_state2 = 0   // Second all-pass filter state","global int allpass_state3 = 0   // Third all-pass filter state","global int allpass_state4 = 0   // Fourth all-pass filter state","global int feedback_sample = 0  // Feedback delay sample","","function process()","locals int rate","locals int depth","locals int feedback","locals int mix","locals int lfo_val","locals int coeff1","locals int coeff2","locals int coeff3","locals int coeff4","locals int input","locals int temp1","locals int temp2","locals int temp3","locals int temp4","locals int allpass1","locals int allpass2","locals int allpass3","locals int allpass4","locals int phased_output","locals int output","{","    loop {","        // Read parameters","        rate = ((int)global params[0] \u0026gt;\u0026gt; 4) + 1;     // 1-16 LFO rate","        depth = ((int)global params[1] \u0026gt;\u0026gt; 2) + 1;    // 1-64 modulation depth","        feedback = (int)global params[2];            // 0-255 feedback amount","        mix = (int)global params[3];                 // 0-255 dry/wet mix","","        input = (int)global signal[0];","","        // Add feedback for resonance with safety bounds","        input = input + ((global feedback_sample * feedback) \u0026gt;\u0026gt; 9);  // Extra shift for safety","        if (input \u0026gt; 2047) input = 2047;","        if (input \u0026lt; -2047) input = -2047;","","        // Simple triangle LFO","        global lfo_phase = (global lfo_phase + rate) \u0026amp; 255;","        if (global lfo_phase \u0026lt; 128) {","            lfo_val = global lfo_phase;              // Rising: 0 to 127","        } else {","            lfo_val = 255 - global lfo_phase;       // Falling: 127 to 0","        }","","        // Calculate all-pass filter coefficients based on LFO","        coeff1 = (lfo_val * depth) \u0026gt;\u0026gt; 6;        // 0-127 range","        if (coeff1 \u0026gt; 127) coeff1 = 127;","","        coeff2 = coeff1 + 16;                   // Offset coefficient","        if (coeff2 \u0026gt; 127) coeff2 = 127;","","        coeff3 = coeff1 + 32;                   // Further offset","        if (coeff3 \u0026gt; 127) coeff3 = 127;","","        coeff4 = coeff1 + 48;                   // Maximum offset","        if (coeff4 \u0026gt; 127) coeff4 = 127;","","        // Four all-pass filters in series for rich phasing","        // First all-pass filter","        temp1 = input + ((global allpass_state1 * coeff1) \u0026gt;\u0026gt; 7);","        allpass1 = temp1 - ((global allpass_state1 * coeff1) \u0026gt;\u0026gt; 7);","        global allpass_state1 = temp1;","","        // Second all-pass filter","        temp2 = allpass1 + ((global allpass_state2 * coeff2) \u0026gt;\u0026gt; 7);","        allpass2 = temp2 - ((global allpass_state2 * coeff2) \u0026gt;\u0026gt; 7);","        global allpass_state2 = temp2;","","        // Third all-pass filter","        temp3 = allpass2 + ((global allpass_state3 * coeff3) \u0026gt;\u0026gt; 7);","        allpass3 = temp3 - ((global allpass_state3 * coeff3) \u0026gt;\u0026gt; 7);","        global allpass_state3 = temp3;","","        // Fourth all-pass filter","        temp4 = allpass3 + ((global allpass_state4 * coeff4) \u0026gt;\u0026gt; 7);","        allpass4 = temp4 - ((global allpass_state4 * coeff4) \u0026gt;\u0026gt; 7);","        global allpass_state4 = temp4;","","        // Store for feedback","        global feedback_sample = allpass4;","","        // Mix all-pass output with original for phasing effect","        phased_output = allpass4;","","        // Mix dry and wet signals","        output = ((input * (255 - mix)) + (phased_output * mix)) \u0026gt;\u0026gt; 8;","","        // Prevent clipping","        if (output \u0026gt; 2047) output = 2047;","        if (output \u0026lt; -2047) output = -2047;","","        // Output result","        global signal[0] = output;","        global signal[1] = output;","","        // Show activity on LEDs","        global displayLEDs[0] = lfo_val \u0026lt;\u0026lt; 1;         // LFO position","        global displayLEDs[1] = coeff1 \u0026lt;\u0026lt; 1;          // All-pass coefficient","        global displayLEDs[2] = (feedback \u0026gt;\u0026gt; 2);      // Feedback amount","        global displayLEDs[3] = (mix \u0026gt;\u0026gt; 2);           // Mix level","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eAll-Pass Filtering\u003c/strong\u003e: Four all-pass filters in series with LFO-modulated coefficients create phase shifts without amplitude changes.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eLFO Modulation\u003c/strong\u003e: A triangle wave smoothly varies the all-pass filter coefficients, creating the characteristic sweep.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eFeedback Loop\u003c/strong\u003e: Adds resonance and intensity by feeding the all-pass output back to the input.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003ePhase Relationship\u003c/strong\u003e: All-pass filters maintain amplitude while shifting phase, creating the classic phaser \"notch\" effect when mixed with the original signal.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: LFO rate (faster = quicker sweeps)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: Modulation depth (higher = wider sweeps)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Feedback (higher = more resonance)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 4\u003c/strong\u003e: Dry/wet mix (blend original with phased)\u003c/li\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Slow, gentle phasing","params[0] = 64;   // Slow rate","params[1] = 128;  // Medium depth","params[2] = 64;   // Light feedback","params[3] = 128;  // 50% mix","","// Fast, dramatic phasing","params[0] = 200;  // Fast rate","params[1] = 200;  // Deep modulation","params[2] = 120;  // Moderate feedback (safer than 150)","params[3] = 180;  // Mostly wet","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eAdjust filter spacing\u003c/strong\u003e: Modify coefficient offsets (16, 32, 48) for different notch spacing\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDifferent LFO shapes\u003c/strong\u003e: Use sawtooth or sine waves for different sweep characters\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eStereo phasing\u003c/strong\u003e: Use different LFO phases for left/right channels\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTempo sync\u003c/strong\u003e: Sync LFO rate to musical timing\u003c/li\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003e[Chorus Effect](chorus-effect.md)\u003c/strong\u003e: Related modulation-based effect\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Basic Filter](../fundamentals/basic-filter.md)\u003c/strong\u003e: Filter implementation fundamentals\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-35\" class=\"doc-section\"\u003e","\u003ch1\u003e35. Compressor Basic\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/audio-effects/compressor-basic.md\u003c/div\u003e","","\u003ch2\u003eBasic Compressor\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eCreate dynamic range control with automatic level adjustment\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eAutomatically reduces the volume of loud signals while leaving quieter signals unchanged, creating more consistent levels. Essential for controlling dynamics in vocals, drums, and mix buses.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Parameters:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[0]\u003c/code\u003e: Threshold (0-255, level where compression starts)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[1]\u003c/code\u003e: Ratio (0-255, amount of compression)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[2]\u003c/code\u003e: Attack (0-255, how fast compression engages)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[3]\u003c/code\u003e: Release (0-255, how fast compression disengages)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e Envelope following, threshold detection, gain reduction, attack/release timing\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// Simple compressor state","global int envelope = 0         // Current envelope level","global int gain_reduction = 255 // Current gain reduction (255=no reduction, 0=max reduction)","","function process()","locals int threshold","locals int ratio","locals int attack","locals int release","locals int input_level","locals int target_gain","locals int output","locals int overage","locals int gain_reduction_amount","locals int attack_factor","locals int release_factor","{","    loop {","        // Read parameters","        threshold = ((int)global params[0] \u0026lt;\u0026lt; 2) + 256;   // 256-1276 range (within audio range)","        ratio = ((int)global params[1] \u0026gt;\u0026gt; 4) + 2;         // 2-17 ratio (reasonable compression range)","        attack = ((int)global params[2] \u0026gt;\u0026gt; 5) + 1;        // 1-8 attack speed","        release = ((int)global params[3] \u0026gt;\u0026gt; 5) + 1;       // 1-8 release speed","","        // Convert to proper envelope factors","        attack_factor = attack \u0026amp; 7;                       // Limit to 0-7 for reasonable response","        release_factor = release \u0026amp; 7;                     // Limit to 0-7 for reasonable response","","        // Get input level (absolute value of left channel)","        input_level = (int)global signal[0];","        if (input_level \u0026lt; 0) input_level = -input_level;","","        // Simple envelope follower with corrected attack/release behavior","        if (input_level \u0026gt; global envelope) {","            // Attack phase - follow rising signals (lower values = faster attack)","            global envelope = global envelope + ((input_level - global envelope) \u0026gt;\u0026gt; attack_factor);","        } else {","            // Release phase - follow falling signals (lower values = faster release)","            global envelope = global envelope + ((input_level - global envelope) \u0026gt;\u0026gt; release_factor);","        }","","        // Calculate gain reduction if above threshold","        if (global envelope \u0026gt; threshold) {","            // Calculate how much signal exceeds threshold","            overage = global envelope - threshold;","","            // Apply compression ratio using proper division approximation","            // For ratio N:1, reduce overage by factor of N","            gain_reduction_amount = overage - (overage / ratio);","","            // Calculate target gain (255=no reduction, lower=more reduction)","            // Scale gain_reduction_amount to 0-255 range","            target_gain = 255 - ((gain_reduction_amount \u0026lt;\u0026lt; 8) / overage);","            if (target_gain \u0026lt; 64) target_gain = 64;  // Limit maximum compression (75% max reduction)","        } else {","            target_gain = 255;  // No compression below threshold","        }","","        // Smooth gain changes with corrected attack/release logic","        if (target_gain \u0026lt; global gain_reduction) {","            // Increasing compression (gain reduction) - use attack time","            global gain_reduction = global gain_reduction - ((global gain_reduction - target_gain) \u0026gt;\u0026gt; attack_factor);","        } else {","            // Decreasing compression (gain recovery) - use release time","            global gain_reduction = global gain_reduction + ((target_gain - global gain_reduction) \u0026gt;\u0026gt; release_factor);","        }","","        // Apply compression to both channels","        int output_left = ((int)global signal[0] * global gain_reduction) \u0026gt;\u0026gt; 8;","        int output_right = ((int)global signal[1] * global gain_reduction) \u0026gt;\u0026gt; 8;","","        // Prevent clipping","        if (output_left \u0026gt; 2047) output_left = 2047;","        if (output_left \u0026lt; -2047) output_left = -2047;","        if (output_right \u0026gt; 2047) output_right = 2047;","        if (output_right \u0026lt; -2047) output_right = -2047;","","        // Output compressed audio (stereo processing)","        global signal[0] = output_left;","        global signal[1] = output_right;","","        // Show compression activity on LEDs","        global displayLEDs[0] = 255 - global gain_reduction;  // Gain reduction meter","        global displayLEDs[1] = global envelope \u0026gt;\u0026gt; 3;         // Input level meter","        global displayLEDs[2] = threshold \u0026gt;\u0026gt; 3;               // Threshold level","        global displayLEDs[3] = ratio \u0026lt;\u0026lt; 4;                   // Compression ratio","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEnvelope Following\u003c/strong\u003e: Tracks the input signal level using separate attack and release times.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eThreshold Detection\u003c/strong\u003e: When the envelope exceeds the threshold, compression is applied.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eRatio Control\u003c/strong\u003e: Determines how much compression is applied to signals above the threshold.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: Threshold (higher = less compression)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: Ratio (higher = more compression, 2:1 to 17:1 range)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Attack (higher = slower attack, 1-8 speed range)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 4\u003c/strong\u003e: Release (higher = slower release, 1-8 speed range)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eLED Feedback\u003c/strong\u003e: Shows gain reduction, input level, threshold setting, and compression ratio.\u003c/p\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Gentle vocal compression","params[0] = 180;  // High threshold","params[1] = 64;   // 8:1 ratio","params[2] = 32;   // Medium attack","params[3] = 128;  // Slow release","","// Drum compression","params[0] = 120;  // Lower threshold","params[1] = 96;   // 12:1 ratio","params[2] = 8;    // Fast attack","params[3] = 64;   // Medium release","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eStereo compression\u003c/strong\u003e: Process left and right channels separately\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMakeup gain\u003c/strong\u003e: Add parameter to boost output level after compression\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSoft knee\u003c/strong\u003e: Gradually apply compression around the threshold\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLimiter mode\u003c/strong\u003e: Set very high ratio for peak limiting\u003c/li\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003e[Gain and Volume](../fundamentals/gain-and-volume.md)\u003c/strong\u003e: Basic level control\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Envelope Basics](../fundamentals/envelope-basics.md)\u003c/strong\u003e: Envelope following fundamentals\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-36\" class=\"doc-section\"\u003e","\u003ch1\u003e36. Bitcrusher\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/audio-effects/bitcrusher.md\u003c/div\u003e","","\u003ch2\u003eBitcrusher\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eCreate digital distortion effects through bit depth reduction and sample rate downsampling\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eGenerates digital distortion by reducing the bit depth and sample rate of audio signals, creating characteristic lo-fi artifacts, digital stepping, and harmonic distortion. Perfect for vintage sampler emulation and modern digital textures.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Parameters:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[0]\u003c/code\u003e: Bit depth (0-255, controls quantization amount)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[1]\u003c/code\u003e: Sample rate reduction (0-255, hold factor)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[2]\u003c/code\u003e: Dry/wet mix (0-255, blend control)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[3]\u003c/code\u003e: Output gain (0-255, level compensation)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e Quantization distortion, sample-and-hold, digital artifacts, aliasing effects\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eCommon Settings:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Vintage sampler: moderate crushing with character","int vintage_bits = 180, vintage_rate = 60, vintage_mix = 200, vintage_gain = 220","","// Lo-fi texture: heavy digital artifacts","int lofi_bits = 100, lofi_rate = 120, lofi_mix = 180, lofi_gain = 240","","// Extreme digital: maximum destruction","int extreme_bits = 30, extreme_rate = 200, extreme_mix = 255, extreme_gain = 200","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// Simple bitcrusher state","global int hold_left = 0         // Held sample for left channel","global int hold_right = 0        // Held sample for right channel","global int hold_counter = 0      // Counter for sample rate reduction","","function process()","locals int bits","locals int rate_div","locals int mix","locals int gain","locals int crushed_left","locals int crushed_right","locals int shift_amount","locals int dry_left","locals int dry_right","locals int wet_left","locals int wet_right","locals int output_left","locals int output_right","{","    loop {","        // Read parameters","        bits = ((int)global params[0] \u0026gt;\u0026gt; 4) + 1;        // 1-16 effective bit depth","        rate_div = ((int)global params[1] \u0026gt;\u0026gt; 3) + 1;    // 1-32 rate division","        mix = (int)global params[2];                    // 0-255 dry/wet mix","        gain = ((int)global params[3] \u0026gt;\u0026gt; 1) + 64;       // 64-191 output gain","","        // Sample rate reduction (hold samples)","        global hold_counter = global hold_counter + 1;","        if (global hold_counter \u0026gt;= rate_div) {","            global hold_counter = 0;","            global hold_left = (int)global signal[0];","            global hold_right = (int)global signal[1];","        }","","        // Calculate bit reduction for 12-bit audio (-2047 to 2047)","        shift_amount = 12 - bits;                       // Amount to shift for quantization","        if (shift_amount \u0026lt; 0) shift_amount = 0;         // Prevent negative shifts","        if (shift_amount \u0026gt; 11) shift_amount = 11;       // Prevent excessive shifts","","        // Bit depth reduction through shift quantization","        crushed_left = (global hold_left \u0026gt;\u0026gt; shift_amount) \u0026lt;\u0026lt; shift_amount;","        crushed_right = (global hold_right \u0026gt;\u0026gt; shift_amount) \u0026lt;\u0026lt; shift_amount;","","        // Store dry signals","        dry_left = (int)global signal[0];","        dry_right = (int)global signal[1];","","        // Apply output gain to wet signals","        wet_left = (crushed_left * gain) \u0026gt;\u0026gt; 7;          // Apply gain with scaling","        wet_right = (crushed_right * gain) \u0026gt;\u0026gt; 7;","","        // Clip gained signals to valid range","        if (wet_left \u0026gt; 2047) wet_left = 2047;","        if (wet_left \u0026lt; -2047) wet_left = -2047;","        if (wet_right \u0026gt; 2047) wet_right = 2047;","        if (wet_right \u0026lt; -2047) wet_right = -2047;","","        // Mix dry and wet signals","        output_left = ((dry_left * (255 - mix)) + (wet_left * mix)) \u0026gt;\u0026gt; 8;","        output_right = ((dry_right * (255 - mix)) + (wet_right * mix)) \u0026gt;\u0026gt; 8;","","        // Output final mixed audio","        global signal[0] = output_left;","        global signal[1] = output_right;","","        // Show activity on LEDs with bounds checking","        global displayLEDs[0] = ((bits - 1) \u0026lt;\u0026lt; 4) \u0026amp; 255;      // Show effective bit depth","        global displayLEDs[1] = ((rate_div - 1) \u0026lt;\u0026lt; 3) \u0026amp; 255;  // Show rate reduction","        global displayLEDs[2] = mix;                          // Show dry/wet mix","        global displayLEDs[3] = (gain - 64) \u0026lt;\u0026lt; 1;             // Show output gain","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eBit Depth Reduction\u003c/strong\u003e: Uses right-shift quantization to reduce effective bit depth from 12-bit to 1-16 bits, creating digital stepping artifacts.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eSample Rate Reduction\u003c/strong\u003e: Holds samples for multiple cycles (1-32x), creating characteristic stepping and aliasing effects.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eDry/Wet Mixing\u003c/strong\u003e: Blends original signal with crushed signal for controlled intensity.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eOutput Gain\u003c/strong\u003e: Compensates for level changes caused by bit reduction and provides creative gain staging.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: Bit depth (1-16 effective bits)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: Sample rate reduction (1-32x)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Dry/wet mix (0% = clean, 100% = crushed)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 4\u003c/strong\u003e: Output gain (compensate for level changes)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eLED Feedback\u003c/strong\u003e: Shows bit depth, rate reduction, mix level, and output gain.\u003c/p\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Vintage lo-fi (moderate crushing)","params[0] = 128;  // 8-bit depth","params[1] = 64;   // 8x rate reduction","params[2] = 180;  // 70% wet mix","params[3] = 200;  // +6dB gain compensation","","// Extreme digital destruction","params[0] = 32;   // 2-bit depth","params[1] = 200;  // 25x rate reduction","params[2] = 255;  // 100% wet","params[3] = 255;  // Maximum gain","\u003c/code\u003e\u003c/pre\u003e","\u003c/section\u003e","","\u003csection id=\"section-37\" class=\"doc-section\"\u003e","\u003ch1\u003e37. Granular Synthesis\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/audio-effects/granular-synthesis.md\u003c/div\u003e","","\u003ch2\u003eGranular Synthesis\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eCreate textural effects by chopping audio into tiny grains and playing them back\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eCreates granular synthesis by capturing audio into a buffer and playing back small chunks (grains) with controllable position and size. Produces everything from subtle textures to dramatic time-stretching and glitched effects.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Parameters:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[0]\u003c/code\u003e: Grain size (20-100 samples, controls grain duration)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[1]\u003c/code\u003e: Playback position (0-255, where in buffer to read)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[2]\u003c/code\u003e: Grain trigger rate (0-255, how often new grains start)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[3]\u003c/code\u003e: Dry/wet mix (0-255, blend control)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e Circular buffering, grain windowing, position control, texture creation\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","extern native read              // Read from delay line memory","extern native write             // Write to delay line memory","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// Simple granular state","global array temp_buffer[2]     // Temporary buffer for memory operations","global int write_pos = 0        // Current write position","global int grain_pos = 0        // Current grain read position","global int grain_counter = 0    // Current position within grain","global int grain_trigger = 0    // Timer for grain triggering","const int BUFFER_SIZE = 2048    // Circular buffer size for granular processing","","function process()","locals int grain_size","locals int position","locals int trigger_rate","locals int mix","locals int grain_sample_l","locals int grain_sample_r","locals int output_l","locals int output_r","locals int envelope","locals int half_size","locals int read_pos","{","    loop {","        // Read parameters","        grain_size = ((int)global params[0] \u0026gt;\u0026gt; 2) + 20;  // 20-83 samples","        position = (int)global params[1];                // 0-255 position","        trigger_rate = ((int)global params[2] \u0026gt;\u0026gt; 3) + 1; // 1-32 rate","        mix = (int)global params[3];                     // 0-255 mix","","        // Safety bounds for grain size","        if (grain_size \u0026gt; 100) grain_size = 100;","        if (grain_size \u0026lt; 20) grain_size = 20;","","        // Write current input to buffer (left channel)","        global temp_buffer[0] = global signal[0];","        write(global write_pos, 1, global temp_buffer);","","        // Write current input to buffer (right channel at offset)","        global temp_buffer[0] = global signal[1];","        write(global write_pos + BUFFER_SIZE, 1, global temp_buffer);","","        // Trigger new grain?","        global grain_trigger = global grain_trigger + 1;","        if (global grain_trigger \u0026gt;= trigger_rate) {","            global grain_trigger = 0;","","            // Calculate grain start position based on parameter with safety bounds","            int offset = ((position * (BUFFER_SIZE \u0026gt;\u0026gt; 2)) \u0026gt;\u0026gt; 8) + grain_size;","            global grain_pos = (global write_pos - offset + BUFFER_SIZE) % BUFFER_SIZE;","            global grain_counter = 0;","        }","","        // Generate grain output","        if (global grain_counter \u0026lt; grain_size) {","            // Calculate safe read position with circular buffer wrapping","            read_pos = (global grain_pos + global grain_counter) % BUFFER_SIZE;","","            // Read grain sample from buffer (left channel)","            read(read_pos, 1, global temp_buffer);","            grain_sample_l = (int)global temp_buffer[0];","","            // Read grain sample from buffer (right channel)","            read(read_pos + BUFFER_SIZE, 1, global temp_buffer);","            grain_sample_r = (int)global temp_buffer[0];","","            // Simple envelope (triangle window for smooth edges)","            half_size = grain_size \u0026gt;\u0026gt; 1;","            if (half_size == 0) half_size = 1;  // Prevent division by zero","","            if (global grain_counter \u0026lt; half_size) {","                // Attack half: ramp up (0-255 range)","                envelope = (global grain_counter * 255) / half_size;","            } else {","                // Release half: ramp down (0-255 range)","                envelope = ((grain_size - global grain_counter) * 255) / half_size;","            }","","            // Apply envelope to grain samples","            grain_sample_l = (grain_sample_l * envelope) \u0026gt;\u0026gt; 8;","            grain_sample_r = (grain_sample_r * envelope) \u0026gt;\u0026gt; 8;","            global grain_counter = global grain_counter + 1;","        } else {","            grain_sample_l = 0;  // No grain playing","            grain_sample_r = 0;","        }","","        // Mix dry and wet signals (stereo processing)","        output_l = ((int)global signal[0] * (255 - mix) + grain_sample_l * mix) \u0026gt;\u0026gt; 8;","        output_r = ((int)global signal[1] * (255 - mix) + grain_sample_r * mix) \u0026gt;\u0026gt; 8;","","        // Prevent clipping","        if (output_l \u0026gt; 2047) output_l = 2047;","        if (output_l \u0026lt; -2047) output_l = -2047;","        if (output_r \u0026gt; 2047) output_r = 2047;","        if (output_r \u0026lt; -2047) output_r = -2047;","","        // Output stereo result","        global signal[0] = output_l;","        global signal[1] = output_r;","","        // Show activity on LEDs with proper scaling","        global displayLEDs[0] = (grain_size - 20) \u0026lt;\u0026lt; 2;    // Grain size (offset and scaled)","        global displayLEDs[1] = (global grain_counter \u0026lt;\u0026lt; 8) / grain_size;  // Grain progress (0-255)","        global displayLEDs[2] = position;                   // Position parameter","        global displayLEDs[3] = (mix \u0026gt;\u0026gt; 2);                 // Mix level","","        // Update write position with circular buffer wrapping","        global write_pos = (global write_pos + 1) % BUFFER_SIZE;","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eBuffer Capture\u003c/strong\u003e: Continuously writes incoming audio to a circular buffer using safe memory management with proper bounds checking.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eGrain Generation\u003c/strong\u003e: Periodically triggers new grains that read from different positions in the captured buffer using circular buffer arithmetic for safety.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eTriangle Envelope\u003c/strong\u003e: Uses a triangle window (0-255 range) to smooth grain edges and prevent clicks, with division-by-zero protection.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003ePosition Control\u003c/strong\u003e: Parameter controls where in the buffer grains are read from, creating time-stretch effects with safe memory addressing.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eStereo Processing\u003c/strong\u003e: Independent left and right channel processing maintains stereo image during granular synthesis.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: Grain size (larger = smoother, smaller = more granular)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: Read position (different timing relationships)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Trigger rate (faster = denser texture)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 4\u003c/strong\u003e: Dry/wet mix (blend original with granular)\u003c/li\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Smooth texture","params[0] = 200;  // Large grains","params[1] = 64;   // Slight delay","params[2] = 128;  // Medium rate","params[3] = 128;  // 50% mix","","// Glitchy texture","params[0] = 50;   // Small grains","params[1] = 200;  // Distant position","params[2] = 32;   // Fast triggers","params[3] = 200;  // Mostly wet","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eReverse grains\u003c/strong\u003e: Read grains backwards for different textures\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMultiple grain voices\u003c/strong\u003e: Layer 2-3 grains with different positions\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePitch shifting\u003c/strong\u003e: Change grain playback speed\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eStereo granular\u003c/strong\u003e: Different grain patterns for left/right channels\u003c/li\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003e[Make a Delay](make-a-delay.md)\u003c/strong\u003e: Buffer management fundamentals\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Circular Buffer Guide](../fundamentals/circular-buffer-guide.md)\u003c/strong\u003e: Buffer techniques\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-38\" class=\"doc-section\"\u003e","\u003ch1\u003e38. Pitch Shifter\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/audio-effects/pitch-shifter.md\u003c/div\u003e","","\u003ch2\u003ePitch Shifter\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eSimple pitch shifting using variable delay\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eCreates basic pitch shifting by using a variable delay line with modulated read speed. This creates pitch changes by reading the delay buffer faster (higher pitch) or slower (lower pitch), similar to changing tape speed.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Parameters:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[0]\u003c/code\u003e: Pitch shift (0-255, where 128 = no shift)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[1]\u003c/code\u003e: Buffer size (0-255, affects quality vs latency)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[2]\u003c/code\u003e: Smoothing (0-255, reduces glitches)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[3]\u003c/code\u003e: Dry/wet mix (0-255, blend control)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e Variable delay, read speed modulation, simple time-stretch, pitch-time relationship\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","extern native read              // Read from delay line memory","extern native write             // Write to delay line memory","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// Simple pitch shifter state","global array temp_buffer[2]     // Temporary buffer for memory operations","global int write_pos = 0        // Current write position","global int read_pos_frac = 0    // Fractional read position (16-bit fixed point)","global int last_sample_l = 0    // For smoothing left channel","global int last_sample_r = 0    // For smoothing right channel","const int MAX_BUFFER_SIZE = 4096 // Maximum delay buffer size","","function process()","locals int pitch_shift","locals int buffer_size","locals int smoothing","locals int mix","locals int pitch_speed","locals int new_read_pos","locals int current_sample_l","locals int current_sample_r","locals int smoothed_sample_l","locals int smoothed_sample_r","locals int output_l","locals int output_r","locals int smooth_factor","{","    loop {","        // Read parameters","        pitch_shift = (int)global params[0];             // 0-255 pitch control","        buffer_size = ((int)global params[1] \u0026gt;\u0026gt; 2) + 32; // 32-95 buffer size","        smoothing = ((int)global params[2] \u0026gt;\u0026gt; 3) + 1;    // 1-32 smoothing","        mix = (int)global params[3];                     // 0-255 dry/wet mix","","        // Safety bounds for buffer size","        if (buffer_size \u0026gt; 1000) buffer_size = 1000;","","        // Write current input to delay buffer (left channel)","        global temp_buffer[0] = global signal[0];","        write(global write_pos, 1, global temp_buffer);","","        // Write current input to delay buffer (right channel, offset location)","        global temp_buffer[0] = global signal[1];","        write(global write_pos + MAX_BUFFER_SIZE, 1, global temp_buffer);","","        // Calculate pitch shift speed (improved mapping)","        // Map 0-255 to 0.5x-2.0x speed range, with 128 = 1.0x (unity)","        if (pitch_shift \u0026lt; 128) {","            pitch_speed = 128 + (pitch_shift \u0026gt;\u0026gt; 1);  // 128-191 (0.5x-0.75x)","        } else {","            pitch_speed = 128 + ((pitch_shift - 128) \u0026lt;\u0026lt; 1);  // 128-384 (1.0x-2.0x)","        }","","        // Update fractional read position with proper overflow handling","        global read_pos_frac = (global read_pos_frac + pitch_speed) \u0026amp; 65535;","","        // Extract integer part for actual read position","        new_read_pos = global write_pos - (global read_pos_frac \u0026gt;\u0026gt; 8) - buffer_size;","","        // Handle negative wraparound for circular buffer","        while (new_read_pos \u0026lt; 0) {","            new_read_pos = new_read_pos + MAX_BUFFER_SIZE;","        }","","        // Read samples from delay buffer (left channel)","        read(new_read_pos, 1, global temp_buffer);","        current_sample_l = (int)global temp_buffer[0];","","        // Read samples from delay buffer (right channel)","        read(new_read_pos + MAX_BUFFER_SIZE, 1, global temp_buffer);","        current_sample_r = (int)global temp_buffer[0];","","        // Limit smoothing factor for reasonable range","        smooth_factor = smoothing \u0026amp; 7;  // Limit to 0-7 for reasonable smoothing","","        // Simple smoothing to reduce glitches (left channel)","        smoothed_sample_l = global last_sample_l + ((current_sample_l - global last_sample_l) \u0026gt;\u0026gt; smooth_factor);","        global last_sample_l = smoothed_sample_l;","","        // Simple smoothing to reduce glitches (right channel)","        smoothed_sample_r = global last_sample_r + ((current_sample_r - global last_sample_r) \u0026gt;\u0026gt; smooth_factor);","        global last_sample_r = smoothed_sample_r;","","        // Gradual correction when read position drifts too far","        int position_diff = global write_pos - new_read_pos;","        if (position_diff \u0026gt; (buffer_size + 100)) {","            // Gradually correct instead of hard reset","            global read_pos_frac = global read_pos_frac - 256;","        }","","        // Mix dry and wet signals (left channel)","        output_l = (((int)global signal[0] * (255 - mix)) + (smoothed_sample_l * mix)) \u0026gt;\u0026gt; 8;","","        // Mix dry and wet signals (right channel)","        output_r = (((int)global signal[1] * (255 - mix)) + (smoothed_sample_r * mix)) \u0026gt;\u0026gt; 8;","","        // Prevent clipping (left channel)","        if (output_l \u0026gt; 2047) output_l = 2047;","        if (output_l \u0026lt; -2047) output_l = -2047;","","        // Prevent clipping (right channel)","        if (output_r \u0026gt; 2047) output_r = 2047;","        if (output_r \u0026lt; -2047) output_r = -2047;","","        // Output stereo result","        global signal[0] = output_l;","        global signal[1] = output_r;","","        // Show activity on LEDs with proper scaling","        global displayLEDs[0] = pitch_shift;                    // Pitch control","        global displayLEDs[1] = (global read_pos_frac \u0026gt;\u0026gt; 8);    // Read position (high byte)","        global displayLEDs[2] = (buffer_size - 32) \u0026lt;\u0026lt; 2;       // Buffer size (offset and scaled)","        global displayLEDs[3] = (mix \u0026gt;\u0026gt; 2);                    // Mix level","","        // Update write position with circular buffer wrapping","        global write_pos = (global write_pos + 1) % MAX_BUFFER_SIZE;","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eVariable Delay\u003c/strong\u003e: Uses a delay buffer with a variable read position that moves at different speeds.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003ePitch Speed Control\u003c/strong\u003e: Reading faster creates higher pitch, reading slower creates lower pitch.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eFractional Positioning\u003c/strong\u003e: Uses fixed-point arithmetic for smooth read position changes.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eSimple Smoothing\u003c/strong\u003e: Reduces glitches by interpolating between samples.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: Pitch shift (128 = normal, \u0026lt;128 = lower, \u0026gt;128 = higher)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: Buffer size (larger = better quality, more latency)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Smoothing (higher = smoother but less responsive, limited to reasonable range)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 4\u003c/strong\u003e: Dry/wet mix (blend original with pitch-shifted)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eStereo Processing\u003c/strong\u003e: Left and right channels processed independently for true stereo pitch shifting.\u003c/p\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Octave up","params[0] = 200;  // Fast read speed","params[1] = 128;  // Medium buffer","params[2] = 64;   // Some smoothing","params[3] = 200;  // Mostly wet","","// Octave down","params[0] = 64;   // Slow read speed","params[1] = 180;  // Large buffer","params[2] = 128;  // More smoothing","params[3] = 180;  // Mostly wet","","// Subtle detuning","params[0] = 140;  // Slightly fast","params[1] = 64;   // Small buffer","params[2] = 32;   // Light smoothing","params[3] = 128;  // 50% mix","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eLimitations \u0026 Improvements\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eCurrent Limitations\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eTime stretching (pitch affects duration)\u003c/li\u003e","\u003cli\u003ePeriodic glitches at buffer boundaries\u003c/li\u003e","\u003cli\u003eLimited pitch range before artifacts\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003ePossible Improvements\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eWindowing\u003c/strong\u003e: Add crossfading between buffer regions\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eInterpolation\u003c/strong\u003e: Better sample interpolation for smoother results\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMultiple voices\u003c/strong\u003e: Overlap multiple delay lines for artifact reduction\u003c/li\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eStereo pitch\u003c/strong\u003e: Different pitch amounts for left/right channels\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLFO modulation\u003c/strong\u003e: Slowly vary pitch for vibrato effects\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eHarmonic pitch\u003c/strong\u003e: Add multiple pitch-shifted voices for chord effects\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFeedback\u003c/strong\u003e: Add some output back to input for resonance\u003c/li\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003e[Make a Delay](make-a-delay.md)\u003c/strong\u003e: Delay buffer fundamentals\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Chorus Effect](chorus-effect.md)\u003c/strong\u003e: Similar modulated delay concepts\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-39\" class=\"doc-section\"\u003e","\u003ch1\u003e39. Multi Band Compressor\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/audio-effects/multi-band-compressor.md\u003c/div\u003e","","\u003ch2\u003eMulti-Band Compressor\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eSplit audio into frequency bands and compress each independently\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eCreates a simple 2-band compressor that splits audio into low and high frequencies and applies different compression to each band. This allows for more precise dynamic control - for example, compressing bass heavily while leaving highs untouched.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Parameters:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[0]\u003c/code\u003e: Low band threshold (0-255, bass compression level)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[1]\u003c/code\u003e: High band threshold (0-255, treble compression level)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[2]\u003c/code\u003e: Crossover frequency (0-255, where to split bass/treble)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[3]\u003c/code\u003e: Output gain (0-255, level compensation)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e Frequency splitting, independent compression, band recombination\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// Simple multi-band state","global int low_envelope = 0     // Low band envelope","global int high_envelope = 0    // High band envelope","global int low_gain = 255       // Low band gain reduction","global int high_gain = 255      // High band gain reduction","global int filter_state = 0     // Simple filter state","","function process()","locals int crossover, int low_thresh, int high_thresh, int output_gain, int input, int low_band, int high_band, int compressed_low, int compressed_high, int output, int low_level, int high_level, int overage, int target_gain","{","    loop {","        // Read parameters","        low_thresh = ((int)global params[0] \u0026lt;\u0026lt; 3) + 512;    // 512-2560 range","        high_thresh = ((int)global params[1] \u0026lt;\u0026lt; 3) + 512;   // 512-2560 range","        crossover = ((int)global params[2] \u0026gt;\u0026gt; 4) + 1;       // 1-16 filter strength","        output_gain = ((int)global params[3] \u0026gt;\u0026gt; 1) + 128;   // 128-255 gain","","        input = (int)global signal[0];","","        // Simple frequency splitting using one-pole filters","        // Low band: low-pass filter (keeps bass)","        global filter_state = global filter_state + ((input - global filter_state) \u0026gt;\u0026gt; crossover);","        low_band = global filter_state;","","        // High band: subtract low from input (keeps treble)","        high_band = input - low_band;","","        // Simple envelope followers for each band","        low_level = low_band;","        if (low_level \u0026lt; 0) low_level = -low_level;","        if (low_level \u0026gt; global low_envelope) {","            global low_envelope = global low_envelope + ((low_level - global low_envelope) \u0026gt;\u0026gt; 2);","        } else {","            global low_envelope = global low_envelope + ((low_level - global low_envelope) \u0026gt;\u0026gt; 4);","        }","","        high_level = high_band;","        if (high_level \u0026lt; 0) high_level = -high_level;","        if (high_level \u0026gt; global high_envelope) {","            global high_envelope = global high_envelope + ((high_level - global high_envelope) \u0026gt;\u0026gt; 2);","        } else {","            global high_envelope = global high_envelope + ((high_level - global high_envelope) \u0026gt;\u0026gt; 4);","        }","","        // Calculate gain reduction for low band","        if (global low_envelope \u0026gt; low_thresh) {","            overage = global low_envelope - low_thresh;","            target_gain = 255 - (overage \u0026gt;\u0026gt; 3);  // Simple 8:1 ratio","            if (target_gain \u0026lt; 128) target_gain = 128;","","            if (target_gain \u0026lt; global low_gain) {","                global low_gain = global low_gain - ((global low_gain - target_gain) \u0026gt;\u0026gt; 2);","            } else {","                global low_gain = global low_gain + ((target_gain - global low_gain) \u0026gt;\u0026gt; 4);","            }","        } else {","            global low_gain = global low_gain + ((255 - global low_gain) \u0026gt;\u0026gt; 4);","        }","","        // Calculate gain reduction for high band","        if (global high_envelope \u0026gt; high_thresh) {","            overage = global high_envelope - high_thresh;","            target_gain = 255 - (overage \u0026gt;\u0026gt; 3);  // Simple 8:1 ratio","            if (target_gain \u0026lt; 128) target_gain = 128;","","            if (target_gain \u0026lt; global high_gain) {","                global high_gain = global high_gain - ((global high_gain - target_gain) \u0026gt;\u0026gt; 2);","            } else {","                global high_gain = global high_gain + ((target_gain - global high_gain) \u0026gt;\u0026gt; 4);","            }","        } else {","            global high_gain = global high_gain + ((255 - global high_gain) \u0026gt;\u0026gt; 4);","        }","","        // Apply compression to each band","        compressed_low = (low_band * global low_gain) \u0026gt;\u0026gt; 8;","        compressed_high = (high_band * global high_gain) \u0026gt;\u0026gt; 8;","","        // Recombine bands","        output = compressed_low + compressed_high;","","        // Apply output gain","        output = (output * output_gain) \u0026gt;\u0026gt; 8;","","        // Prevent clipping","        if (output \u0026gt; 2047) output = 2047;","        if (output \u0026lt; -2047) output = -2047;","","        // Output result","        global signal[0] = output;","        global signal[1] = output;","","        // Show compression activity on LEDs","        global displayLEDs[0] = 255 - global low_gain;   // Low band gain reduction","        global displayLEDs[1] = 255 - global high_gain;  // High band gain reduction","        global displayLEDs[2] = global low_envelope \u0026gt;\u0026gt; 3; // Low band level","        global displayLEDs[3] = global high_envelope \u0026gt;\u0026gt; 3; // High band level","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eFrequency Splitting\u003c/strong\u003e: Uses a simple one-pole low-pass filter to separate bass from treble.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eIndependent Compression\u003c/strong\u003e: Each band has its own envelope follower and gain reduction.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eBand Recombination\u003c/strong\u003e: Compressed bands are simply added back together.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: Low band threshold (higher = less bass compression)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: High band threshold (higher = less treble compression)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Crossover frequency (higher = more bass in low band)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 4\u003c/strong\u003e: Output gain (compensate for compression)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eLED Feedback\u003c/strong\u003e: Shows gain reduction and levels for both bands.\u003c/p\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Heavy bass compression, light treble","params[0] = 100;  // Low threshold","params[1] = 200;  // High threshold","params[2] = 128;  // Medium crossover","params[3] = 180;  // Some makeup gain","","// Gentle overall compression","params[0] = 180;  // High low threshold","params[1] = 180;  // High high threshold","params[2] = 128;  // Medium crossover","params[3] = 160;  // Light makeup gain","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eThree-band\u003c/strong\u003e: Add a mid-band between low and high\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDifferent ratios\u003c/strong\u003e: Use different compression ratios for each band\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eStereo processing\u003c/strong\u003e: Process left and right channels independently\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eBetter crossovers\u003c/strong\u003e: Implement steeper filter slopes\u003c/li\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003e[Basic Compressor](compressor-basic.md)\u003c/strong\u003e: Single-band compression fundamentals\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Basic Filter](../fundamentals/basic-filter.md)\u003c/strong\u003e: Filter implementation basics\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-40\" class=\"doc-section\"\u003e","\u003ch1\u003e40. Reverb Simple\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/user-guides/cookbook/audio-effects/reverb-simple.md\u003c/div\u003e","","\u003ch2\u003eSimple Reverb\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eCreate spacious reverb effects using delay and feedback\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eWhat This Does\u003c/h3\u003e","","\u003cp\u003eCreates basic reverb by using multiple delay lines with feedback to simulate the sound of audio bouncing around a room. Produces everything from subtle room ambience to dramatic hall reverberation.\u003c/p\u003e","","\u003ch3\u003eQuick Reference\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eEssential Parameters:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[0]\u003c/code\u003e: Room size (0-255, delay time)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[1]\u003c/code\u003e: Decay time (0-255, how long reverb lasts)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[2]\u003c/code\u003e: Damping (0-255, high frequency rolloff)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eparams[3]\u003c/code\u003e: Dry/wet mix (0-255, blend control)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concepts:\u003c/strong\u003e Multiple delays, feedback loops, frequency damping, spatial simulation\u003c/p\u003e","","\u003ch3\u003eComplete Code\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","extern native read              // Read from delay line memory","extern native write             // Write to delay line memory","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// Simple reverb state","global array temp_buffer[2]     // Temporary buffer for memory operations","global int write_pos1 = 0       // Write position for first delay","global int write_pos2 = 100     // Write position for second delay (offset)","global int write_pos3 = 200     // Write position for third delay (offset)","global int damping_state = 0    // Simple damping filter state","","function process()","locals int room_size, int decay, int damping, int mix, int delay1_time, int delay2_time, int delay3_time, int delayed1, int delayed2, int delayed3, int reverb_sum, int reverb_out, int output, int new_reverb","{","    loop {","        // Read parameters","        room_size = ((int)global params[0] \u0026gt;\u0026gt; 2) + 10;   // 10-73 delay range","        decay = ((int)global params[1] \u0026gt;\u0026gt; 1) + 64;       // 64-191 feedback amount","        damping = ((int)global params[2] \u0026gt;\u0026gt; 4) + 1;      // 1-16 damping strength","        mix = (int)global params[3];                     // 0-255 dry/wet mix","","        // Calculate delay times (different for each delay line)","        delay1_time = room_size;","        delay2_time = room_size + 17;  // Prime number offset","        delay3_time = room_size + 31;  // Different prime offset","","        // Read from first delay line","        read(global write_pos1 - delay1_time, 1, global temp_buffer);","        delayed1 = (int)global temp_buffer[0];","","        // Read from second delay line","        read(global write_pos2 - delay2_time, 1, global temp_buffer);","        delayed2 = (int)global temp_buffer[0];","","        // Read from third delay line","        read(global write_pos3 - delay3_time, 1, global temp_buffer);","        delayed3 = (int)global temp_buffer[0];","","        // Sum delayed signals for reverb","        reverb_sum = (delayed1 + delayed2 + delayed3) / 3;","","        // Simple damping filter (reduces high frequencies over time)","        global damping_state = global damping_state + ((reverb_sum - global damping_state) \u0026gt;\u0026gt; damping);","        reverb_out = global damping_state;","","        // Add input and feedback to create new reverb content","        new_reverb = (int)global signal[0] + ((reverb_out * decay) \u0026gt;\u0026gt; 8);","","        // Prevent runaway feedback","        if (new_reverb \u0026gt; 2047) new_reverb = 2047;","        if (new_reverb \u0026lt; -2047) new_reverb = -2047;","","        // Write new reverb to all delay lines (with slight variations)","        global temp_buffer[0] = new_reverb;","        global temp_buffer[1] = new_reverb;","        write(global write_pos1, 1, global temp_buffer);","","        global temp_buffer[0] = new_reverb + (delayed2 \u0026gt;\u0026gt; 4);  // Cross-couple","        write(global write_pos2, 1, global temp_buffer);","","        global temp_buffer[0] = new_reverb - (delayed1 \u0026gt;\u0026gt; 4);  // Cross-couple opposite","        write(global write_pos3, 1, global temp_buffer);","","        // Mix dry and wet signals","        output = (((int)global signal[0] * (255 - mix)) + (reverb_out * mix)) \u0026gt;\u0026gt; 8;","","        // Prevent clipping","        if (output \u0026gt; 2047) output = 2047;","        if (output \u0026lt; -2047) output = -2047;","","        // Output result","        global signal[0] = output;","        global signal[1] = output;","","        // Show activity on LEDs","        global displayLEDs[0] = room_size \u0026lt;\u0026lt; 2;","        global displayLEDs[1] = (decay - 64) \u0026lt;\u0026lt; 2;","        global displayLEDs[2] = (reverb_out \u0026gt;\u0026gt; 3) + 128;  // Show reverb level","        global displayLEDs[3] = (mix \u0026gt;\u0026gt; 2);","","        // Update write positions","        global write_pos1 = global write_pos1 + 1;","        global write_pos2 = global write_pos2 + 1;","        global write_pos3 = global write_pos3 + 1;","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHow It Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eMultiple Delay Lines\u003c/strong\u003e: Three delay lines with different lengths create complex echo patterns.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eFeedback Control\u003c/strong\u003e: The decay parameter controls how much of the reverb feeds back, determining reverb length.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eCross-Coupling\u003c/strong\u003e: Delay lines feed into each other slightly, creating more complex reverb texture.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eSimple Damping\u003c/strong\u003e: A low-pass filter reduces high frequencies over time, simulating natural absorption.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eKnob 1\u003c/strong\u003e: Room size (larger = longer delays, bigger space feel)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 2\u003c/strong\u003e: Decay time (higher = longer reverb tail)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 3\u003c/strong\u003e: Damping (higher = darker, more natural sound)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnob 4\u003c/strong\u003e: Dry/wet mix (blend original with reverb)\u003c/li\u003e","","\u003ch3\u003eTry These Settings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Small room","params[0] = 64;   // Small size","params[1] = 128;  // Medium decay","params[2] = 128;  // Some damping","params[3] = 100;  // Subtle mix","","// Large hall","params[0] = 200;  // Large size","params[1] = 200;  // Long decay","params[2] = 64;   // Light damping","params[3] = 150;  // More noticeable","","// Ambient space","params[0] = 255;  // Maximum size","params[1] = 240;  // Very long decay","params[2] = 180;  // Heavy damping","params[3] = 180;  // Mostly wet","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eTry These Changes\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eEarly reflections\u003c/strong\u003e: Add a fourth delay line with very short delay for room reflections\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eStereo reverb\u003c/strong\u003e: Use different delay times for left and right channels\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eModulation\u003c/strong\u003e: Slightly vary delay times with LFO for chorus-like movement\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMultiple rooms\u003c/strong\u003e: Switch between different delay time sets\u003c/li\u003e","","\u003ch3\u003eHow Reverb Works\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eNatural Reverb\u003c/strong\u003e: When sound is produced in a space, it bounces off walls, ceiling, and objects, creating thousands of echoes that blend together.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eDigital Simulation\u003c/strong\u003e: We approximate this with several delay lines that simulate different path lengths the sound takes bouncing around the room.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eFeedback\u003c/strong\u003e: Each bounce is slightly quieter, which we simulate by feeding some output back to the input with reduced volume.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eFrequency Response\u003c/strong\u003e: High frequencies are absorbed more than low frequencies, which we simulate with the damping filter.\u003c/p\u003e","","\u003ch3\u003eRelated Techniques\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003e[Make a Delay](make-a-delay.md)\u003c/strong\u003e: Basic delay fundamentals\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Basic Filter](../fundamentals/basic-filter.md)\u003c/strong\u003e: Filtering for damping\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003ePart of the [Permut8 Cookbook](../index.md) series\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-41\" class=\"doc-section\"\u003e","\u003ch1\u003e41. Optimization Basics\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/performance/optimization-basics.md\u003c/div\u003e","","\u003ch2\u003eOptimization Basics: The 80/20 Guide for Permut8 Performance\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","","\u003cp\u003eWhen developing firmware for Permut8, understanding optimization principles can mean the difference between smooth real-time performance and audio dropouts. This guide focuses on the 80/20 rule: the 20% of optimization techniques that deliver 80% of the performance gains.\u003c/p\u003e","","\u003cp\u003ePermut8's constrained environment demands efficient code, but premature optimization can waste development time. This guide helps you identify where to focus your optimization efforts for maximum impact.\u003c/p\u003e","","\u003ch3\u003eThe Optimization Mindset\u003c/h3\u003e","","\u003ch4\u003ePerformance First, Optimization Second\u003c/h4\u003e","","\u003cp\u003eThe most important optimization principle: \u003cstrong\u003ewrite correct code first, then optimize\u003c/strong\u003e. Permut8's real-time constraints are strict, but buggy optimized code is worse than slightly slower correct code.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Bad: Premature optimization that introduces bugs","function process() {","    // Complex unrolled loop with edge case bugs","    global signal[0] = ((global params[0] * 3547) \u0026gt;\u0026gt; 12) + global offset; // Magic numbers!","}","","// Good: Clear, correct code ready for optimization","function process()","locals int gain","{","    gain = global params[0] \u0026gt;\u0026gt; 4;  // Divide by 16 for scaling","    global signal[0] = global input * gain + global offset;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMeasure Before Optimizing\u003c/h4\u003e","","\u003cp\u003ePermut8 provides timing information through the development environment. Always profile your code to identify actual bottlenecks rather than assumed ones.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eKey Performance Indicators:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eCPU Usage\u003c/strong\u003e: Target \u0026lt;80% for stable real-time performance\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMemory Usage\u003c/strong\u003e: Stay within allocated buffers\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTiming Consistency\u003c/strong\u003e: Avoid irregular processing spikes\u003c/li\u003e","","\u003ch4\u003eThe 80/20 Optimization Hierarchy\u003c/h4\u003e","","\u003cp\u003eFocus optimization efforts in this order:\u003c/p\u003e","","\u003cp\u003e1. \u003cstrong\u003eAlgorithm Choice\u003c/strong\u003e (80% impact) - Choose efficient algorithms\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eMemory Access Patterns\u003c/strong\u003e (15% impact) - Optimize data flow\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eArithmetic Optimization\u003c/strong\u003e (4% impact) - Efficient math operations\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eMicro-optimizations\u003c/strong\u003e (1% impact) - Assembly tweaks\u003c/p\u003e","","\u003ch3\u003eAlgorithm-Level Optimization (80% Impact)\u003c/h3\u003e","","\u003ch4\u003eChoose the Right Algorithm\u003c/h4\u003e","","\u003cp\u003eThe algorithm you choose has more performance impact than any other optimization. For Permut8's real-time constraints, algorithmic efficiency is paramount.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eExample: Filter Design Choices\u003c/strong\u003e\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Expensive: Convolution reverb (O(n虏))","function convolution_reverb(input) returns int","locals int output, int i","{","    output = 0;","    for (i = 0 to global impulse_length - 1) {","        output = output + (global input_buffer[i] * global impulse_response[i] \u0026gt;\u0026gt; 8);","    }","    return output;","}","","// Efficient: IIR filter (O(1))","function iir_filter(input) returns int","locals int output","{","    output = (global a0 * input + global a1 * global x1 + global a2 * global x2","              - global b1 * global y1 - global b2 * global y2) \u0026gt;\u0026gt; 8;","    global x2 = global x1;","    global x1 = input;","    global y2 = global y1;","    global y1 = output;","    return output;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eAlgorithmic Complexity Considerations\u003c/h4\u003e","","\u003cp\u003eFor real-time audio, prefer algorithms with:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eO(1)\u003c/strong\u003e constant time - Perfect for real-time\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eO(log n)\u003c/strong\u003e logarithmic time - Usually acceptable\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eO(n)\u003c/strong\u003e linear time - Use carefully, minimize n\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eO(n虏)\u003c/strong\u003e quadratic time - Avoid in real-time processing\u003c/li\u003e","","\u003ch4\u003eApproximate vs. Exact Algorithms\u003c/h4\u003e","","\u003cp\u003eOften, approximate algorithms provide sufficient quality with much better performance:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Exact but expensive: Full precision sine calculation","function precise_sine(phase) returns int","{","    // Use expensive floating point sine (not available in basic Impala)","    return sine(phase * 6283 \u0026gt;\u0026gt; 10);  // 2*PI approximation","}","","// Approximate but fast: Linear interpolation table lookup","function fast_sine(phase) returns int","locals int table_index, int fraction, int current, int next","{","    table_index = (phase * SINE_TABLE_SIZE) \u0026gt;\u0026gt; 16;","    fraction = ((phase * SINE_TABLE_SIZE) \u0026gt;\u0026gt; 8) \u0026amp; 255;","    current = global SINE_TABLE[table_index];","    next = global SINE_TABLE[(table_index + 1) % SINE_TABLE_SIZE];","    return current + ((next - current) * fraction \u0026gt;\u0026gt; 8);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMemory Access Optimization (15% Impact)\u003c/h3\u003e","","\u003ch4\u003eSequential Access Patterns\u003c/h4\u003e","","\u003cp\u003ePermut8's memory architecture favors sequential access. Design your data structures and algorithms to access memory sequentially whenever possible.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Bad: Random memory access","function process_scattered()","locals int i, int index","{","    for (i = 0 to BUFFER_SIZE - 1) {","        index = global random_indices[i];","        global signal[i] = process_sample(global input_buffer[index]);","    }","}","","// Good: Sequential memory access","function process_sequential()","locals int i","{","    for (i = 0 to BUFFER_SIZE - 1) {","        global signal[i] = process_sample(global input_buffer[i]);","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eCache-Friendly Data Structures\u003c/h4\u003e","","\u003cp\u003eOrganize data to maximize cache efficiency:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Cache-unfriendly: Mixed data access patterns","// Impala uses global arrays instead of structs","global array delay_buffer[MAX_DELAY]","global int delay_write_pos = 0","global int delay_read_pos = 0","global int delay_feedback = 128","","// Cache-friendly: Separate arrays for bulk processing","// Structure of arrays approach in Impala","global array delay_buffers[NUM_DELAYS * MAX_DELAY]  // Flattened 2D array","global array delay_write_positions[NUM_DELAYS]","global array delay_read_positions[NUM_DELAYS]","global array delay_feedbacks[NUM_DELAYS]","","// Access pattern for optimized delay bank","function get_delay_buffer_sample(delay_index, sample_offset) returns int","{","    return global delay_buffers[delay_index * MAX_DELAY + sample_offset];","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMemory Pool Management\u003c/h4\u003e","","\u003cp\u003ePre-allocate buffers and reuse them to avoid dynamic allocation:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Global buffer pool - Impala approach","global array temp_buffers[4 * BUFFER_SIZE]  // Flattened 2D array","global array buffer_usage[4]  // 0 = free, 1 = used","","function get_temp_buffer() returns int","locals int i","{","    for (i = 0 to 3) {","        if (global buffer_usage[i] == 0) {","            global buffer_usage[i] = 1;","            return i;  // Return buffer index","        }","    }","    return -1;  // No buffer available","}","","function return_temp_buffer(index)","{","    if (index \u0026gt;= 0 \u0026amp;\u0026amp; index \u0026lt; 4) {","        global buffer_usage[index] = 0;","    }","}","","// Access temp buffer sample","function get_temp_buffer_sample(buffer_index, sample_index) returns int","{","    return global temp_buffers[buffer_index * BUFFER_SIZE + sample_index];","}","","function set_temp_buffer_sample(buffer_index, sample_index, value)","{","    global temp_buffers[buffer_index * BUFFER_SIZE + sample_index] = value;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eArithmetic Optimization (4% Impact)\u003c/h3\u003e","","\u003ch4\u003eFixed-Point Arithmetic\u003c/h4\u003e","","\u003cp\u003eFor operations that don't require full floating-point precision, fixed-point arithmetic can be significantly faster:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Fixed-point gain control (Q15 format)","function apply_gain_fixed(input, gain_q15) returns int","locals int result","{","    result = (input * gain_q15) \u0026gt;\u0026gt; 15;","    return result;","}","","// Integer equivalent for Impala","function apply_gain_integer(input, gain) returns int","locals int result","{","    result = (input * gain) \u0026gt;\u0026gt; 8;  // Assume 8-bit gain scaling","    return result;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eEfficient Math Operations\u003c/h4\u003e","","\u003cp\u003eReplace expensive operations with cheaper alternatives where possible:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Expensive division","function expensive_normalize(value, max) returns int","{","    return value / max;  // Division is slow","}","","// Cheaper multiplication by reciprocal (pre-calculate reciprocal)","function cheap_normalize(value, max_reciprocal) returns int","{","    return (value * max_reciprocal) \u0026gt;\u0026gt; 16;  // Fixed-point multiplication","}","","// Even cheaper: bit shifts for powers of 2","function power_of_two_divide(value, shift) returns int","{","    return value \u0026gt;\u0026gt; shift;  // Equivalent to value / (2^shift)","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eVector Operations\u003c/h4\u003e","","\u003cp\u003eWhen processing multiple samples, consider vectorized operations:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Scalar processing","function apply_gain_scalar(buffer_size, gain)","locals int i","{","    for (i = 0 to buffer_size - 1) {","        global audio_buffer[i] = (global audio_buffer[i] * gain) \u0026gt;\u0026gt; 8;","    }","}","","// Vectorized processing (unrolled loop)","function apply_gain_vectorized(buffer_size, gain)","locals int i","{","    i = 0;","    while (i + 4 \u0026lt;= buffer_size) {","        global audio_buffer[i] = (global audio_buffer[i] * gain) \u0026gt;\u0026gt; 8;","        global audio_buffer[i + 1] = (global audio_buffer[i + 1] * gain) \u0026gt;\u0026gt; 8;","        global audio_buffer[i + 2] = (global audio_buffer[i + 2] * gain) \u0026gt;\u0026gt; 8;","        global audio_buffer[i + 3] = (global audio_buffer[i + 3] * gain) \u0026gt;\u0026gt; 8;","        i = i + 4;","    }","    // Handle remaining samples","    while (i \u0026lt; buffer_size) {","        global audio_buffer[i] = (global audio_buffer[i] * gain) \u0026gt;\u0026gt; 8;","        i = i + 1;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePermut8-Specific Optimizations\u003c/h3\u003e","","\u003ch4\u003eExploit Hardware Features\u003c/h4\u003e","","\u003cp\u003ePermut8's DSP hardware provides specific optimizations you should leverage:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Use Impala native functions for optimized operations","function optimized_filter(input) returns int","locals int output, int coeff","{","    coeff = global filter_coefficient;","    // Impala doesn't support inline assembly, use efficient integer math","    output = (input * coeff) \u0026gt;\u0026gt; 8;  // Multiply-accumulate equivalent","    return output;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eParameter Update Optimization\u003c/h4\u003e","","\u003cp\u003eDon't recalculate expensive parameter-derived values every sample:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Bad: Expensive calculation every sample","function process_sample(input) returns int","locals int cutoff_freq, int q, int filter_coeff","{","    cutoff_freq = (global params[CUTOFF] * SAMPLE_RATE) \u0026gt;\u0026gt; 1;","    q = global params[RESONANCE] * 10 + 128;  // Fixed-point math","    filter_coeff = calculate_filter_coeffs(cutoff_freq, q);","    return apply_filter(input, filter_coeff);","}","","// Good: Update coefficients only when parameters change","global int cached_coeff = 0","global array last_params[2]","","function process_sample_optimized(input) returns int","locals int cutoff_freq, int q","{","    if (global params[CUTOFF] != global last_params[0] ||","        global params[RESONANCE] != global last_params[1]) {","        cutoff_freq = (global params[CUTOFF] * SAMPLE_RATE) \u0026gt;\u0026gt; 1;","        q = global params[RESONANCE] * 10 + 128;","        global cached_coeff = calculate_filter_coeffs(cutoff_freq, q);","        global last_params[0] = global params[CUTOFF];","        global last_params[1] = global params[RESONANCE];","    }","    return apply_filter(input, global cached_coeff);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eBuffer Size Optimization\u003c/h4\u003e","","\u003cp\u003eChoose buffer sizes that work well with Permut8's architecture:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Align buffer sizes to cache line boundaries","const int OPTIMAL_BUFFER_SIZE = 64   // Matches cache line size","const int DELAY_BUFFER_SIZE = 1024   // Power of 2 for efficient indexing","","// Use power-of-2 sizes for circular buffers","function circular_buffer_write(value)","locals int new_pos","{","    global circular_buffer[global write_pos] = value;","    new_pos = (global write_pos + 1) \u0026amp; (DELAY_BUFFER_SIZE - 1);  // Fast modulo for power-of-2","    global write_pos = new_pos;","}","","function circular_buffer_read() returns int","locals int value, int new_pos","{","    value = global circular_buffer[global read_pos];","    new_pos = (global read_pos + 1) \u0026amp; (DELAY_BUFFER_SIZE - 1);","    global read_pos = new_pos;","    return value;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eAssembly-Level Optimization (1% Impact)\u003c/h3\u003e","","\u003ch4\u003eWhen to Use Assembly\u003c/h4\u003e","","\u003cp\u003eReserve assembly optimization for proven bottlenecks that can't be optimized at higher levels:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Example: Optimized inner loop for filter processing","filter_loop:    FUNC","                PARA *0","    $input:     LOCi","    $output:    LOCi","    $i:         LOCi","","    MOVi $i #0",".loop:","    PEEK $input \u0026amp;input_buffer:$i     ; Load input sample","    MULi %0 $input \u0026amp;coeff_a0         ; Multiply with coefficient","    ADDi $output $output %0          ; Accumulate","    MULi %0 \u0026amp;state1 \u0026amp;coeff_a1        ; Continue MAC operations","    ADDi $output $output %0","    POKE \u0026amp;output_buffer:$i $output   ; Store result","    ADDi $i $i #1                    ; Increment counter","    LEQi $i #BUFFER_SIZE @.loop      ; Loop if not done","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eAssembly Best Practices\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003eProfile First\u003c/strong\u003e: Verify the bottleneck before writing assembly\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eKeep It Simple\u003c/strong\u003e: Complex assembly is hard to debug and maintain\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eDocument Thoroughly\u003c/strong\u003e: Assembly code needs extensive comments\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eTest Extensively\u003c/strong\u003e: Assembly bugs are particularly nasty\u003c/p\u003e","","\u003ch3\u003ePerformance Measurement and Profiling\u003c/h3\u003e","","\u003ch4\u003eTiming Your Code\u003c/h4\u003e","","\u003cp\u003eUse Permut8's built-in timing facilities to measure performance:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function benchmark_function()","locals int start_time, int end_time, int cycles_used","{","    start_time = global clock;  // Use system clock","","    // Your code here","    expensive_operation();","","    end_time = global clock;","    cycles_used = end_time - start_time;","","    // Log timing information","    if (DEBUG) {","        trace(\"Function took cycles: \");","        trace(intToString(cycles_used, 10, 1, global debug_buffer));","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003ePerformance Testing Framework\u003c/h4\u003e","","\u003cp\u003eCreate a systematic approach to performance testing:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Performance testing framework - Impala approach","global array test_names[8 * 32]  // 8 tests, 32 chars each (flattened)","global array test_iterations[8]","global array test_total_cycles[8]","global int current_test_count = 0","","function create_performance_test(iterations)","locals int test_index","{","    test_index = global current_test_count;","    global test_iterations[test_index] = iterations;","    global test_total_cycles[test_index] = 0;","    global current_test_count = global current_test_count + 1;","    return test_index;","}","","function run_performance_test(test_index)","locals int i, int start_time, int end_time","{","    for (i = 0 to global test_iterations[test_index] - 1) {","        start_time = global clock;","        expensive_operation();  // Test function goes here","        end_time = global clock;","        global test_total_cycles[test_index] = global test_total_cycles[test_index] +","                                               (end_time - start_time);","    }","}","","function report_performance_test(test_index)","locals int avg_cycles","{","    avg_cycles = global test_total_cycles[test_index] / global test_iterations[test_index];","    if (DEBUG) {","        trace(\"Test cycles/iteration: \");","        trace(intToString(avg_cycles, 10, 1, global debug_buffer));","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMemory Usage Monitoring\u003c/h4\u003e","","\u003cp\u003eTrack memory usage to prevent overruns:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function check_memory_usage()","locals int buffer_usage, int param_usage","{","    // Impala uses static memory allocation, check buffer usage","    buffer_usage = global buffer_write_pos;  // Current buffer position","    param_usage = global param_update_count; // Parameter update frequency","","    if (buffer_usage \u0026gt; BUFFER_WARNING_THRESHOLD) {","        if (DEBUG) {","            trace(\"Warning: High buffer usage\");","        }","    }","","    if (param_usage \u0026gt; PARAM_WARNING_THRESHOLD) {","        if (DEBUG) {","            trace(\"Warning: High parameter update rate\");","        }","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eCommon Optimization Pitfalls\u003c/h3\u003e","","\u003ch4\u003ePremature Optimization\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: Optimizing code before identifying actual bottlenecks\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSolution\u003c/strong\u003e: Profile first, optimize second\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Don't do this without profiling first","function premature_optimization()","locals int result, int value","{","    value = global input_sample;","    // Complex bit-twiddling to save a few cycles","    result = ((value \u0026lt;\u0026lt; 3) + (value \u0026lt;\u0026lt; 1)) \u0026gt;\u0026gt; 2; // value * 10 / 4","    global output_sample = result;","}","","// Do this: Clear, correct code first","function clear_code()","locals int result, int value","{","    value = global input_sample;","    result = (value * 5) \u0026gt;\u0026gt; 1;  // Clear intent: value * 2.5 in fixed-point","    global output_sample = result;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eOver-Optimization\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: Optimizing code that's already fast enough\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSolution\u003c/strong\u003e: Focus on actual bottlenecks that impact user experience\u003c/p\u003e","","\u003ch4\u003eOptimization at Wrong Level\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: Micro-optimizing when algorithmic changes would be more effective\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSolution\u003c/strong\u003e: Follow the 80/20 hierarchy\u003c/p\u003e","","\u003ch4\u003eBreaking Code Correctness\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: Introducing bugs through aggressive optimization\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSolution\u003c/strong\u003e: Extensive testing of optimized code\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Dangerous: Fast but potentially incorrect","function unsafe_fast_function(input) returns int","locals int index","{","    // Assumes input is always positive, skips bounds checking","    index = input;  // Direct cast without bounds checking","    return global LOOKUP_TABLE[index];  // Could access out of bounds!","}","","// Safe: Slightly slower but correct","function safe_function(input) returns int","locals int index","{","    // Clamp input to valid range","    if (input \u0026lt; 0) {","        index = 0;","    } else if (input \u0026gt;= LOOKUP_TABLE_SIZE) {","        index = LOOKUP_TABLE_SIZE - 1;","    } else {","        index = input;","    }","    return global LOOKUP_TABLE[index];","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eReal-World Optimization Examples\u003c/h3\u003e","","\u003ch4\u003eExample 1: Oscillator Optimization\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Before optimization: Expensive trigonometric calculation","global int slow_oscillator_phase = 0","global int slow_oscillator_frequency = 1000","","function slow_oscillator_next_sample() returns int","locals int output","{","    // Expensive sine calculation (not available in basic Impala)","    output = sine((global slow_oscillator_phase * 6283) \u0026gt;\u0026gt; 16);  // 2*PI approximation","    global slow_oscillator_phase = global slow_oscillator_phase +","                                   (global slow_oscillator_frequency * 65536 / SAMPLE_RATE);","    if (global slow_oscillator_phase \u0026gt;= 65536) {","        global slow_oscillator_phase = global slow_oscillator_phase - 65536;","    }","    return output;","}","","// After optimization: Table lookup with interpolation","global int fast_oscillator_phase_accumulator = 0","global int fast_oscillator_frequency_word = 1000","","function fast_oscillator_next_sample() returns int","locals int table_index, int fraction, int current, int next, int result","{","    table_index = global fast_oscillator_phase_accumulator \u0026gt;\u0026gt; (32 - SINE_TABLE_BITS);","    fraction = (global fast_oscillator_phase_accumulator \u0026gt;\u0026gt; (32 - SINE_TABLE_BITS - 8)) \u0026amp; 255;","","    current = global SINE_TABLE[table_index];","    next = global SINE_TABLE[(table_index + 1) \u0026amp; SINE_TABLE_MASK];","","    global fast_oscillator_phase_accumulator = global fast_oscillator_phase_accumulator +","                                                global fast_oscillator_frequency_word;","","    result = current + ((next - current) * fraction \u0026gt;\u0026gt; 8);","    return result;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eExample 2: Filter Bank Optimization\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Before: Individual filter processing","global array filter_states[NUM_FILTERS * 4]  // 4 states per filter","global array filter_coeffs[NUM_FILTERS * 5]  // 5 coeffs per filter","","function process_filter_bank_slow(input) returns int","locals int output, int filter, int state_offset, int coeff_offset","{","    output = input;","    for (filter = 0 to NUM_FILTERS - 1) {","        state_offset = filter * 4;","        coeff_offset = filter * 5;","        output = process_single_filter(output, state_offset, coeff_offset);","    }","    return output;","}","","// After: Vectorized processing with loop unrolling","function process_filter_bank_fast(input) returns int","locals int y, int x1, int x2, int y1, int y2","{","    y = input;","","    // Unroll filter processing for better performance - Filter 0","    x1 = global filter_states[1];  // x1[0]","    x2 = global filter_states[2];  // x2[0]","    y1 = global filter_states[3];  // y1[0]","    y2 = global filter_states[4];  // y2[0]","","    y = ((global filter_coeffs[0] * y + global filter_coeffs[1] * x1 +","          global filter_coeffs[2] * x2 - global filter_coeffs[3] * y1 -","          global filter_coeffs[4] * y2) \u0026gt;\u0026gt; 8);","","    global filter_states[2] = x1;  // x2[0] = x1[0]","    global filter_states[1] = input;  // x1[0] = input","    global filter_states[4] = y1;  // y2[0] = y1[0]","    global filter_states[3] = y;   // y1[0] = y","","    // Additional filter stages would be unrolled here...","","    return y;","}","","function process_single_filter(input, state_offset, coeff_offset) returns int","locals int output","{","    output = ((global filter_coeffs[coeff_offset] * input +","               global filter_coeffs[coeff_offset + 1] * global filter_states[state_offset + 1] +","               global filter_coeffs[coeff_offset + 2] * global filter_states[state_offset + 2] -","               global filter_coeffs[coeff_offset + 3] * global filter_states[state_offset + 3] -","               global filter_coeffs[coeff_offset + 4] * global filter_states[state_offset + 4]) \u0026gt;\u0026gt; 8);","","    // Update filter state","    global filter_states[state_offset + 2] = global filter_states[state_offset + 1];","    global filter_states[state_offset + 1] = input;","    global filter_states[state_offset + 4] = global filter_states[state_offset + 3];","    global filter_states[state_offset + 3] = output;","","    return output;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eOptimization Checklist\u003c/h3\u003e","","\u003ch4\u003eBefore You Start\u003c/h4\u003e","\u003cli\u003e[ ] Profile your code to identify actual bottlenecks\u003c/li\u003e","\u003cli\u003e[ ] Ensure your code is correct and tested\u003c/li\u003e","\u003cli\u003e[ ] Set performance targets based on real requirements\u003c/li\u003e","\u003cli\u003e[ ] Document current performance baseline\u003c/li\u003e","","\u003ch4\u003eAlgorithm Level (High Impact)\u003c/h4\u003e","\u003cli\u003e[ ] Choose appropriate algorithms for real-time constraints\u003c/li\u003e","\u003cli\u003e[ ] Consider approximate algorithms for non-critical calculations\u003c/li\u003e","\u003cli\u003e[ ] Minimize algorithmic complexity in hot paths\u003c/li\u003e","\u003cli\u003e[ ] Cache expensive calculations when possible\u003c/li\u003e","","\u003ch4\u003eMemory Level (Medium Impact)\u003c/h4\u003e","\u003cli\u003e[ ] Optimize memory access patterns for sequential access\u003c/li\u003e","\u003cli\u003e[ ] Align data structures to cache boundaries\u003c/li\u003e","\u003cli\u003e[ ] Use memory pools to avoid dynamic allocation\u003c/li\u003e","\u003cli\u003e[ ] Minimize memory footprint of hot data structures\u003c/li\u003e","","\u003ch4\u003eArithmetic Level (Low Impact)\u003c/h4\u003e","\u003cli\u003e[ ] Use fixed-point arithmetic where appropriate\u003c/li\u003e","\u003cli\u003e[ ] Replace divisions with multiplications when possible\u003c/li\u003e","\u003cli\u003e[ ] Utilize bit shifts for power-of-2 operations\u003c/li\u003e","\u003cli\u003e[ ] Consider lookup tables for expensive functions\u003c/li\u003e","","\u003ch4\u003eAssembly Level (Very Low Impact)\u003c/h4\u003e","\u003cli\u003e[ ] Only optimize proven bottlenecks\u003c/li\u003e","\u003cli\u003e[ ] Keep assembly code simple and well-documented\u003c/li\u003e","\u003cli\u003e[ ] Test assembly optimizations thoroughly\u003c/li\u003e","\u003cli\u003e[ ] Maintain fallback implementations\u003c/li\u003e","","\u003ch4\u003eVerification\u003c/h4\u003e","\u003cli\u003e[ ] Verify optimized code produces correct results\u003c/li\u003e","\u003cli\u003e[ ] Measure actual performance improvement\u003c/li\u003e","\u003cli\u003e[ ] Test edge cases and error conditions\u003c/li\u003e","\u003cli\u003e[ ] Document optimization techniques used\u003c/li\u003e","","\u003ch3\u003eConclusion\u003c/h3\u003e","","\u003cp\u003eEffective optimization for Permut8 follows the 80/20 principle: focus on algorithmic choices and memory access patterns for the biggest performance gains. The key is to measure first, optimize systematically, and maintain code correctness throughout the process.\u003c/p\u003e","","\u003cp\u003eRemember that the best optimization is often choosing the right algorithm from the start. Micro-optimizations have their place, but they should never come at the expense of code clarity and correctness unless absolutely necessary.\u003c/p\u003e","","\u003cp\u003eBy following these principles and focusing your optimization efforts where they matter most, you can achieve excellent real-time performance on Permut8 while maintaining clean, maintainable code.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-42\" class=\"doc-section\"\u003e","\u003ch1\u003e42. Memory Patterns\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/performance/memory-patterns.md\u003c/div\u003e","","\u003ch2\u003eMemory Patterns - Cache-Friendly Data Access Strategies\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","","\u003cp\u003eMemory access patterns dramatically impact DSP performance due to CPU cache behavior. Sequential access patterns maximize cache hits, while random access causes expensive cache misses. Understanding and optimizing memory layouts can improve performance by 200-500% without changing algorithmic complexity.\u003c/p\u003e","","\u003ch3\u003eCache Performance Impact\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eCache-unfriendly patterns\u003c/strong\u003e create performance bottlenecks:\u003c/p\u003e","\u003cli\u003eRandom memory access: 100-300 CPU cycles per miss\u003c/li\u003e","\u003cli\u003eStrided access with large gaps: 50-150 cycles\u003c/li\u003e","\u003cli\u003eFrequent pointer chasing: 20-100 cycles per hop\u003c/li\u003e","\u003cli\u003ePoor spatial locality: Wastes cache line bandwidth\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCache-friendly patterns\u003c/strong\u003e maximize performance:\u003c/p\u003e","\u003cli\u003eSequential access: 1-3 CPU cycles per access\u003c/li\u003e","\u003cli\u003eSmall stride access: 2-5 cycles\u003c/li\u003e","\u003cli\u003eData structure alignment: Optimal cache utilization\u003c/li\u003e","\u003cli\u003ePrefetching opportunities: Predictable access patterns\u003c/li\u003e","","\u003ch3\u003eSequential Access Patterns\u003c/h3\u003e","","\u003ch4\u003eBefore: Poor Memory Access\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Bad: random access pattern destroys cache performance","function operate1()","locals int i, int delay_length, int read_pos, int delayed_sample, int output","{","    delay_length = global params[0] * 10;  // 0-1000 samples","","    for (i = 0 to BLOCK_SIZE - 1) {","        // Random access to delay buffer - cache miss likely","        read_pos = (global write_pos - delay_length) \u0026amp; DELAY_MASK;","        delayed_sample = global delay_buffer[read_pos];","","        output = global signal[i] + (delayed_sample \u0026gt;\u0026gt; 1);  // Divide by 2 instead of * 0.5","        global delay_buffer[global write_pos] = output;","","        global signal[i] = output;","        global write_pos = (global write_pos + 1) \u0026amp; DELAY_MASK;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eAfter: Cache-Friendly Sequential Access\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Good: process in blocks to maintain cache locality","function operate1_optimized()","locals int delay_length, int feedback, int block, int end, int read_start, int i","locals int read_pos, int delayed, int output","{","    delay_length = global params[0] * 10;","    feedback = global params[1] / 100;  // Integer division instead of * 0.01","","    // Process samples in cache-sized chunks","    block = 0;","    while (block \u0026lt; BLOCK_SIZE) {","        end = block + 32;","        if (end \u0026gt; BLOCK_SIZE) {","            end = BLOCK_SIZE;","        }","","        // Sequential read from delay buffer","        read_start = (global write_pos - delay_length) \u0026amp; DELAY_MASK;","","        for (i = block to end - 1) {","            // Sequential access improves cache hit rate","            read_pos = (read_start + (i - block)) \u0026amp; DELAY_MASK;","            delayed = global delay_buffer[read_pos];","","            output = global signal[i] + (delayed * feedback \u0026gt;\u0026gt; 8);  // Fixed-point multiplication","            global delay_buffer[global write_pos] = output;","","            global signal[i] = output;","            global write_pos = (global write_pos + 1) \u0026amp; DELAY_MASK;","        }","","        block = block + 32;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eData Structure Optimization\u003c/h3\u003e","","\u003ch4\u003eArray of Structures vs Structure of Arrays\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Poor cache usage: Array of Structures (AoS) - Impala approach","// Impala doesn't have structs, so simulate with grouped arrays","global array filter_data[8 * 9]  // 8 filters * 9 values each (x1,x2,y1,y2,a1,a2,b0,b1,b2)","","// Bad: accessing scattered data causes cache misses","function operate2_aos()","locals int i, int f, int y, int filter_offset","{","    for (i = 0 to BLOCK_SIZE - 1) {","        for (f = 0 to 7) {","            filter_offset = f * 9;","            // Each access loads scattered struct data, wastes cache bandwidth","            y = (global filter_data[filter_offset + 6] * global signal[i] +     // b0","                 global filter_data[filter_offset + 7] * global filter_data[filter_offset + 0] +  // b1 * x1","                 global filter_data[filter_offset + 8] * global filter_data[filter_offset + 1] -  // b2 * x2","                 global filter_data[filter_offset + 4] * global filter_data[filter_offset + 2] -  // a1 * y1","                 global filter_data[filter_offset + 5] * global filter_data[filter_offset + 3]) \u0026gt;\u0026gt; 8;  // a2 * y2","        }","    }","}","","// Better cache usage: Structure of Arrays (SoA) - Impala approach","global array x1[8]      // Input histories grouped","global array x2[8]","global array y1[8]      // Output histories grouped","global array y2[8]","global array a1[8]      // Coefficients grouped","global array a2[8]","global array b0[8]","global array b1[8]","global array b2[8]","global array y_temp[8]  // Temporary output array","","// Good: sequential access to same data type","function operate2_soa()","locals int i, int f, int input","{","    for (i = 0 to BLOCK_SIZE - 1) {","        input = global signal[i];","","        // Process all filters with same coefficient type sequentially","        for (f = 0 to 7) {","            global y_temp[f] = (global b0[f] * input +","                               global b1[f] * global x1[f] +","                               global b2[f] * global x2[f] -","                               global a1[f] * global y1[f] -","                               global a2[f] * global y2[f]) \u0026gt;\u0026gt; 8;","        }","","        // Update all histories sequentially","        for (f = 0 to 7) {","            global x2[f] = global x1[f];","            global x1[f] = input;","            global y2[f] = global y1[f];","            global y1[f] = global y_temp[f];","        }","","        global signal[i] = global y_temp[0];  // Use first filter output","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eBuffer Management Strategies\u003c/h3\u003e","","\u003ch4\u003eCircular Buffer Optimization\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Cache-friendly circular buffer design","const int BUFFER_SIZE = 1024     // Power of 2 for efficient masking","const int BUFFER_MASK = 1023     // Efficient modulo operation","","global array audio_buffer[BUFFER_SIZE]","global int read_ptr = 0","global int write_ptr = 512        // Half-buffer offset for delay","","// Optimized buffer access with prefetching","function operate1_buffered()","locals int chunk_size, int chunk, int next_read, int i, int chunk_end","locals int delayed","{","    chunk_size = 16;    // Process in cache-line sized chunks","","    chunk = 0;","    while (chunk \u0026lt; BLOCK_SIZE) {","        // Calculate chunk end","        chunk_end = chunk + chunk_size;","        if (chunk_end \u0026gt; BLOCK_SIZE) {","            chunk_end = BLOCK_SIZE;","        }","","        // Prefetch next chunk of data (hint to CPU - not directly available in Impala)","        next_read = (global read_ptr + chunk_size) \u0026amp; BUFFER_MASK;","        // Note: Actual prefetching would be handled by compiler optimization","","        // Process current chunk sequentially","        for (i = chunk to chunk_end - 1) {","            // Sequential reads maximize cache efficiency","            delayed = global audio_buffer[global read_ptr];","            global audio_buffer[global write_ptr] = global signal[i];","","            global signal[i] = (global signal[i] + delayed) \u0026gt;\u0026gt; 1;","","            global read_ptr = (global read_ptr + 1) \u0026amp; BUFFER_MASK;","            global write_ptr = (global write_ptr + 1) \u0026amp; BUFFER_MASK;","        }","","        chunk = chunk + chunk_size;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMemory Pool for Dynamic Allocation\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Pre-allocated memory pool to avoid fragmentation","const int POOL_SIZE = 4096","global array memory_pool[POOL_SIZE]","global int pool_offset = 0","","// Allocate from pool in sequential chunks","function allocateFromPool(size) returns int","locals int ptr_offset","{","    if (global pool_offset + size \u0026gt; POOL_SIZE) {","        global pool_offset = 0;  // Reset to beginning (circular pool)","    }","","    ptr_offset = global pool_offset;","    global pool_offset = global pool_offset + size;","    return ptr_offset;  // Return offset into memory pool","}","","// Example: allocate temporary buffers with good locality","function operate2_pooled()","locals int temp_buffer1_offset, int temp_buffer2_offset, int i","{","    temp_buffer1_offset = allocateFromPool(BLOCK_SIZE);","    temp_buffer2_offset = allocateFromPool(BLOCK_SIZE);","","    // Both buffers are adjacent in memory - excellent cache behavior","    for (i = 0 to BLOCK_SIZE - 1) {","        global memory_pool[temp_buffer1_offset + i] = (global signal[i] * global params[0]) \u0026gt;\u0026gt; 8;","        global memory_pool[temp_buffer2_offset + i] = applyFilter(global memory_pool[temp_buffer1_offset + i]);","        global signal[i] = global memory_pool[temp_buffer2_offset + i];","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eReal-World Example: Multi-Tap Delay\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Cache-optimized multi-tap delay with grouped operations","const int TAP_COUNT = 4","global array delay_buffer[2048]","global array tap_positions[TAP_COUNT]  // Initialized with: 100, 250, 500, 1000","global array tap_gains[TAP_COUNT]      // Initialized with: 204, 153, 102, 51 (0.8, 0.6, 0.4, 0.2 * 255)","global array positions[1]              // Current write position","","function operate1_multitap()","locals int write_pos, int i, int dry_signal, int wet_sum, int tap, int read_pos","{","    write_pos = global positions[0];  // Current write position","","    // Initialize tap positions and gains if not done","    if (global tap_positions[0] == 0) {","        global tap_positions[0] = 100;","        global tap_positions[1] = 250;","        global tap_positions[2] = 500;","        global tap_positions[3] = 1000;","        global tap_gains[0] = 204;  // 0.8 * 255","        global tap_gains[1] = 153;  // 0.6 * 255","        global tap_gains[2] = 102;  // 0.4 * 255","        global tap_gains[3] = 51;   // 0.2 * 255","    }","","    // Process all taps for each sample (better cache locality than tap-by-tap)","    for (i = 0 to BLOCK_SIZE - 1) {","        dry_signal = global signal[i];","        wet_sum = 0;","","        // Read all taps sequentially for current sample","        for (tap = 0 to TAP_COUNT - 1) {","            read_pos = (write_pos - global tap_positions[tap]) \u0026amp; 2047;","            wet_sum = wet_sum + ((global delay_buffer[read_pos] * global tap_gains[tap]) \u0026gt;\u0026gt; 8);","        }","","        // Write new sample to delay buffer","        global delay_buffer[write_pos] = dry_signal;","","        // Mix dry and wet signals","        global signal[i] = dry_signal + (wet_sum \u0026gt;\u0026gt; 2);  // Divide by 4","","        write_pos = (write_pos + 1) \u0026amp; 2047;","    }","","    global positions[0] = write_pos;  // Store updated position","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePerformance Guidelines\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eOptimize for sequential access:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003eProcess arrays from start to finish\u003c/li\u003e","\u003cli\u003eAvoid large strides between accesses\u003c/li\u003e","\u003cli\u003eGroup similar operations together\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eData structure design:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003eUse Structure of Arrays for parallel processing\u003c/li\u003e","\u003cli\u003eAlign data to cache line boundaries (32-64 bytes)\u003c/li\u003e","\u003cli\u003eKeep frequently accessed data together\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eBuffer management:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003eUse power-of-2 sizes for efficient modulo operations\u003c/li\u003e","\u003cli\u003eImplement circular buffers with proper masking\u003c/li\u003e","\u003cli\u003ePre-allocate from memory pools to avoid fragmentation\u003c/li\u003e","","\u003cp\u003eCache-friendly memory patterns typically improve performance by 200-500% through better CPU cache utilization, with the largest gains seen in algorithms that process large data sets or use complex data structures.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-43\" class=\"doc-section\"\u003e","\u003ch1\u003e43. Lookup Tables\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/performance/lookup-tables.md\u003c/div\u003e","","\u003ch2\u003eLookup Tables - Pre-Computed Optimization Techniques\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","","\u003cp\u003eLookup tables (LUTs) replace expensive runtime calculations with pre-computed values stored in memory. This technique transforms costly mathematical operations into simple memory reads, dramatically improving performance for functions that can be approximated or have limited input ranges.\u003c/p\u003e","","\u003ch3\u003ePerformance Impact\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eRuntime calculations\u003c/strong\u003e create processing bottlenecks:\u003c/p\u003e","\u003cli\u003eTrigonometric functions: 50-200 CPU cycles\u003c/li\u003e","\u003cli\u003eLogarithmic operations: 30-100 CPU cycles\u003c/li\u003e","\u003cli\u003ePower/exponential functions: 40-150 CPU cycles\u003c/li\u003e","\u003cli\u003eNon-linear transformations: 20-80 CPU cycles\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eLookup tables\u003c/strong\u003e deliver immediate benefits:\u003c/p\u003e","\u003cli\u003eMemory read: 1-3 CPU cycles\u003c/li\u003e","\u003cli\u003e10-50x performance improvement for complex functions\u003c/li\u003e","\u003cli\u003eDeterministic execution time\u003c/li\u003e","\u003cli\u003eReduced CPU load for other processing\u003c/li\u003e","","\u003ch3\u003eBasic Lookup Table Pattern\u003c/h3\u003e","","\u003ch4\u003eBefore: Runtime Calculation\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Expensive: calculates sine wave every sample","global float osc_phase = 0.0;","","function operate1() {","    float frequency = params[0] * 0.01; // 0-100 Hz","","    int i = 0;","    loop {","        if (i \u0026gt;= BLOCK_SIZE) break;","        osc_phase = osc_phase + frequency * TWO_PI / SAMPLE_RATE;","        signal[i] = sine(osc_phase) * 2000; // Expensive operation!","        i = i + 1;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eAfter: Sine Wave Lookup Table\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Pre-computed sine wave table (global scope)","global int SINE_TABLE_SIZE = 1024;","global array sine_table[1024];","global int lut_phase = 0;","","// Initialize once at startup","function initializeSineTable() {","    int i = 0;","    loop {","        if (i \u0026gt;= SINE_TABLE_SIZE) break;","        float angle = (i * TWO_PI) / SINE_TABLE_SIZE;","        sine_table[i] = sine(angle) * 2000;","        i = i + 1;","    }","}","","// Fast: table lookup every sample","function operate1() {","    float frequency = params[0] * 0.01;","    int phase_increment = (frequency * SINE_TABLE_SIZE) / SAMPLE_RATE;","","    int i = 0;","    loop {","        if (i \u0026gt;= BLOCK_SIZE) break;","        int table_index = lut_phase \u0026gt;\u0026gt; PHASE_FRACTIONAL_BITS;","        signal[i] = sine_table[table_index \u0026amp; (SINE_TABLE_SIZE - 1)];","        lut_phase = lut_phase + phase_increment;","        i = i + 1;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eAdvanced Lookup Techniques\u003c/h3\u003e","","\u003ch4\u003eInterpolated Lookup Tables\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Higher quality with linear interpolation","global int WAVE_TABLE_SIZE = 512;","global array wavetable[512];","","// Linear interpolation for smoother output","function interpolatedLookup(int phase) returns int result {","    int index = phase \u0026gt;\u0026gt; 16;                    // Integer part","    int fraction = phase \u0026amp; 0xFFFF;              // Fractional part","","    int sample1 = wavetable[index \u0026amp; (WAVE_TABLE_SIZE - 1)];","    int sample2 = wavetable[(index + 1) \u0026amp; (WAVE_TABLE_SIZE - 1)];","","    // Linear interpolation","    result = sample1 + ((sample2 - sample1) * fraction \u0026gt;\u0026gt; 16);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eSaturation/Waveshaping Table\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Pre-computed distortion curve","global int SATURATION_TABLE_SIZE = 2048;","global array saturation_table[2048];","","function initializeSaturationTable() {","    int i = 0;","    loop {","        if (i \u0026gt;= SATURATION_TABLE_SIZE) break;","        // Input range: -2047 to +2047","        int input = (i - SATURATION_TABLE_SIZE/2) * 4;","","        int output;","        // Soft clipping formula","        if (input \u0026gt; 1500) {","            output = 1500 + (input - 1500) * 0.3;","        } else if (input \u0026lt; -1500) {","            output = -1500 + (input + 1500) * 0.3;","        } else {","            output = input;","        }","","        saturation_table[i] = clamp(output, -2047, 2047);","        i = i + 1;","    }","}","","// Ultra-fast saturation processing","function operate2() {","    int i = 0;","    loop {","        if (i \u0026gt;= BLOCK_SIZE) break;","        // Convert signal to table index (0 to SATURATION_TABLE_SIZE-1)","        int index = (signal[i] + 2047) \u0026gt;\u0026gt; 1;","        signal[i] = saturation_table[clamp(index, 0, SATURATION_TABLE_SIZE-1)];","        i = i + 1;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMemory-Efficient Multi-Function Tables\u003c/h3\u003e","","\u003ch4\u003eCombined Waveform Table\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Multiple waveforms in single table","global int WAVEFORMS = 4;      // Sine, Triangle, Saw, Square","global int TABLE_SIZE = 256;","global int TOTAL_TABLE_SIZE = 1024;  // WAVEFORMS * TABLE_SIZE","global array wave_table[1024];","global int multi_phase = 0;","","function initializeWaveTable() {","    int wave = 0;","    loop {","        if (wave \u0026gt;= WAVEFORMS) break;","        int offset = wave * TABLE_SIZE;","","        int i = 0;","        loop {","            if (i \u0026gt;= TABLE_SIZE) break;","            float phase = (i * TWO_PI) / TABLE_SIZE;","","            if (wave == 0) {","                wave_table[offset + i] = sine(phase) * 2000;      // Sine","            } else if (wave == 1) {","                wave_table[offset + i] = triangleWave(phase);    // Triangle","            } else if (wave == 2) {","                wave_table[offset + i] = sawWave(phase);         // Sawtooth","            } else if (wave == 3) {","                wave_table[offset + i] = squareWave(phase);      // Square","            }","            i = i + 1;","        }","        wave = wave + 1;","    }","}","","// Fast waveform switching","function operate1() {","    int waveform = params[0] \u0026gt;\u0026gt; 5;  // 0-3 waveform selection","    int table_offset = waveform * TABLE_SIZE;","","    int i = 0;","    loop {","        if (i \u0026gt;= BLOCK_SIZE) break;","        int index = (multi_phase \u0026gt;\u0026gt; 8) \u0026amp; (TABLE_SIZE - 1);","        signal[i] = wave_table[table_offset + index];","        multi_phase = multi_phase + frequency_increment;","        i = i + 1;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eReal-World Example: Exponential Envelope\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Exponential decay lookup for envelopes","global int ENVELOPE_TABLE_SIZE = 1024;","global array envelope_table[1024];","global int envelope_phase = 0;","global int gate_triggered = 0;","","function initializeEnvelopeTable() {","    int i = 0;","    loop {","        if (i \u0026gt;= ENVELOPE_TABLE_SIZE) break;","        // Exponential decay: e^(-x)","        float t = i / ENVELOPE_TABLE_SIZE;","        envelope_table[i] = exp(-t * 8) * 2047; // 8x decay rate","        i = i + 1;","    }","}","","// Fast envelope processing","function operate2() {","    int attack_time = params[0] * 10;   // 0-1000ms attack","    int decay_time = params[1] * 10;    // 0-1000ms decay","","    int i = 0;","    loop {","        if (i \u0026gt;= BLOCK_SIZE) break;","        if (gate_triggered != 0) {","            envelope_phase = 0;","        }","","        int envelope;","        if (envelope_phase \u0026lt; attack_time) {","            // Linear attack","            envelope = (envelope_phase * 2047) / attack_time;","        } else {","            // Exponential decay via lookup","            int decay_phase = envelope_phase - attack_time;","            int table_index = (decay_phase * ENVELOPE_TABLE_SIZE) / decay_time;","            envelope = envelope_table[clamp(table_index, 0, ENVELOPE_TABLE_SIZE-1)];","        }","","        signal[i] = (signal[i] * envelope) \u0026gt;\u0026gt; 11; // Apply envelope","        envelope_phase = envelope_phase + 1;","        i = i + 1;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eImplementation Guidelines\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eOptimal table sizes:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003ePowers of 2 (256, 512, 1024) for efficient indexing\u003c/li\u003e","\u003cli\u003eBalance memory usage vs. accuracy\u003c/li\u003e","\u003cli\u003e8-bit tables for rough approximations\u003c/li\u003e","\u003cli\u003e16-bit tables for high-quality audio\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eBest candidates for lookup tables:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003ePeriodic functions (sine, triangle, sawtooth)\u003c/li\u003e","\u003cli\u003eNon-linear transformations (saturation, compression)\u003c/li\u003e","\u003cli\u003eEnvelope shapes (exponential, logarithmic)\u003c/li\u003e","\u003cli\u003eFilter coefficient calculations\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eMemory considerations:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003eStore tables in program memory when possible\u003c/li\u003e","\u003cli\u003eUse shared tables for common functions\u003c/li\u003e","\u003cli\u003eConsider table compression for space-critical applications\u003c/li\u003e","","\u003cp\u003eLookup tables typically provide 10-50x performance improvements for mathematical functions while using minimal additional memory (1-4KB for most audio applications).\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-44\" class=\"doc-section\"\u003e","\u003ch1\u003e44. Fixed Point\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/performance/fixed-point.md\u003c/div\u003e","","\u003ch2\u003eFixed-Point Math - Integer Math for Performance-Critical Code\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","","\u003cp\u003eFixed-point arithmetic replaces expensive floating-point operations with fast integer math by using a predetermined number of fractional bits. This technique provides predictable performance, eliminates floating-point unit dependencies, and dramatically speeds up mathematical operations in embedded DSP systems.\u003c/p\u003e","","\u003ch3\u003ePerformance Impact\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eFloating-point operations\u003c/strong\u003e on embedded systems:\u003c/p\u003e","\u003cli\u003eMultiplication: 10-30 CPU cycles\u003c/li\u003e","\u003cli\u003eDivision: 20-100 CPU cycles\u003c/li\u003e","\u003cli\u003eTrigonometric functions: 50-200 CPU cycles\u003c/li\u003e","\u003cli\u003eUnpredictable execution time\u003c/li\u003e","\u003cli\u003eMay require software emulation\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eFixed-point operations\u003c/strong\u003e deliver consistent speed:\u003c/p\u003e","\u003cli\u003eMultiplication: 1-2 CPU cycles\u003c/li\u003e","\u003cli\u003eDivision by power-of-2: 1 cycle (bit shift)\u003c/li\u003e","\u003cli\u003eAddition/subtraction: 1 cycle\u003c/li\u003e","\u003cli\u003eDeterministic execution time\u003c/li\u003e","\u003cli\u003e5-20x performance improvement\u003c/li\u003e","","\u003ch3\u003eBasic Fixed-Point Representation\u003c/h3\u003e","","\u003ch4\u003eQ15 Format (Most Common for Audio)\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Q15: 1 sign bit + 15 fractional bits","// Range: -1.0 to +0.999969 (almost +1.0)","// Resolution: 1/32768  0.00003","","// Convert floating-point to Q15","function floatToQ15(float value) returns int result {","    result = value * 32768.0;","}","","// Convert Q15 to floating-point","function Q15ToFloat(int value) returns float result {","    result = value / 32768.0;","}","","// Example: 0.5 in Q15 format","global int half_volume = 16384;  // 0.5 * 32768","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eQ12 Format (Extended Range)\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Q12: 4 integer bits + 12 fractional bits","// Range: -8.0 to +7.999756","// Resolution: 1/4096  0.000244","","// Useful for parameters that exceed 卤1.0 range","function convertParamToQ12() returns int gain_q12 {","    gain_q12 = params[0] * 41;  // Convert 0-100 param to Q12 (0-10.0 range)","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eFixed-Point DSP Operations\u003c/h3\u003e","","\u003ch4\u003eBasic Arithmetic\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Fixed-point multiplication (Q15 * Q15 = Q30, shift back to Q15)","function multiplyQ15(int a, int b) returns int result {","    result = (a * b) \u0026gt;\u0026gt; 15;","    if (result \u0026gt; 32767) {","        result = 32767;","    } else if (result \u0026lt; -32768) {","        result = -32768;","    }","}","","// Fixed-point division (rare, expensive)","function divideQ15(int a, int b) returns int result {","    result = (a \u0026lt;\u0026lt; 15) / b;  // Shift a up before division","}","","// Faster: multiply by reciprocal (pre-computed)","// Instead of: output = input / 3","global int reciprocal_3_q15 = 10923;  // 1/3 in Q15 format","","function fastDivideBy3(int input) returns int output {","    output = multiplyQ15(input, reciprocal_3_q15);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eBiquad Filter Implementation\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// High-performance fixed-point biquad filter","global int x1 = 0;","global int x2 = 0;","global int y1 = 0;","global int y2 = 0;","","function operate1() {","    // Filter coefficients in Q15 format","    int a1_q15 = params[0] * 327;  // Feedback coefficient","    int a2_q15 = params[1] * 327;","    int b0_q15 = params[2] * 327;  // Feedforward coefficient","    int b1_q15 = params[3] * 327;","    int b2_q15 = params[4] * 327;","","    int i = 0;","    loop {","        if (i \u0026gt;= BLOCK_SIZE) break;","","        int input_q15 = signal[i] \u0026lt;\u0026lt; 4;  // Convert to Q15 (input is Q11)","","        // Biquad equation in fixed-point","        int y = multiplyQ15(b0_q15, input_q15) +","                multiplyQ15(b1_q15, x1) +","                multiplyQ15(b2_q15, x2) -","                multiplyQ15(a1_q15, y1) -","                multiplyQ15(a2_q15, y2);","","        // Update delay line","        x2 = x1; x1 = input_q15;","        y2 = y1; y1 = y;","","        signal[i] = y \u0026gt;\u0026gt; 4;  // Convert back to Q11","        i = i + 1;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eOscillator with Fixed-Point Phase\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Phase accumulator oscillator using Q16 phase","global int SINE_TABLE_SIZE = 1024;","global array sine_table_q15[1024];  // Pre-computed in Q15","global int phase = 0;","","function operate2() {","    int frequency = params[0];  // 0-100 range","","    // Convert frequency to Q16 phase increment","    // phase_inc = (frequency * table_size * 65536) / sample_rate","    int phase_increment = (frequency * SINE_TABLE_SIZE * 655) \u0026gt;\u0026gt; 8;  // Optimized","","    int i = 0;","    loop {","        if (i \u0026gt;= BLOCK_SIZE) break;","","        // Extract integer part for table index","        int table_index = (phase \u0026gt;\u0026gt; 6) \u0026amp; (SINE_TABLE_SIZE - 1);","","        // Get sine value in Q15 format","        int sine_q15 = sine_table_q15[table_index];","","        // Apply amplitude and convert to output format","        int amplitude = params[1] * 20;  // 0-100 to 0-2000 range","        signal[i] = (sine_q15 * amplitude) \u0026gt;\u0026gt; 15;","","        phase = phase + phase_increment;  // Q16 phase accumulation","        i = i + 1;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eAdvanced Fixed-Point Techniques\u003c/h3\u003e","","\u003ch4\u003eEnvelope Generator with Exponential Decay\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Fixed-point envelope with bit-shift decay","global int envelope_q15 = 0;","global int envelope_state = 0;  // 0=ATTACK, 1=DECAY","global int gate_triggered = 0;","global int ATTACK = 0;","global int DECAY = 1;","","function operate1() {","    int attack_rate = params[0] + 1;   // Prevent division by zero","    int decay_shift = params[1] \u0026gt;\u0026gt; 3;  // Decay rate as bit shift amount","","    int i = 0;","    loop {","        if (i \u0026gt;= BLOCK_SIZE) break;","","        if (gate_triggered != 0) {","            envelope_q15 = 0;","            envelope_state = ATTACK;","        }","","        if (envelope_state == ATTACK) {","            envelope_q15 = envelope_q15 + (attack_rate \u0026lt;\u0026lt; 8);  // Linear attack","            if (envelope_q15 \u0026gt;= 32767) {","                envelope_q15 = 32767;","                envelope_state = DECAY;","            }","        } else if (envelope_state == DECAY) {","            // Exponential decay via bit shift (very fast!)","            envelope_q15 = envelope_q15 - (envelope_q15 \u0026gt;\u0026gt; decay_shift);","        }","","        // Apply envelope to signal","        signal[i] = (signal[i] * envelope_q15) \u0026gt;\u0026gt; 15;","        i = i + 1;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eSaturation with Fixed-Point\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Fast soft saturation using fixed-point","function softSaturateQ15(int input) returns int result {","    if (input \u0026gt; 24576) {          // 0.75 in Q15","        int excess = input - 24576;","        result = 24576 + (excess \u0026gt;\u0026gt; 2);  // Compress by 75%","    } else if (input \u0026lt; -24576) {","        int excess = input + 24576;","        result = -24576 + (excess \u0026gt;\u0026gt; 2);","    } else {","        result = input;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePrecision and Overflow Management\u003c/h3\u003e","","\u003ch4\u003eAvoiding Overflow\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Safe multiplication with overflow detection","function safeMultiplyQ15(int a, int b) returns int result {","    // Use 32-bit intermediate result","    int temp = a * b;","    result = temp \u0026gt;\u0026gt; 15;","","    // Clamp to prevent overflow","    if (result \u0026gt; 32767) {","        result = 32767;","    } else if (result \u0026lt; -32768) {","        result = -32768;","    }","}","","// Guard against accumulation overflow","function accumulateWithOverflowGuard(array values, int count) returns int accumulator {","    accumulator = 0;","    int i = 0;","    loop {","        if (i \u0026gt;= count) break;","        accumulator = accumulator + values[i];","        if (accumulator \u0026gt; 1000000) {","            accumulator = 1000000;  // Prevent overflow","        }","        i = i + 1;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eImplementation Guidelines\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eChoose the right format:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003eQ15 for standard audio processing (-1.0 to +1.0)\u003c/li\u003e","\u003cli\u003eQ12 for parameters with extended range\u003c/li\u003e","\u003cli\u003eQ8 for low-precision, high-speed operations\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eOptimization strategies:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003ePre-compute reciprocals instead of division\u003c/li\u003e","\u003cli\u003eUse bit shifts for powers-of-2 operations\u003c/li\u003e","\u003cli\u003eCombine operations to minimize intermediate conversions\u003c/li\u003e","\u003cli\u003eWatch for overflow in intermediate calculations\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003ePrecision considerations:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003eQ15 provides ~0.003% resolution (sufficient for most audio)\u003c/li\u003e","\u003cli\u003eAccumulate in higher precision, then convert back\u003c/li\u003e","\u003cli\u003eConsider dithering for very low-level signals\u003c/li\u003e","","\u003cp\u003eFixed-point arithmetic typically improves DSP performance by 500-2000% while maintaining audio quality equivalent to 16-bit systems.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-45\" class=\"doc-section\"\u003e","\u003ch1\u003e45. Efficient Math\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/performance/efficient-math.md\u003c/div\u003e","","\u003ch2\u003eEfficient Math Techniques\u003c/h2\u003e","","\u003cp\u003eMathematical operations can be significant performance bottlenecks in real-time audio processing. The Permut8's ARM Cortex-M4 processor includes hardware floating-point support, but even fast FPU operations can accumulate overhead when performed thousands of times per second. This guide covers practical techniques for optimizing mathematical calculations in Permut8 firmware.\u003c/p\u003e","","\u003ch3\u003eFast Approximations vs. Exact Calculations\u003c/h3\u003e","","\u003cp\u003eThe key insight for audio DSP optimization is that perfect mathematical accuracy is often unnecessary. Human hearing cannot distinguish differences below certain thresholds, making fast approximations ideal for real-time processing.\u003c/p\u003e","","\u003ch4\u003eSine Wave Approximation\u003c/h4\u003e","","\u003cp\u003eTrigonometric functions like \u003ccode\u003esin()\u003c/code\u003e and \u003ccode\u003ecos()\u003c/code\u003e are expensive to compute. For audio applications, polynomial approximations provide excellent results with dramatically better performance.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Expensive: exact sine calculation using native function","function expensive_sine(float x) returns float result {","    result = sine(x);  // Native sine function","}","","// Fast: polynomial approximation (error \u0026lt; 0.1%)","function fast_sine(float x) returns float result {","    // Normalize to [-, ]","    while (x \u0026gt; 3.14159) {","        x = x - 6.28318;","    }","    while (x \u0026lt; -3.14159) {","        x = x + 6.28318;","    }","","    // Polynomial approximation","    float x2 = x * x;","    result = x * (1.0 - x2 * (0.16666 - x2 * 0.00833));","}","","// Audio oscillator using fast approximation","global float osc_phase = 0.0;","global float osc_phase_increment = 0.0;","","function setOscillatorFrequency(float freq, float sample_rate) {","    osc_phase_increment = (freq * 6.28318) / sample_rate;","}","","function processOscillator() returns float output {","    output = fast_sine(osc_phase);","    osc_phase = osc_phase + osc_phase_increment;","    if (osc_phase \u0026gt; 6.28318) {","        osc_phase = osc_phase - 6.28318;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003ePerformance comparison on Permut8:\u003c/p\u003e","\u003cli\u003e\u003ccode\u003esin()\u003c/code\u003e: ~45 CPU cycles\u003c/li\u003e","\u003cli\u003e\u003ccode\u003efast_sine()\u003c/code\u003e: ~12 CPU cycles\u003c/li\u003e","\u003cli\u003eAccuracy: \u0026gt;99.9% for audio applications\u003c/li\u003e","","\u003ch4\u003eFast Exponential Decay\u003c/h4\u003e","","\u003cp\u003eEnvelope generators and filter decay calculations often use exponential functions. Integer-based approximations can be much faster than floating-point exponentials.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Expensive: floating-point exponential decay","global float env_value = 1.0;","global float env_decay_rate = 0.999;","","function processSlowEnvelope() returns float result {","    env_value = env_value * env_decay_rate;","    result = env_value;","}","","// Fast: fixed-point exponential approximation","global int fast_env_value = 65536;  // 16.16 fixed point","global int fast_decay_factor = 65470;  // Equivalent to 0.999 in fixed point","","function processFastEnvelope() returns float result {","    fast_env_value = (fast_env_value * fast_decay_factor) \u0026gt;\u0026gt; 16;","    result = fast_env_value / 65536.0;","}","","// Even faster: lookup table with linear interpolation","global array decay_table[256] = {","    65536, 65470, 65405, 65340, 65275, 65211, 65147, 65083,","    // ... fill with pre-computed decay values","    65020, 64957, 64894, 64832, 64769, 64707, 64645, 64583","};","","global int table_env_value = 65536;","global int table_pos = 0;","","function processTableEnvelope() returns float result {","    table_env_value = decay_table[table_pos];","    table_pos = (table_pos + 1) \u0026amp; 255;  // Wrap at 256","    result = table_env_value / 65536.0;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eSquare Root Approximation\u003c/h4\u003e","","\u003cp\u003eAudio applications frequently need square root calculations for RMS detection, distance calculations, and envelope following. Fast integer approximations work well for these use cases.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Fast integer square root using bit manipulation","function fast_sqrt(int x) returns int result {","    if (x == 0) {","        result = 0;","    } else {","        result = 0;","        int bit = 1 \u0026lt;\u0026lt; 30;  // Start with highest bit","","        while (bit \u0026gt; x) {","            bit = bit \u0026gt;\u0026gt; 2;","        }","","        while (bit != 0) {","            if (x \u0026gt;= result + bit) {","                x = x - result - bit;","                result = (result \u0026gt;\u0026gt; 1) + bit;","            } else {","                result = result \u0026gt;\u0026gt; 1;","            }","            bit = bit \u0026gt;\u0026gt; 2;","        }","    }","}","","// RMS calculation using fast square root","global int rms_sum_squares = 0;","global int rms_sample_count = 0;","global int RMS_WINDOW_SIZE = 64;","","function processRMS(float input) returns float result {","    // Convert to integer for fast processing","    int sample = input * 32767.0;","    rms_sum_squares = rms_sum_squares + ((sample * sample) \u0026gt;\u0026gt; 10);  // Scale to prevent overflow","    rms_sample_count = rms_sample_count + 1;","","    if (rms_sample_count \u0026gt;= RMS_WINDOW_SIZE) {","        int rms_int = fast_sqrt(rms_sum_squares / RMS_WINDOW_SIZE);","        result = rms_int / 32767.0;","","        rms_sum_squares = 0;","        rms_sample_count = 0;","    } else {","        result = 0.0;  // No output until window complete","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eBitwise Operations for Speed\u003c/h3\u003e","","\u003cp\u003eBit manipulation operations are among the fastest calculations available on ARM processors. Many common mathematical operations can be replaced with bitwise equivalents.\u003c/p\u003e","","\u003ch4\u003ePower-of-Two Operations\u003c/h4\u003e","","\u003cp\u003eMultiplication and division by powers of two can be replaced with bit shifts, which are single-cycle operations.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Slow: floating-point arithmetic","function slow_gain(float input, float gain_db) returns float result {","    float gain_linear = pow(10.0, gain_db / 20.0);","    result = input * gain_linear;","}","","// Fast: bit-shift gain control (for simple gain adjustments)","function fast_gain(int input, int shift_amount) returns int result {","    if (shift_amount \u0026gt;= 0) {","        result = input \u0026lt;\u0026lt; shift_amount;  // Multiply by 2^shift_amount","    } else {","        result = input \u0026gt;\u0026gt; (-shift_amount);  // Divide by 2^shift_amount","    }","}","","// Practical example: simple compressor with bit-shift gain reduction","global int comp_threshold = 16384;  // 50% of full scale","global int comp_attack_shift = 1;   // 2:1 compression ratio","","function processCompressor(int input) returns int result {","    int abs_input;","    if (input \u0026lt; 0) {","        abs_input = -input;","    } else {","        abs_input = input;","    }","","    if (abs_input \u0026gt; comp_threshold) {","        // Simple compression: reduce gain above threshold","        int excess = abs_input - comp_threshold;","        excess = excess \u0026gt;\u0026gt; comp_attack_shift;  // Divide excess by 2","        int output = comp_threshold + excess;","        if (input \u0026lt; 0) {","            result = -output;","        } else {","            result = output;","        }","    } else {","        result = input;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eFast Modulo Operations\u003c/h4\u003e","","\u003cp\u003eModulo operations with power-of-two values can be replaced with bitwise AND operations.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Slow: modulo with division","function slow_wrap(int index, int buffer_size) returns int result {","    result = index % buffer_size;  // Only fast if buffer_size is power of 2","}","","// Fast: bitwise AND (requires power-of-2 buffer size)","function fast_wrap(int index, int buffer_mask) returns int result {","    result = index \u0026amp; buffer_mask;  // buffer_mask = buffer_size - 1","}","","// Circular buffer using fast wrapping","global int BUFFER_SIZE = 1024;  // Must be power of 2","global int BUFFER_MASK = 1023;  // BUFFER_SIZE - 1","global array circ_buffer[1024];","global int write_pos = 0;","","function writeCircularBuffer(float sample) {","    circ_buffer[write_pos] = sample;","    write_pos = (write_pos + 1) \u0026amp; BUFFER_MASK;  // Fast wrap","}","","function readCircularBuffer(int delay_samples) returns float result {","    int read_pos = (write_pos - delay_samples) \u0026amp; BUFFER_MASK;","    result = circ_buffer[read_pos];","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eFixed-Point Arithmetic Patterns\u003c/h3\u003e","","\u003cp\u003eFor maximum performance in mathematical operations, fixed-point arithmetic eliminates floating-point overhead while maintaining sufficient precision for audio applications.\u003c/p\u003e","","\u003ch4\u003eMixing and Crossfading\u003c/h4\u003e","","\u003cp\u003eAudio mixing operations benefit significantly from fixed-point optimization.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Standard floating-point crossfade","function float_crossfade(float a, float b, float mix) returns float result {","    result = a * (1.0 - mix) + b * mix;","}","","// Fixed-point crossfade (16.16 format)","function fixed_crossfade(int a, int b, int mix_16_16) returns int result {","    int inv_mix = 65536 - mix_16_16;  // 1.0 - mix in 16.16 format","","    // Multiply and shift back to 16.16 format","    int result_a = (a * inv_mix) \u0026gt;\u0026gt; 16;","    int result_b = (b * mix_16_16) \u0026gt;\u0026gt; 16;","","    result = result_a + result_b;","}","","// Practical mixer using fixed-point math","global int NUM_CHANNELS = 4;","global array channel_gains[4];  // 16.16 fixed point","","function setChannelGain(int channel, float gain) {","    channel_gains[channel] = gain * 65536.0;","}","","function mixChannels(array inputs[4]) returns int result {","    int sum = 0;","","    // Mix all channels","    sum = sum + ((inputs[0] * channel_gains[0]) \u0026gt;\u0026gt; 16);","    sum = sum + ((inputs[1] * channel_gains[1]) \u0026gt;\u0026gt; 16);","    sum = sum + ((inputs[2] * channel_gains[2]) \u0026gt;\u0026gt; 16);","    sum = sum + ((inputs[3] * channel_gains[3]) \u0026gt;\u0026gt; 16);","","    // Clamp to prevent overflow","    if (sum \u0026gt; 32767) {","        sum = 32767;","    }","    if (sum \u0026lt; -32768) {","        sum = -32768;","    }","","    result = sum;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePerformance Measurement and Validation\u003c/h3\u003e","","\u003cp\u003eAlways measure the actual performance impact of mathematical optimizations. The Permut8's real-time constraints make measurement essential.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Simple cycle counter for performance measurement","global int perf_start_cycles;","","function startPerformanceTimer() {","    perf_start_cycles = getCycleCount();  // Native function to get cycle count","}","","function stopPerformanceTimer() returns int cycles {","    int end_cycles = getCycleCount();","    cycles = end_cycles - perf_start_cycles;","}","","// Compare mathematical implementations","function benchmark_math_functions() {","    float test_input = 1.57;  // /2","","    // Test standard sine","    startPerformanceTimer();","    float result1 = sine(test_input);","    int std_cycles = stopPerformanceTimer();","","    // Test fast sine","    startPerformanceTimer();","    float result2 = fast_sine(test_input);","    int fast_cycles = stopPerformanceTimer();","","    // Display results on LEDs (cycle count as brightness)","    displayLEDs[0] = std_cycles \u0026gt;\u0026gt; 2;   // Standard implementation","    displayLEDs[1] = fast_cycles \u0026gt;\u0026gt; 2;  // Fast implementation","    displayLEDs[2] = abs(result1 - result2) * 1000;  // Error magnitude","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eKey Takeaways\u003c/h3\u003e","","\u003cp\u003eMathematical optimization in Permut8 firmware follows several important principles:\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eChoose Appropriate Precision\u003c/strong\u003e: Audio applications rarely need perfect mathematical accuracy. Fast approximations with 0.1% error are usually inaudible.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eLeverage Hardware Strengths\u003c/strong\u003e: ARM processors excel at integer and bitwise operations. Use these whenever possible instead of complex floating-point math.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMeasure Real Performance\u003c/strong\u003e: Theoretical improvements don't always translate to real-world benefits. Always profile your optimizations in the actual firmware context.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMaintain Code Clarity\u003c/strong\u003e: Optimized code should still be readable and maintainable. Document the tradeoffs and expected accuracy of approximations.\u003c/p\u003e","","\u003cp\u003eThe techniques in this guide can reduce mathematical processing overhead by 50-80% in typical audio applications, freeing up CPU cycles for more complex algorithms or allowing lower latency operation.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-46\" class=\"doc-section\"\u003e","\u003ch1\u003e46. Batch Processing\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/performance/batch-processing.md\u003c/div\u003e","","\u003ch2\u003eBatch Processing - Efficient Multi-Sample Processing Patterns\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","","\u003cp\u003eBatch processing is a fundamental optimization technique for DSP firmware that processes multiple samples together instead of handling them individually. This approach dramatically reduces function call overhead, improves cache utilization, and enables better compiler optimizations.\u003c/p\u003e","","\u003ch3\u003ePerformance Impact\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eSingle-sample processing\u003c/strong\u003e creates unnecessary overhead:\u003c/p\u003e","\u003cli\u003eFunction call setup/teardown for each sample\u003c/li\u003e","\u003cli\u003ePoor instruction cache utilization\u003c/li\u003e","\u003cli\u003eMissed vectorization opportunities\u003c/li\u003e","\u003cli\u003eIncreased branching overhead\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eBatch processing\u003c/strong\u003e delivers measurable improvements:\u003c/p\u003e","\u003cli\u003e2-4x reduction in function call overhead\u003c/li\u003e","\u003cli\u003eBetter memory access patterns\u003c/li\u003e","\u003cli\u003eImproved instruction pipeline utilization\u003c/li\u003e","\u003cli\u003eEnables compiler auto-vectorization\u003c/li\u003e","","\u003ch3\u003eBasic Batch Pattern\u003c/h3\u003e","","\u003ch4\u003eBefore: Single-Sample Processing\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Inefficient: processes one sample at a time","function process() {","    int i = 0;","    loop {","        if (i \u0026gt;= BLOCK_SIZE) break;","        signal[i] = applySaturation(signal[i]);","        i = i + 1;","    }","}","","function applySaturation(float sample) returns float result {","    if (sample \u0026gt; 2000) {","        result = 2000;","    } else if (sample \u0026lt; -2000) {","        result = -2000;","    } else {","        result = sample;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eAfter: Batch Processing\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Efficient: processes 4 samples per iteration","function processBatch() {","    int i = 0;","    loop {","        if (i \u0026gt;= BLOCK_SIZE) break;","        applySaturationBatch(i, 4);","        i = i + 4;","    }","}","","function applySaturationBatch(int start_index, int count) {","    int j = 0;","    loop {","        if (j \u0026gt;= count) break;","        int idx = start_index + j;","        if (idx \u0026gt;= BLOCK_SIZE) break;","","        if (signal[idx] \u0026gt; 2000) {","            signal[idx] = 2000;","        } else if (signal[idx] \u0026lt; -2000) {","            signal[idx] = -2000;","        }","        j = j + 1;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eAdvanced Batch Techniques\u003c/h3\u003e","","\u003ch4\u003eUnrolled Batch Processing\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Hand-optimized batch with loop unrolling","function processBiquadBatch(array input, array output, array coeffs, array state, int count) {","    float a1 = coeffs[0]; float a2 = coeffs[1];","    float b0 = coeffs[2]; float b1 = coeffs[3]; float b2 = coeffs[4];","","    // Process 4 samples per iteration","    int i = 0;","    loop {","        if (i \u0026gt;= count) break;","","        // Sample 1","        float y = b0 * input[i] + b1 * state[0] + b2 * state[1]","                  - a1 * state[2] - a2 * state[3];","        output[i] = y;","","        // Sample 2","        float y2 = b0 * input[i+1] + b1 * y + b2 * state[0]","                   - a1 * y - a2 * state[2];","        output[i+1] = y2;","","        // Sample 3-4 continue pattern...","        // Update state for next iteration","        state[1] = state[0]; state[0] = y2;","        state[3] = state[2]; state[2] = y;","","        i = i + 4;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMemory-Efficient Batch Pattern\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Processes samples in-place to maximize cache efficiency","function operate1() {","    int batch_size = 8;","","    int start = 0;","    loop {","        if (start \u0026gt;= BUFFER_SIZE) break;","","        int end;","        if (start + batch_size \u0026lt; BUFFER_SIZE) {","            end = start + batch_size;","        } else {","            end = BUFFER_SIZE;","        }","","        // Load batch into local variables for better register allocation","        array temp[8];","        int i = 0;","        loop {","            if (i \u0026gt;= (end - start)) break;","            temp[i] = signal[start + i];","            i = i + 1;","        }","","        // Process batch","        applyEffect(temp, end - start);","","        // Store back","        i = 0;","        loop {","            if (i \u0026gt;= (end - start)) break;","            signal[start + i] = temp[i];","            i = i + 1;","        }","","        start = start + batch_size;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eReal-World Example: Delay Line Batch Processing\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Efficient batch delay processing","function operate2() {","    float delay_samples = params[0] * 0.1; // 0-100ms delay","    float feedback = params[1] * 0.01;     // 0-100% feedback","","    // Process in batches of 16 for optimal cache usage","    int i = 0;","    loop {","        if (i \u0026gt;= BLOCK_SIZE) break;","        processBatchDelay(i, 16, delay_samples, feedback);","        i = i + 16;","    }","}","","function processBatchDelay(int start_idx, int count, float delay, float fb) {","    int j = 0;","    loop {","        if (j \u0026gt;= count) break;","        int idx = start_idx + j;","        if (idx \u0026gt;= BLOCK_SIZE) break;","","        float delayed = read(delay);","        float output = signal[idx] + delayed * fb;","        write(output);","        signal[idx] = output;","        j = j + 1;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePerformance Guidelines\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eOptimal batch sizes:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e4-16 samples for simple operations\u003c/li\u003e","\u003cli\u003e8-32 samples for complex DSP algorithms\u003c/li\u003e","\u003cli\u003eMatch batch size to your processor's cache line size\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eWhen to use batch processing:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003eRepetitive mathematical operations\u003c/li\u003e","\u003cli\u003eFilter processing\u003c/li\u003e","\u003cli\u003eEffect chains\u003c/li\u003e","\u003cli\u003eLarge buffer operations\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eAvoid batching for:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003eControl logic\u003c/li\u003e","\u003cli\u003eParameter updates\u003c/li\u003e","\u003cli\u003eConditional processing with unpredictable branches\u003c/li\u003e","","\u003cp\u003eBatch processing typically improves performance by 150-300% for DSP-intensive operations while maintaining identical audio output quality.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-47\" class=\"doc-section\"\u003e","\u003ch1\u003e47. Memory Access\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/performance/memory-access.md\u003c/div\u003e","","\u003ch2\u003eMemory Access Optimization\u003c/h2\u003e","","\u003cp\u003eMemory access patterns have a dramatic impact on Permut8 firmware performance. The ARM Cortex-M4's cache architecture and memory hierarchy reward predictable, sequential access patterns while penalizing random memory accesses. Understanding and optimizing memory usage is essential for maintaining real-time audio performance.\u003c/p\u003e","","\u003ch3\u003eUnderstanding Permut8 Memory Architecture\u003c/h3\u003e","","\u003cp\u003eThe Permut8's ARM Cortex-M4 includes several types of memory with different performance characteristics:\u003c/p\u003e","","\u003cli\u003e\u003cstrong\u003eSRAM\u003c/strong\u003e: Fast local memory, single-cycle access when cached\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFlash\u003c/strong\u003e: Slower program storage, cached for frequently accessed code\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCache\u003c/strong\u003e: Hardware cache improves repeated access to the same memory regions\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDMA Buffers\u003c/strong\u003e: Special memory regions optimized for audio I/O\u003c/li\u003e","","\u003ch4\u003eMemory Access Performance\u003c/h4\u003e","","\u003cp\u003eDifferent access patterns have vastly different performance implications:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Cache-friendly: sequential access pattern","function efficient_buffer_process(array buffer, int size) {","    int i = 0;","    loop {","        if (i \u0026gt;= size) break;","        buffer[i] = buffer[i] * 0.5;  // Sequential access, cache-friendly","        i = i + 1;","    }","}","","// Cache-unfriendly: random access pattern","function inefficient_buffer_process(array buffer, int size) {","    int i = 0;","    loop {","        if (i \u0026gt;= size) break;","        int random_index = (i * 7919) % size;  // Random access, cache-hostile","        buffer[random_index] = buffer[random_index] * 0.5;","        i = i + 1;","    }","}","","// Performance measurement example","global int BUFFER_SIZE = 1024;","global array test_buffer[1024];","","function compare_access_patterns() {","    int start, end;","","    // Sequential access timing","    start = getCycleCount();","    efficient_buffer_process(test_buffer, BUFFER_SIZE);","    end = getCycleCount();","    int sequential_cycles = end - start;","","    // Random access timing","    start = getCycleCount();","    inefficient_buffer_process(test_buffer, BUFFER_SIZE);","    end = getCycleCount();","    int random_cycles = end - start;","","    // Display performance difference on LEDs","    displayLEDs[0] = sequential_cycles \u0026gt;\u0026gt; 8;  // Sequential (should be low)","    displayLEDs[1] = random_cycles \u0026gt;\u0026gt; 8;     // Random (typically 3-5x higher)","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eTypical performance differences:\u003c/p\u003e","\u003cli\u003eSequential access: ~1 cycle per sample\u003c/li\u003e","\u003cli\u003eRandom access: ~3-5 cycles per sample\u003c/li\u003e","\u003cli\u003eCache miss penalty: 10-20 cycles\u003c/li\u003e","","\u003ch3\u003eBuffer Organization for Cache Efficiency\u003c/h3\u003e","","\u003cp\u003eOrganizing audio buffers for optimal cache usage significantly improves performance. The key principle is maximizing spatial and temporal locality.\u003c/p\u003e","","\u003ch4\u003eInterleaved vs. Separate Buffers\u003c/h4\u003e","","\u003cp\u003eBuffer layout affects cache performance in multi-channel audio processing.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Poor cache usage: separate channel buffers","global int STEREO_BUFFER_SIZE = 512;","global array left_buffer[512];","global array right_buffer[512];","","function process_stereo_poor() {","    // Process left channel - loads left_buffer into cache","    int i = 0;","    loop {","        if (i \u0026gt;= STEREO_BUFFER_SIZE) break;","        left_buffer[i] = apply_effect(left_buffer[i]);","        i = i + 1;","    }","","    // Process right channel - cache miss, loads right_buffer","    i = 0;","    loop {","        if (i \u0026gt;= STEREO_BUFFER_SIZE) break;","        right_buffer[i] = apply_effect(right_buffer[i]);","        i = i + 1;","    }","}","","function apply_effect(float input) returns float result {","    result = input * 0.7 + input * input * 0.3;  // Simple saturation","}","","// Better cache usage: interleaved stereo buffer","global array stereo_buffer[1024];  // Interleaved L,R,L,R...","","function process_stereo_efficient() {","    // Process both channels together - better cache locality","    int i = 0;","    loop {","        if (i \u0026gt;= STEREO_BUFFER_SIZE * 2) break;","        stereo_buffer[i] = apply_effect(stereo_buffer[i]);        // Left","        stereo_buffer[i+1] = apply_effect(stereo_buffer[i+1]);    // Right","        i = i + 2;","    }","}","","// Best: SIMD-optimized processing (when possible)","global array simd_buffer[1024];  // Interleaved L,R,L,R...","","function process_stereo_simd() {","    // ARM NEON can process multiple samples simultaneously","    int i = 0;","    loop {","        if (i \u0026gt;= STEREO_BUFFER_SIZE * 2) break;","        // Process 4 samples at once (2 stereo pairs)","        simd_buffer[i] = apply_effect(simd_buffer[i]);","        simd_buffer[i+1] = apply_effect(simd_buffer[i+1]);","        simd_buffer[i+2] = apply_effect(simd_buffer[i+2]);","        simd_buffer[i+3] = apply_effect(simd_buffer[i+3]);","        i = i + 4;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMemory Pool Management\u003c/h4\u003e","","\u003cp\u003ePre-allocating memory pools eliminates dynamic allocation overhead and improves cache behavior.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Inefficient: dynamic allocation during audio processing","// NOTE: Impala doesn't support dynamic allocation - this is for comparison only","global array dynamic_buffer[48000];  // Pre-allocated maximum size","global int dynamic_buffer_size = 0;","global int dynamic_write_pos = 0;","","function setDelayTime(float delay_seconds, float sample_rate) {","    // NEVER do dynamic resizing in real-time audio!","    dynamic_buffer_size = delay_seconds * sample_rate;","    dynamic_write_pos = 0;","","    // Clear buffer area","    int i = 0;","    loop {","        if (i \u0026gt;= dynamic_buffer_size) break;","        dynamic_buffer[i] = 0.0;","        i = i + 1;","    }","}","","function processDynamicDelay(float input) returns float output {","    if (dynamic_buffer_size == 0) {","        output = input;","    } else {","        output = dynamic_buffer[dynamic_write_pos];","        dynamic_buffer[dynamic_write_pos] = input;","        dynamic_write_pos = (dynamic_write_pos + 1) % dynamic_buffer_size;","    }","}","","// Efficient: pre-allocated memory pool","global int MAX_DELAY_SAMPLES = 48000;  // 1 second at 48kHz","global array delay_pool[48000];        // Pre-allocated pool","global int pool_buffer_size = 0;","global int pool_write_pos = 0;","","function setPooledDelayTime(float delay_seconds, float sample_rate) returns int success {","    int required_size = delay_seconds * sample_rate;","","    if (required_size \u0026gt; MAX_DELAY_SAMPLES) {","        success = 0;  // Delay too long for pool","    } else {","        // No allocation - just use pool directly","        pool_buffer_size = required_size;","        pool_write_pos = 0;","","        // Clear the buffer area we'll use","        int i = 0;","        loop {","            if (i \u0026gt;= pool_buffer_size) break;","            delay_pool[i] = 0.0;","            i = i + 1;","        }","","        success = 1;","    }","}","","function processPooledDelay(float input) returns float output {","    output = delay_pool[pool_write_pos];","    delay_pool[pool_write_pos] = input;","    pool_write_pos = (pool_write_pos + 1) % pool_buffer_size;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eData Structure Optimization\u003c/h3\u003e","","\u003cp\u003eChoosing appropriate data structures and memory layouts dramatically affects performance.\u003c/p\u003e","","\u003ch4\u003eStructure of Arrays vs. Array of Structures\u003c/h4\u003e","","\u003cp\u003eThe choice between SoA and AoS depends on access patterns.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Array of Structures (AoS) - good for processing complete objects","// Note: Impala uses separate arrays instead of structs","global int NUM_VOICES = 8;","global array voice_frequencies[8];","global array voice_amplitudes[8];","global array voice_phases[8];","global array voice_filter_states[8];","","function process_all_voices_aos() {","    int i = 0;","    loop {","        if (i \u0026gt;= NUM_VOICES) break;","        // Good cache locality - process one voice completely","        voice_phases[i] = voice_phases[i] + voice_frequencies[i];","        float output = sine(voice_phases[i]) * voice_amplitudes[i];","        voice_filter_states[i] = output * 0.1 + voice_filter_states[i] * 0.9;","        i = i + 1;","    }","}","","// Structure of Arrays (SoA) - good for bulk operations on single parameters","global array soa_frequencies[8];","global array soa_amplitudes[8];","global array soa_phases[8];","global array soa_filter_states[8];","","function update_all_frequencies(float transpose) {","    // Excellent cache locality - all frequencies are contiguous","    int i = 0;","    loop {","        if (i \u0026gt;= NUM_VOICES) break;","        soa_frequencies[i] = soa_frequencies[i] * transpose;","        i = i + 1;","    }","}","","function process_all_voices_soa() {","    int i = 0;","    loop {","        if (i \u0026gt;= NUM_VOICES) break;","        soa_phases[i] = soa_phases[i] + soa_frequencies[i];","        float output = sine(soa_phases[i]) * soa_amplitudes[i];","        soa_filter_states[i] = output * 0.1 + soa_filter_states[i] * 0.9;","        i = i + 1;","    }","}","","// Hybrid approach: group related data","// Group frequently accessed together","global array osc_frequencies[8];","global array osc_phases[8];","","// Separate arrays for bulk operations","global array hybrid_amplitudes[8];","global array hybrid_filter_states[8];","","function update_frequencies_hybrid(float transpose) {","    int i = 0;","    loop {","        if (i \u0026gt;= NUM_VOICES) break;","        osc_frequencies[i] = osc_frequencies[i] * transpose;","        i = i + 1;","    }","}","","function process_voices_hybrid() {","    int i = 0;","    loop {","        if (i \u0026gt;= NUM_VOICES) break;","        osc_phases[i] = osc_phases[i] + osc_frequencies[i];","        float output = sine(osc_phases[i]) * hybrid_amplitudes[i];","        hybrid_filter_states[i] = output * 0.1 + hybrid_filter_states[i] * 0.9;","        i = i + 1;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eCircular Buffer Optimization\u003c/h4\u003e","","\u003cp\u003eCircular buffers are common in audio applications. Efficient implementation considers both cache behavior and computational efficiency.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Basic circular buffer with modulo (slow)","global int CIRC_SIZE = 1024;","global array circ_buffer[1024];","global int circ_write_pos = 0;","","function writeCircBuffer(float sample) {","    circ_buffer[circ_write_pos] = sample;","    circ_write_pos = (circ_write_pos + 1) % CIRC_SIZE;  // Modulo is expensive","}","","function readCircBuffer(int delay) returns float result {","    int read_pos = (circ_write_pos - delay + CIRC_SIZE) % CIRC_SIZE;","    result = circ_buffer[read_pos];","}","","// Optimized circular buffer with power-of-2 size","global int FAST_SIZE = 1024;  // Must be power of 2","global int FAST_MASK = 1023;  // SIZE - 1","global array fast_buffer[1024];","global int fast_write_pos = 0;","","function writeFastCircBuffer(float sample) {","    fast_buffer[fast_write_pos] = sample;","    fast_write_pos = (fast_write_pos + 1) \u0026amp; FAST_MASK;  // Bitwise AND is fast","}","","function readFastCircBuffer(int delay) returns float result {","    int read_pos = (fast_write_pos - delay) \u0026amp; FAST_MASK;","    result = fast_buffer[read_pos];","}","","// Batch processing for better cache usage","function write_block(array samples, int count) {","    int i = 0;","    loop {","        if (i \u0026gt;= count) break;","        fast_buffer[fast_write_pos] = samples[i];","        fast_write_pos = (fast_write_pos + 1) \u0026amp; FAST_MASK;","        i = i + 1;","    }","}","","function read_block(array output, int delay, int count) {","    int read_pos = (fast_write_pos - delay) \u0026amp; FAST_MASK;","    int i = 0;","    loop {","        if (i \u0026gt;= count) break;","        output[i] = fast_buffer[read_pos];","        read_pos = (read_pos + 1) \u0026amp; FAST_MASK;","        i = i + 1;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMemory Access Patterns for DSP\u003c/h3\u003e","","\u003cp\u003eCommon DSP algorithms can be optimized by considering memory access patterns.\u003c/p\u003e","","\u003ch4\u003eFilter Implementation\u003c/h4\u003e","","\u003cp\u003eDigital filters benefit significantly from memory access optimization.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Standard biquad filter (reasonable performance)","global float bq_x1 = 0.0;","global float bq_x2 = 0.0;  // Input history","global float bq_y1 = 0.0;","global float bq_y2 = 0.0;  // Output history","global float bq_a0, bq_a1, bq_a2, bq_b1, bq_b2;  // Filter coefficients","","function processBiquad(float input) returns float output {","    output = bq_a0 * input + bq_a1 * bq_x1 + bq_a2 * bq_x2 - bq_b1 * bq_y1 - bq_b2 * bq_y2;","","    // Update history","    bq_x2 = bq_x1; bq_x1 = input;","    bq_y2 = bq_y1; bq_y1 = output;","}","","// Memory-optimized biquad using circular buffer approach","global array opt_history[4] = {0.0, 0.0, 0.0, 0.0};  // x[n-1], x[n-2], y[n-1], y[n-2]","global int opt_history_pos = 0;","global array opt_coeffs[5];  // a0, a1, a2, b1, b2","","function processOptimizedBiquad(float input) returns float output {","    // Calculate output using current history position","    output = opt_coeffs[0] * input +","             opt_coeffs[1] * opt_history[(opt_history_pos + 2) \u0026amp; 3] +  // x[n-1]","             opt_coeffs[2] * opt_history[(opt_history_pos + 0) \u0026amp; 3] +  // x[n-2]","             opt_coeffs[3] * opt_history[(opt_history_pos + 3) \u0026amp; 3] +  // y[n-1]","             opt_coeffs[4] * opt_history[(opt_history_pos + 1) \u0026amp; 3];   // y[n-2]","","    // Update circular buffer","    opt_history[opt_history_pos] = input;","    opt_history[(opt_history_pos + 1) \u0026amp; 3] = output;","    opt_history_pos = (opt_history_pos + 2) \u0026amp; 3;","}","","// Block-based filter for maximum cache efficiency","global float blk_x1 = 0.0, blk_x2 = 0.0, blk_y1 = 0.0, blk_y2 = 0.0;","global float blk_a0, blk_a1, blk_a2, blk_b1, blk_b2;","","function process_biquad_block(array input, array output, int size) {","    // Process samples in groups to maximize cache hits","    int i = 0;","    loop {","        if (i \u0026gt;= size) break;","        float out = blk_a0 * input[i] + blk_a1 * blk_x1 + blk_a2 * blk_x2 - blk_b1 * blk_y1 - blk_b2 * blk_y2;","","        blk_x2 = blk_x1; blk_x1 = input[i];","        blk_y2 = blk_y1; blk_y1 = out;","        output[i] = out;","        i = i + 1;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMemory Layout Strategies\u003c/h3\u003e","","\u003cp\u003eStrategic memory layout can improve cache efficiency across the entire firmware.\u003c/p\u003e","","\u003ch4\u003eHot/Cold Data Separation\u003c/h4\u003e","","\u003cp\u003eSeparate frequently accessed data from rarely used configuration data.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Better: separate hot and cold data","// Hot data in contiguous arrays for cache efficiency","global array hot_phases[8];","global array hot_frequencies[8];","global array hot_amplitudes[8];","global array hot_filter_states[8];","","// Cold data separate (won't pollute cache during audio processing)","global array cold_preset_numbers[8];","global array cold_max_frequencies[8];","global array cold_min_frequencies[8];","global array cold_is_active[8];","","function process_audio_efficient() {","    // Only touch hot data during audio processing","    int i = 0;","    loop {","        if (i \u0026gt;= NUM_VOICES) break;","        hot_phases[i] = hot_phases[i] + hot_frequencies[i];","        float output = sine(hot_phases[i]) * hot_amplitudes[i];","        hot_filter_states[i] = output * 0.1 + hot_filter_states[i] * 0.9;","        i = i + 1;","    }","}","","function configure_voice(int voice, int preset) {","    // Cold data access only during configuration","    cold_preset_numbers[voice] = preset;","    cold_is_active[voice] = 1;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePerformance Monitoring\u003c/h3\u003e","","\u003cp\u003eMonitor memory access efficiency to validate optimizations.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int profiler_cache_hits = 0;","global int profiler_cache_misses = 0;","global array profiler_test_buffer[1024];","","function start_profiling() {","    // Initialize profiler state","    profiler_cache_hits = 0;","    profiler_cache_misses = 0;","}","","function measure_memory_performance() {","    int start_cycles = getCycleCount();","","    // Your memory-intensive code here","    int i = 0;","    loop {","        if (i \u0026gt;= 1024) break;","        profiler_test_buffer[i] = profiler_test_buffer[i] * 1.1;","        i = i + 1;","    }","","    int end_cycles = getCycleCount();","    int cycles_per_sample = (end_cycles - start_cycles) / 1024;","","    // Display performance metrics","    displayLEDs[0] = cycles_per_sample;  // Should be 1-2 for good cache usage","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eKey Principles\u003c/h3\u003e","","\u003cp\u003eEffective memory optimization for Permut8 firmware follows these principles:\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eSequential Access\u003c/strong\u003e: Process data in order whenever possible. Sequential access maximizes cache efficiency.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eData Locality\u003c/strong\u003e: Keep related data close together in memory. Process data that's used together at the same time.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003ePre-allocation\u003c/strong\u003e: Avoid dynamic memory allocation during audio processing. Use pre-allocated pools instead.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eHot/Cold Separation\u003c/strong\u003e: Keep frequently accessed data separate from configuration data to avoid cache pollution.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eBlock Processing\u003c/strong\u003e: Process data in blocks rather than one sample at a time when the algorithm allows.\u003c/p\u003e","","\u003cp\u003eMemory access optimization can improve overall firmware performance by 30-50%, making the difference between a firmware that works and one that performs excellently under all conditions.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-48\" class=\"doc-section\"\u003e","\u003ch1\u003e48. Preset System\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/integration/preset-system.md\u003c/div\u003e","","\u003ch2\u003ePreset System Integration\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","\u003cp\u003eDesign firmware that works seamlessly with external preset management systems, allowing users to save, recall, and organize complete parameter states.\u003c/p\u003e","","\u003ch3\u003eCore Pattern\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// Preset state management","global array preset_params[4]   // Stored parameter values","global int preset_led_state = 0 // Stored LED state","global int preset_mode = 0      // Stored internal mode","global int smooth_counter = 0   // Parameter smoothing counter","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePreset Recall Implementation\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Smooth parameter transitions to avoid clicks","function recall_preset()","locals int i, int target, int current, int diff","{","    // Smooth parameter transitions","    i = 0;","    loop {","        if (i \u0026gt;= 4) break;","","        target = global preset_params[i];","        current = (int)global params[i];","        diff = target - current;","","        // Gradual transition over 64 samples","        global params[i] = current + (diff \u0026gt;\u0026gt; 6);","","        i = i + 1;","    }","","    // Update LED state","    global displayLEDs[0] = global preset_led_state;","","    // Restore internal mode","    global preset_mode = global preset_mode;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eExternal Integration Points\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Standard MIDI CC mapping for presets","function handle_preset_change()","locals int cc_num, int value","{","    // Read CC number from parameter 4","    cc_num = (int)global params[4];","    // Read CC value from parameter 5","    value = (int)global params[5];","","    if (cc_num == 0) {","        global params[0] = value \u0026lt;\u0026lt; 3;  // CC0 -\u0026gt; param 0","    } else if (cc_num == 1) {","        global params[1] = value \u0026lt;\u0026lt; 3;  // CC1 -\u0026gt; param 1","    } else if (cc_num == 2) {","        global params[2] = value \u0026lt;\u0026lt; 3;  // CC2 -\u0026gt; param 2","    } else if (cc_num == 3) {","        global params[3] = value \u0026lt;\u0026lt; 3;  // CC3 -\u0026gt; param 3","    }","}","","// Program change handling","function handle_program_change()","locals int program_num","{","    program_num = (int)global params[6];","    if (program_num \u0026lt; 4) {  // Support 4 presets","        recall_preset();","    }","}","","// Complete preset system with audio processing","function process()","locals int input_sample, int output_sample, int mix_level","{","    loop {","        // Handle external preset commands","        handle_preset_change();","        handle_program_change();","","        // Process audio with current parameters","        input_sample = (int)global signal[0];","","        // Apply basic processing using preset-controlled parameters","        mix_level = (int)global params[0];  // Main control","        output_sample = (input_sample * mix_level) \u0026gt;\u0026gt; 8;","","        // Prevent clipping","        if (output_sample \u0026gt; 2047) output_sample = 2047;","        if (output_sample \u0026lt; -2047) output_sample = -2047;","","        // Output processed signal","        global signal[0] = output_sample;","        global signal[1] = output_sample;","","        // Show activity on LEDs","        global displayLEDs[1] = mix_level;","        global displayLEDs[2] = global preset_mode \u0026lt;\u0026lt; 6;","        global displayLEDs[3] = (int)global params[3];","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eDesign Guidelines\u003c/h3\u003e","","\u003ch4\u003eParameter Organization\u003c/h4\u003e","\u003cli\u003eKeep related parameters together in consecutive slots\u003c/li\u003e","\u003cli\u003eUse consistent value ranges (0-255 for Impala params)\u003c/li\u003e","\u003cli\u003eAvoid hidden or internal-only parameters in preset data\u003c/li\u003e","\u003cli\u003eDocument parameter functions clearly\u003c/li\u003e","","\u003ch4\u003eState Management\u003c/h4\u003e","\u003cli\u003eInclude all user-controllable state in presets\u003c/li\u003e","\u003cli\u003eExclude temporary/calculated values\u003c/li\u003e","\u003cli\u003eHandle edge cases gracefully (invalid ranges, etc.)\u003c/li\u003e","\u003cli\u003eProvide sensible defaults\u003c/li\u003e","","\u003ch4\u003ePerformance Considerations\u003c/h4\u003e","\u003cli\u003eSmooth parameter changes to prevent audio glitches\u003c/li\u003e","\u003cli\u003eBatch parameter updates when possible\u003c/li\u003e","\u003cli\u003eAvoid expensive operations during preset recall\u003c/li\u003e","\u003cli\u003eKeep preset data structures simple and fast\u003c/li\u003e","","\u003ch3\u003eBest Practices\u003c/h3\u003e","","\u003cp\u003e1. \u003cstrong\u003eConsistent Behavior\u003c/strong\u003e: Same parameter values should always produce the same sound\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eComplete State\u003c/strong\u003e: Presets should capture everything needed to recreate the sound\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eGraceful Degradation\u003c/strong\u003e: Handle missing or corrupted preset data safely\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eClear Mapping\u003c/strong\u003e: Document which MIDI CCs map to which parameters\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eVersion Compatibility\u003c/strong\u003e: Design presets to work across firmware updates when possible\u003c/p\u003e","","\u003cp\u003eThis pattern ensures your firmware integrates smoothly with DAWs, hardware controllers, and preset management software.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-49\" class=\"doc-section\"\u003e","\u003ch1\u003e49. Midi Learn Simplified\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/integration/midi-learn-simplified.md\u003c/div\u003e","","\u003ch2\u003eMIDI Learn Implementation\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","\u003cp\u003eEnable dynamic MIDI controller assignment, allowing users to assign any MIDI CC to any firmware parameter in real-time without recompiling.\u003c/p\u003e","","\u003ch3\u003eCore MIDI Learn Structure\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// MIDI Learn mapping storage","global array midi_cc_numbers[4]  // CC numbers for each mapped parameter","global array midi_targets[4]     // Target parameter indices","global array midi_active[4]      // Active mapping flags (0=inactive, 1=active)","global int learn_mode = 0        // Learn mode active flag","global int learn_target = -1     // Parameter being learned (-1 = none)","global int learn_blink = 0       // LED blink counter for learn mode","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eLearn Mode Implementation\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Enter learn mode for specific parameter","function enter_learn_mode()","locals int target_param","{","    // Use parameter 4 to select which parameter to learn (0-3)","    target_param = ((int)global params[4] \u0026gt;\u0026gt; 6);  // 0-3 from top 2 bits","","    if (target_param \u0026lt; 4) {","        global learn_mode = 1;","        global learn_target = target_param;","        global learn_blink = 0;","","        // Visual feedback - blink LED","        global displayLEDs[0] = 255;","    }","}","","// Process MIDI learn when CC received","function process_midi_learn()","locals int cc_number, int cc_value, int slot","{","    if (global learn_mode == 0 || global learn_target \u0026lt; 0) return;","","    // Read incoming MIDI CC from parameters 5 and 6","    cc_number = (int)global params[5];  // CC number (0-127)","    cc_value = (int)global params[6];   // CC value (0-127)","","    // Only process if we have a valid CC","    if (cc_number \u0026gt;= 0 \u0026amp;\u0026amp; cc_number \u0026lt;= 127) {","        // Find mapping slot or use the learn target slot","        slot = global learn_target;","","        // Store mapping","        global midi_cc_numbers[slot] = cc_number;","        global midi_targets[slot] = global learn_target;","        global midi_active[slot] = 1;","","        // Exit learn mode","        global learn_mode = 0;","        global learn_target = -1;","","        // Success feedback","        global displayLEDs[0] = 128;","        global displayLEDs[slot + 1] = 255;  // Light up corresponding LED","    }","}","","// Check for learn mode triggers","function check_learn_triggers()","locals int learn_button","{","    // Use parameter 7 as learn mode button","    learn_button = (int)global params[7];","","    if (learn_button \u0026gt; 127 \u0026amp;\u0026amp; global learn_mode == 0) {","        enter_learn_mode();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMIDI Processing with Learned Mappings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Handle incoming MIDI CC messages","function handle_midi_cc()","locals int cc_number, int cc_value, int i, int target_param, int scaled_value","{","    // Read MIDI input from parameters","    cc_number = (int)global params[5];  // CC number","    cc_value = (int)global params[6];   // CC value (0-127)","","    // Check if in learn mode first","    if (global learn_mode == 1) {","        process_midi_learn();","        return;","    }","","    // Process learned mappings","    i = 0;","    loop {","        if (i \u0026gt;= 4) break;","","        if (global midi_active[i] == 1 \u0026amp;\u0026amp; global midi_cc_numbers[i] == cc_number) {","            target_param = global midi_targets[i];","","            // Scale MIDI value (0-127) to parameter range (0-255)","            scaled_value = cc_value \u0026lt;\u0026lt; 1;  // Simple 2x scaling","            if (scaled_value \u0026gt; 255) scaled_value = 255;","","            // Apply to target parameter","            if (target_param \u0026gt;= 0 \u0026amp;\u0026amp; target_param \u0026lt; 4) {","                global params[target_param] = scaled_value;","            }","        }","","        i = i + 1;","    }","}","","// Clear all learned mappings","function clear_midi_mappings()","locals int i","{","    i = 0;","    loop {","        if (i \u0026gt;= 4) break;","        global midi_active[i] = 0;","        global midi_cc_numbers[i] = -1;","        global midi_targets[i] = -1;","        i = i + 1;","    }","","    // Clear feedback","    global displayLEDs[0] = 64;  // Clear confirmation","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eAdvanced Mapping Features\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Apply curve shaping to mapped parameters","function apply_parameter_curve()","locals int param_idx, int raw_value, int curved_value","{","    param_idx = 0;","    loop {","        if (param_idx \u0026gt;= 4) break;","","        raw_value = (int)global params[param_idx];","","        // Apply exponential curve for more natural feel","        // Using simple square curve: output = input^2 / 255","        curved_value = (raw_value * raw_value) \u0026gt;\u0026gt; 8;  // Square and scale down","","        // Apply curved value back to parameter","        global params[param_idx] = curved_value;","","        param_idx = param_idx + 1;","    }","}","","// Invert parameter mapping for reverse control","function apply_parameter_inversion()","locals int invert_mask, int param_idx, int value","{","    // Use bits of parameter 3 to control which parameters are inverted","    invert_mask = (int)global params[3];","","    param_idx = 0;","    loop {","        if (param_idx \u0026gt;= 4) break;","","        // Check if this parameter should be inverted","        if ((invert_mask \u0026gt;\u0026gt; param_idx) \u0026amp; 1) {","            value = (int)global params[param_idx];","            global params[param_idx] = 255 - value;  // Invert","        }","","        param_idx = param_idx + 1;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eComplete Audio Processing with MIDI Learn\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process()","locals int input_sample, int output_sample, int mix_level, int filter_amount, int feedback","{","    loop {","        // Handle MIDI learn system","        check_learn_triggers();","        handle_midi_cc();","","        // Apply parameter processing","        apply_parameter_curve();","        apply_parameter_inversion();","","        // Process audio using learned parameters","        input_sample = (int)global signal[0];","        mix_level = (int)global params[0];      // Can be MIDI controlled","        filter_amount = (int)global params[1];  // Can be MIDI controlled","        feedback = (int)global params[2];       // Can be MIDI controlled","","        // Simple effect processing","        output_sample = input_sample;","","        // Apply mix level","        output_sample = (output_sample * mix_level) \u0026gt;\u0026gt; 8;","","        // Apply simple filtering","        if (filter_amount \u0026gt; 0) {","            output_sample = output_sample + ((input_sample - output_sample) \u0026gt;\u0026gt; 3);","        }","","        // Add feedback","        if (feedback \u0026gt; 0) {","            output_sample = output_sample + ((output_sample * feedback) \u0026gt;\u0026gt; 10);","        }","","        // Prevent clipping","        if (output_sample \u0026gt; 2047) output_sample = 2047;","        if (output_sample \u0026lt; -2047) output_sample = -2047;","","        // Output processed signal","        global signal[0] = output_sample;","        global signal[1] = output_sample;","","        // Update LED display","        update_learn_display();","","        yield();","    }","}","","// Visual feedback for learn system","function update_learn_display()","locals int i","{","    if (global learn_mode == 1) {","        // Blink LED during learn mode","        global learn_blink = global learn_blink + 1;","        if (global learn_blink \u0026gt; 1000) {","            global displayLEDs[0] = (global displayLEDs[0] \u0026gt; 128) ? 64 : 255;","            global learn_blink = 0;","        }","    } else {","        // Show mapping status","        global displayLEDs[0] = (int)global params[0];  // Show main parameter","","        // Show active mappings","        i = 0;","        loop {","            if (i \u0026gt;= 3) break;  // LEDs 1-3","            if (global midi_active[i] == 1) {","                global displayLEDs[i + 1] = 128;  // Dim light for active mapping","            } else {","                global displayLEDs[i + 1] = 32;   // Very dim for inactive","            }","            i = i + 1;","        }","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eUser Interface Guide\u003c/h3\u003e","","\u003ch4\u003eLearning a New Mapping:\u003c/h4\u003e","\u003cp\u003e1. Set parameter 4 to select which parameter to learn (0-63=param0, 64-127=param1, etc.)\u003c/p\u003e","\u003cp\u003e2. Set parameter 7 above 127 to enter learn mode (LED will blink)\u003c/p\u003e","\u003cp\u003e3. Send desired MIDI CC via parameters 5 (CC number) and 6 (CC value)\u003c/p\u003e","\u003cp\u003e4. Mapping is stored and learn mode exits (LED stops blinking)\u003c/p\u003e","","\u003ch4\u003eClearing Mappings:\u003c/h4\u003e","\u003cli\u003eSet all parameters to 0 and parameter 7 to 255 to clear all mappings\u003c/li\u003e","","\u003ch4\u003eParameter Usage:\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eparams[0-3]\u003c/strong\u003e: Main audio processing parameters (can be MIDI controlled)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eparams[4]\u003c/strong\u003e: Learn target selection (which parameter to learn)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eparams[5]\u003c/strong\u003e: Incoming MIDI CC number\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eparams[6]\u003c/strong\u003e: Incoming MIDI CC value\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eparams[7]\u003c/strong\u003e: Learn mode trigger and clear command\u003c/li\u003e","","\u003ch3\u003eBenefits\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eReal-Time Assignment\u003c/strong\u003e: Learn MIDI mappings without stopping audio or recompiling firmware.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eVisual Feedback\u003c/strong\u003e: LED indicators show learn mode status and active mappings.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Curves\u003c/strong\u003e: Automatic curve shaping for more musical parameter response.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eSimple Interface\u003c/strong\u003e: Uses standard parameter inputs for MIDI data and control.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMemory Efficient\u003c/strong\u003e: Supports 4 simultaneous MIDI mappings with minimal memory usage.\u003c/p\u003e","","\u003cp\u003eThis simplified MIDI learn system provides flexible controller assignment while maintaining Impala language compatibility and real-time performance.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-50\" class=\"doc-section\"\u003e","\u003ch1\u003e50. Midi Sync Simplified\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/integration/midi-sync-simplified.md\u003c/div\u003e","","\u003ch2\u003eMIDI Synchronization Techniques\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","\u003cp\u003eImplement MIDI clock synchronization for tempo-locked effects, ensuring sample-accurate timing with external sequencers, DAWs, and hardware devices.\u003c/p\u003e","","\u003ch3\u003eMIDI Clock Fundamentals\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// MIDI clock state management","global int midi_running = 0     // Clock running state","global int clock_counter = 0    // Current clock tick count","global int samples_per_clock = 1024  // Samples between MIDI clock ticks (24 per beat)","global int sample_counter = 0   // Sample counter within current clock","global int current_tempo = 120  // Current tempo in BPM","global int clock_received = 0   // Flag for received clock tick","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMIDI Clock Processing\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Process MIDI clock messages from parameter inputs","function process_midi_clock()","locals int midi_message, int start_message, int stop_message, int clock_tick","{","    // Read MIDI messages from parameters","    midi_message = (int)global params[4];   // MIDI status byte","    start_message = (int)global params[5];  // Start/stop commands","    clock_tick = (int)global params[6];     // Clock tick input","","    // Handle MIDI Start (FA)","    if (start_message == 250) {  // 0xFA","        global midi_running = 1;","        global clock_counter = 0;","        global sample_counter = 0;","        reset_synced_effects();","    }","","    // Handle MIDI Stop (FC)","    if (start_message == 252) {  // 0xFC","        global midi_running = 0;","    }","","    // Handle MIDI Clock (F8) - 24 per quarter note","    if (clock_tick == 248) {  // 0xF8","        global clock_received = 1;","        global clock_counter = global clock_counter + 1;","        global sample_counter = 0;  // Reset for precise timing","        update_tempo_estimation();","    }","}","","// Reset synchronized effects on start","function reset_synced_effects()","{","    // Reset any tempo-locked effect state here","    global clock_counter = 0;","    global sample_counter = 0;","","    // Visual feedback","    global displayLEDs[0] = 255;  // Start indicator","}","","// Simple tempo estimation","function update_tempo_estimation()","{","    // Update samples per clock based on simple calculation","    // At 120 BPM: 24 clocks per beat, 2 beats per second = 48 clocks/sec","    // At 44.1kHz: 44100/48 = 919 samples per clock","    // This is simplified - real implementation would measure actual timing","    global samples_per_clock = 44100 / ((global current_tempo * 24) / 60);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eClock Prediction and Timing\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Predict timing between MIDI clocks for smooth operation","function update_clock_prediction()","locals int clock_phase_256","{","    if (global midi_running == 0) return;","","    // Update sample counter","    global sample_counter = global sample_counter + 1;","","    // Calculate phase between MIDI clocks (0-255 for easier math)","    if (global samples_per_clock \u0026gt; 0) {","        clock_phase_256 = (global sample_counter * 256) / global samples_per_clock;","        if (clock_phase_256 \u0026gt; 255) clock_phase_256 = 255;","    } else {","        clock_phase_256 = 0;","    }","","    // Reset if we've passed expected clock time","    if (global sample_counter \u0026gt;= global samples_per_clock) {","        if (global clock_received == 0) {","            // Clock is late - adjust timing slightly","            global samples_per_clock = global samples_per_clock + 1;","        }","        global sample_counter = 0;","        global clock_received = 0;","    }","","    // Store phase for use by synced effects","    global displayLEDs[3] = clock_phase_256;  // Visual phase indicator","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eSynchronized Effects\u003c/h3\u003e","","\u003ch4\u003eBeat-Locked Delay\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Delay synchronized to MIDI clock divisions","global int delay_buffer[4096]   // Simple delay buffer","global int delay_write_pos = 0  // Write position in buffer","global int delay_time = 1024    // Current delay time in samples","","function synced_delay()","locals int division, int clocks_per_note, int samples_per_note, int target_delay","locals int input, int delayed, int feedback, int output","{","    // Read delay division setting from parameter","    division = (int)global params[1] \u0026gt;\u0026gt; 6;  // 0-3 from top 2 bits","","    // Division settings: 1/4, 1/8, 1/16, 1/32 notes","    if (division == 0) {","        clocks_per_note = 24;      // Quarter note","    } else if (division == 1) {","        clocks_per_note = 12;      // Eighth note","    } else if (division == 2) {","        clocks_per_note = 6;       // Sixteenth note","    } else {","        clocks_per_note = 3;       // Thirty-second note","    }","","    // Calculate delay time in samples","    samples_per_note = global samples_per_clock * clocks_per_note;","    if (samples_per_note \u0026gt; 4000) samples_per_note = 4000;  // Limit to buffer size","","    // Smooth delay time changes","    target_delay = samples_per_note;","    if (global delay_time \u0026lt; target_delay) {","        global delay_time = global delay_time + 1;","    } else if (global delay_time \u0026gt; target_delay) {","        global delay_time = global delay_time - 1;","    }","","    // Process delay","    input = (int)global signal[0];","    feedback = (int)global params[2];  // Feedback amount","","    // Read from delay buffer","    delayed = global delay_buffer[global delay_write_pos];","","    // Write to delay buffer with feedback","    global delay_buffer[global delay_write_pos] = input + ((delayed * feedback) \u0026gt;\u0026gt; 8);","","    // Advance write position","    global delay_write_pos = global delay_write_pos + 1;","    if (global delay_write_pos \u0026gt;= global delay_time) {","        global delay_write_pos = 0;","    }","","    // Mix delayed signal with input","    output = input + ((delayed * (int)global params[3]) \u0026gt;\u0026gt; 8);  // Wet level","","    return output;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eTempo-Locked LFO\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// LFO synchronized to MIDI clock","global int lfo_phase = 0        // LFO phase accumulator","global int lfo_rate_division = 24  // MIDI clocks per LFO cycle","","function generate_synced_lfo()","locals int lfo_division, int clocks_per_cycle, int phase_increment, int lfo_output","{","    // Read LFO rate from parameter","    lfo_division = (int)global params[7] \u0026gt;\u0026gt; 5;  // 0-7 divisions","","    // Set clock division for LFO rate","    if (lfo_division == 0) {","        clocks_per_cycle = 96;     // 1 bar (4 beats)","    } else if (lfo_division == 1) {","        clocks_per_cycle = 48;     // 2 beats","    } else if (lfo_division == 2) {","        clocks_per_cycle = 24;     // 1 beat","    } else if (lfo_division == 3) {","        clocks_per_cycle = 12;     // 1/2 beat","    } else {","        clocks_per_cycle = 6;      // 1/4 beat","    }","","    if (global midi_running == 1) {","        // Sync to MIDI clock","        global lfo_phase = ((global clock_counter % clocks_per_cycle) * 256) / clocks_per_cycle;","","        // Add inter-clock interpolation","        phase_increment = (global sample_counter * 256) / (global samples_per_clock * clocks_per_cycle);","        global lfo_phase = global lfo_phase + phase_increment;","        if (global lfo_phase \u0026gt; 255) global lfo_phase = global lfo_phase - 256;","    } else {","        // Free-running mode","        phase_increment = 256 / 1000;  // Slow free-running rate","        global lfo_phase = global lfo_phase + phase_increment;","        if (global lfo_phase \u0026gt; 255) global lfo_phase = global lfo_phase - 256;","    }","","    // Generate triangle wave (simple LFO shape)","    if (global lfo_phase \u0026lt; 128) {","        lfo_output = global lfo_phase * 2;           // Rising","    } else {","        lfo_output = 255 - ((global lfo_phase - 128) * 2);  // Falling","    }","","    return lfo_output;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eRhythmic Gate Sequencer\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Simple gate sequencer synced to MIDI clock","global array gate_pattern[16] = {1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0}","global int current_step = 0","global int clocks_per_step = 6  // 16th note steps","global int step_clock = 0","","function update_synced_gate()","locals int gate_open, int gate_level, int audio_sample","{","    if (global midi_running == 0) {","        // No sync - gate always open","        return (int)global signal[0];","    }","","    // Update step position based on MIDI clock","    global step_clock = global step_clock + 1;","    if (global step_clock \u0026gt;= global clocks_per_step) {","        global step_clock = 0;","        global current_step = global current_step + 1;","        if (global current_step \u0026gt;= 16) global current_step = 0;","    }","","    // Get gate state from pattern","    gate_open = global gate_pattern[global current_step];","","    // Process audio through gate","    audio_sample = (int)global signal[0];","","    if (gate_open == 1) {","        gate_level = 255;  // Gate open","    } else {","        gate_level = (int)global params[0] \u0026gt;\u0026gt; 2;  // Closed level (0-63)","    }","","    // Apply gate","    audio_sample = (audio_sample * gate_level) \u0026gt;\u0026gt; 8;","","    // Visual feedback","    global displayLEDs[1] = gate_open ? 255 : 32;","    global displayLEDs[2] = global current_step \u0026lt;\u0026lt; 4;  // Show step","","    return audio_sample;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eComplete Synchronized Audio Processing\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process()","locals int input_sample, int delayed_sample, int lfo_value, int gated_sample, int output_sample","{","    loop {","        // Handle MIDI clock system","        process_midi_clock();","        update_clock_prediction();","","        // Read input","        input_sample = (int)global signal[0];","","        // Apply synchronized effects","        delayed_sample = synced_delay();","        lfo_value = generate_synced_lfo();","        gated_sample = update_synced_gate();","","        // Combine effects","        output_sample = gated_sample;","","        // Apply LFO modulation to output level","        output_sample = (output_sample * (128 + (lfo_value \u0026gt;\u0026gt; 1))) \u0026gt;\u0026gt; 8;","","        // Prevent clipping","        if (output_sample \u0026gt; 2047) output_sample = 2047;","        if (output_sample \u0026lt; -2047) output_sample = -2047;","","        // Output processed signal","        global signal[0] = output_sample;","        global signal[1] = output_sample;","","        // Update sync display","        update_sync_display();","","        yield();","    }","}","","// Visual feedback for synchronization status","function update_sync_display()","{","    // Show running status","    if (global midi_running == 1) {","        global displayLEDs[0] = 255;  // Bright when running","    } else {","        global displayLEDs[0] = 64;   // Dim when stopped","    }","","    // Beat indicator - flash on quarter notes","    if ((global clock_counter % 24) == 0) {","        global displayLEDs[1] = 255;  // Beat flash","    } else if (global displayLEDs[1] \u0026gt; 10) {","        global displayLEDs[1] = global displayLEDs[1] - 10;  // Fade","    }","","    // Show current tempo/timing","    global displayLEDs[2] = global current_tempo;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eParameter Usage Guide\u003c/h3\u003e","","\u003ch4\u003eControl Parameters:\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eparams[0]\u003c/strong\u003e: Gate closed level (how much signal when gate closed)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eparams[1]\u003c/strong\u003e: Delay division (bits 6-7: 0=1/4, 1=1/8, 2=1/16, 3=1/32)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eparams[2]\u003c/strong\u003e: Delay feedback amount\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eparams[3]\u003c/strong\u003e: Delay wet level\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eparams[4]\u003c/strong\u003e: MIDI message input (status bytes)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eparams[5]\u003c/strong\u003e: MIDI start/stop commands\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eparams[6]\u003c/strong\u003e: MIDI clock tick input\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eparams[7]\u003c/strong\u003e: LFO rate division (bits 5-7)\u003c/li\u003e","","\u003ch3\u003eKey Benefits\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eSample-Accurate Timing\u003c/strong\u003e: Synchronization with external sequencers through MIDI clock processing.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMusical Divisions\u003c/strong\u003e: Support for standard note divisions (quarter to thirty-second notes).\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eVisual Feedback\u003c/strong\u003e: LED indicators show sync status, beats, and effect activity.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eSimple Interface\u003c/strong\u003e: Uses parameter inputs for MIDI data, making it DAW-compatible.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eReal-Time Performance\u003c/strong\u003e: Efficient implementation suitable for live audio processing.\u003c/p\u003e","","\u003cp\u003eThis simplified MIDI sync system provides essential tempo-locked functionality while maintaining Impala compatibility and real-time audio performance.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-51\" class=\"doc-section\"\u003e","\u003ch1\u003e51. Parameter Morphing\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/integration/parameter-morphing.md\u003c/div\u003e","","\u003ch2\u003eParameter Morphing \u0026 Dynamic Control\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","\u003cp\u003eImplement smooth parameter morphing and dynamic control systems that allow real-time parameter interpolation, macro controls, and complex parameter relationships.\u003c/p\u003e","","\u003cp\u003e\u0026gt; \u003cstrong\u003eNote\u003c/strong\u003e: This file contains advanced implementation concepts. For a practical working version with proper Impala syntax, the core parameter smoothing functionality is demonstrated in the cookbook fundamentals files such as [parameter-mapping.md](../user-guides/cookbook/fundamentals/parameter-mapping.md).\u003c/p\u003e","","\u003ch3\u003eBasic Parameter Morphing\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Parameter state management","struct ParamState {","    current: [i32; 4],","    target: [i32; 4],","    rate: [i32; 4]","}","","let param_state = ParamState {","    current: [0, 0, 0, 0],","    target: [0, 0, 0, 0],","    rate: [16, 16, 16, 16]  // Morphing speed","};","","fn update_parameter_morphing() {","    for i in 0..4 {","        let diff = param_state.target[i] - param_state.current[i];","        if diff != 0 {","            // Gradual approach to target","            let step = diff / param_state.rate[i];","            if step == 0 { step = if diff \u0026gt; 0 { 1 } else { -1 }; }","","            param_state.current[i] += step;","            params[i] = param_state.current[i];","        }","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMacro Control System\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Macro parameter controlling multiple targets","struct MacroControl {","    source_param: i32,     // Which parameter drives the macro","    targets: [i32; 4],     // Target parameter indices","    ranges: [[i32; 2]; 4], // Min/max for each target","    curves: [i32; 4],      // Curve shapes","    active: [bool; 4]      // Which targets are active","}","","let macro1 = MacroControl {","    source_param: 0,","    targets: [1, 2, 3, -1],","    ranges: [[0, 512], [256, 1023], [0, 1023], [0, 0]],","    curves: [0, 1, 2, 0],  // Linear, exp, log, unused","    active: [true, true, true, false]","};","","fn process_macro_control(macro: MacroControl) {","    let source_value = params[macro.source_param];","","    for i in 0..4 {","        if macro.active[i] \u0026amp;\u0026amp; macro.targets[i] \u0026gt;= 0 {","            let target_idx = macro.targets[i];","            let mapped_value = map_macro_value(source_value,","                                             macro.ranges[i],","                                             macro.curves[i]);","            param_state.target[target_idx] = mapped_value;","        }","    }","}","","fn map_macro_value(source: i32, range: [i32; 2], curve: i32) -\u0026gt; i32 {","    // Normalize source to 0-1023","    let normalized = clamp(source, 0, 1023);","","    // Apply curve","    let curved = match curve {","        0 =\u0026gt; normalized,  // Linear","        1 =\u0026gt; (normalized * normalized) \u0026gt;\u0026gt; 10,  // Exponential","        2 =\u0026gt; logarithmic_curve(normalized),    // Logarithmic","        _ =\u0026gt; normalized","    };","","    // Map to target range","    return range[0] + ((curved * (range[1] - range[0])) \u0026gt;\u0026gt; 10);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eCrossfading Between States\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Crossfade between two complete parameter sets","struct ParameterBank {","    bank_a: [i32; 8],","    bank_b: [i32; 8],","    crossfade: i32  // 0=full A, 1023=full B","}","","let param_banks = ParameterBank {","    bank_a: [200, 300, 400, 500, 0, 0, 0, 0],","    bank_b: [800, 100, 900, 200, 0, 0, 0, 0],","    crossfade: 512","};","","fn crossfade_parameters() {","    let fade_amount = param_banks.crossfade;","    let inv_fade = 1023 - fade_amount;","","    for i in 0..4 {  // Process first 4 parameters","        let value_a = param_banks.bank_a[i];","        let value_b = param_banks.bank_b[i];","","        // Linear crossfade","        let mixed = ((value_a * inv_fade) + (value_b * fade_amount)) \u0026gt;\u0026gt; 10;","        param_state.target[i] = mixed;","    }","}","","// Advanced crossfading with curves","fn crossfade_with_curve(fade_pos: i32, curve_type: i32) -\u0026gt; i32 {","    match curve_type {","        0 =\u0026gt; fade_pos,  // Linear","        1 =\u0026gt; smooth_step(fade_pos),  // S-curve","        2 =\u0026gt; equal_power(fade_pos),  // Equal power","        _ =\u0026gt; fade_pos","    }","}","","fn smooth_step(x: i32) -\u0026gt; i32 {","    // Smooth S-curve: 3x虏 - 2x鲁","    let norm = (x \u0026lt;\u0026lt; 10) / 1023;  // Normalize to 0-1024","    let x2 = (norm * norm) \u0026gt;\u0026gt; 10;","    let x3 = (x2 * norm) \u0026gt;\u0026gt; 10;","    return ((3 * x2) - (2 * x3)) \u0026gt;\u0026gt; 10;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eEnvelope-Based Parameter Control\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// ADSR envelope for parameter automation","struct ParameterEnvelope {","    attack: i32,","    decay: i32,","    sustain: i32,","    release: i32,","    current_stage: i32,  // 0=off, 1=attack, 2=decay, 3=sustain, 4=release","    stage_progress: i32,","    target_param: i32","}","","let filter_env = ParameterEnvelope {","    attack: 100,   // samples","    decay: 200,","    sustain: 700,  // level (0-1023)","    release: 500,","    current_stage: 0,","    stage_progress: 0,","    target_param: 1","};","","fn trigger_envelope(env: \u0026amp;mut ParameterEnvelope) {","    env.current_stage = 1;  // Start attack","    env.stage_progress = 0;","}","","fn process_envelope(env: \u0026amp;mut ParameterEnvelope) {","    match env.current_stage {","        1 =\u0026gt; { // Attack","            env.stage_progress += 1;","            let level = (env.stage_progress * 1023) / env.attack;","            param_state.target[env.target_param] = clamp(level, 0, 1023);","","            if env.stage_progress \u0026gt;= env.attack {","                env.current_stage = 2;","                env.stage_progress = 0;","            }","        },","        2 =\u0026gt; { // Decay","            env.stage_progress += 1;","            let decay_amount = 1023 - env.sustain;","            let level = 1023 - ((env.stage_progress * decay_amount) / env.decay);","            param_state.target[env.target_param] = clamp(level, env.sustain, 1023);","","            if env.stage_progress \u0026gt;= env.decay {","                env.current_stage = 3;","            }","        },","        3 =\u0026gt; { // Sustain","            param_state.target[env.target_param] = env.sustain;","        },","        4 =\u0026gt; { // Release","            env.stage_progress += 1;","            let level = env.sustain - ((env.stage_progress * env.sustain) / env.release);","            param_state.target[env.target_param] = clamp(level, 0, env.sustain);","","            if env.stage_progress \u0026gt;= env.release {","                env.current_stage = 0;  // Off","            }","        },","        _ =\u0026gt; {}  // Off or invalid","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eLFO Parameter Modulation\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Low Frequency Oscillator for parameter modulation","struct ParameterLFO {","    frequency: i32,    // In 0.1 Hz units","    amplitude: i32,    // Modulation depth","    phase: i32,        // Current phase (0-1023)","    waveform: i32,     // 0=sine, 1=triangle, 2=saw, 3=square","    target_param: i32,","    center_value: i32","}","","let mod_lfo = ParameterLFO {","    frequency: 5,      // 0.5 Hz","    amplitude: 200,    // 卤200 modulation","    phase: 0,","    waveform: 0,       // Sine wave","    target_param: 2,","    center_value: 512","};","","fn process_lfo(lfo: \u0026amp;mut ParameterLFO) {","    // Update phase","    lfo.phase += lfo.frequency;","    if lfo.phase \u0026gt;= 1024 { lfo.phase -= 1024; }","","    // Generate waveform","    let wave_value = match lfo.waveform {","        0 =\u0026gt; sine_wave(lfo.phase),","        1 =\u0026gt; triangle_wave(lfo.phase),","        2 =\u0026gt; sawtooth_wave(lfo.phase),","        3 =\u0026gt; square_wave(lfo.phase),","        _ =\u0026gt; 0","    };","","    // Apply modulation","    let modulated = lfo.center_value + ((wave_value * lfo.amplitude) \u0026gt;\u0026gt; 10);","    param_state.target[lfo.target_param] = clamp(modulated, 0, 1023);","}","","fn sine_wave(phase: i32) -\u0026gt; i32 {","    // Simple sine approximation using lookup or polynomial","    // Returns -512 to +512","    return sin_lookup[phase \u0026amp; 1023];","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eIntegration Example\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","fn process() {","    // Update all morphing systems","    update_parameter_morphing();","    process_macro_control(macro1);","    crossfade_parameters();","    process_envelope(\u0026amp;mut filter_env);","    process_lfo(\u0026amp;mut mod_lfo);","","    // Use morphed parameters for audio processing","    let input = signal[0];","    let filtered = apply_filter(input, params[1]);  // Uses morphed filter cutoff","    signal[1] = filtered;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eThis system enables complex parameter relationships and smooth real-time control for professional performance scenarios.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-52\" class=\"doc-section\"\u003e","\u003ch1\u003e52. State Recall Simplified\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/integration/state-recall-simplified.md\u003c/div\u003e","","\u003ch2\u003eState Recall \u0026 External Control\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","\u003cp\u003eImplement state management that allows external systems to save, recall, and synchronize firmware states including parameters, internal variables, and processing modes.\u003c/p\u003e","","\u003ch3\u003eCore State Structure\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","// Required native function declarations","extern native yield             // Return control to Permut8 audio engine","","// Standard global variables","global array signal[2]          // Left/Right audio samples","global array params[8]          // Parameter values (0-255)","global array displayLEDs[4]     // LED displays","","// State management globals","global array saved_params[8]    // Saved parameter values","global int saved_mode = 0       // Saved processing mode","global int current_mode = 0     // Current processing mode","global array param_targets[8]   // Target values for smooth transitions","global array param_steps[8]     // Step sizes for smooth transitions","global int smooth_active = 0    // Smoothing in progress flag","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eState Capture \u0026 Restoration\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Capture current state","function save_current_state()","locals int i","{","    // Save all parameters","    i = 0;","    loop {","        if (i \u0026gt;= 8) break;","        global saved_params[i] = (int)global params[i];","        i = i + 1;","    }","","    // Save current mode","    global saved_mode = global current_mode;","","    // Visual feedback","    global displayLEDs[0] = 255;  // Save confirmation","}","","// Restore saved state with smoothing","function restore_saved_state()","locals int i","{","    // Set up smooth parameter transitions","    i = 0;","    loop {","        if (i \u0026gt;= 8) break;","        global param_targets[i] = global saved_params[i];","        global param_steps[i] = (global param_targets[i] - (int)global params[i]) \u0026gt;\u0026gt; 5;  // Smooth over 32 samples","        i = i + 1;","    }","","    // Restore mode","    global current_mode = global saved_mode;","    global smooth_active = 1;","","    // Visual feedback","    global displayLEDs[1] = 255;  // Restore confirmation","}","","// Update smooth parameter transitions","function update_smooth_transitions()","locals int i, int current, int target, int step","{","    if (global smooth_active == 0) return;","","    global smooth_active = 0;  // Reset flag, set to 1 if any parameter still smoothing","","    i = 0;","    loop {","        if (i \u0026gt;= 8) break;","","        current = (int)global params[i];","        target = global param_targets[i];","        step = global param_steps[i];","","        if (current != target) {","            // Continue smoothing","            if (step \u0026gt; 0 \u0026amp;\u0026amp; current \u0026lt; target) {","                current = current + step;","                if (current \u0026gt; target) current = target;","            } else if (step \u0026lt; 0 \u0026amp;\u0026amp; current \u0026gt; target) {","                current = current + step;","                if (current \u0026lt; target) current = target;","            }","","            global params[i] = current;","            global smooth_active = 1;  // Still smoothing","        }","","        i = i + 1;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eExternal Control Interface\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Simple state commands via parameter inputs","function handle_state_commands()","locals int save_trigger, int restore_trigger, int param_set_mode","{","    // Read command triggers from higher parameter slots","    save_trigger = (int)global params[6];      // Save state when \u0026gt; 127","    restore_trigger = (int)global params[7];   // Restore state when \u0026gt; 127","","    // Save state command","    if (save_trigger \u0026gt; 127) {","        save_current_state();","    }","","    // Restore state command","    if (restore_trigger \u0026gt; 127) {","        restore_saved_state();","    }","","    // Direct parameter setting mode (params[5] selects which param to set)","    param_set_mode = (int)global params[5];","    if (param_set_mode \u0026lt; 8) {","        // Set specific parameter via external control","        // Value comes from params[4]","        global params[param_set_mode] = (int)global params[4];","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMultiple State Snapshots\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Support for 4 state snapshots","global array snapshot_params[32]  // 4 snapshots  8 parameters","global array snapshot_modes[4]    // Mode for each snapshot","global int current_snapshot = 0   // Currently selected snapshot","","function save_to_snapshot()","locals int slot, int base_index, int i","{","    slot = ((int)global params[5] \u0026gt;\u0026gt; 6);  // 0-3 from parameter bits","    if (slot \u0026gt;= 4) return;","","    base_index = slot * 8;","","    // Save parameters to snapshot","    i = 0;","    loop {","        if (i \u0026gt;= 8) break;","        global snapshot_params[base_index + i] = (int)global params[i];","        i = i + 1;","    }","","    // Save mode","    global snapshot_modes[slot] = global current_mode;","    global current_snapshot = slot;","","    // Visual feedback - show snapshot number","    global displayLEDs[2] = slot \u0026lt;\u0026lt; 6;","}","","function recall_from_snapshot()","locals int slot, int base_index, int i","{","    slot = ((int)global params[5] \u0026gt;\u0026gt; 6);  // 0-3 from parameter bits","    if (slot \u0026gt;= 4) return;","","    base_index = slot * 8;","","    // Set up smooth transitions to snapshot values","    i = 0;","    loop {","        if (i \u0026gt;= 8) break;","        global param_targets[i] = global snapshot_params[base_index + i];","        global param_steps[i] = (global param_targets[i] - (int)global params[i]) \u0026gt;\u0026gt; 5;","        i = i + 1;","    }","","    // Restore mode","    global current_mode = global snapshot_modes[slot];","    global current_snapshot = slot;","    global smooth_active = 1;","","    // Visual feedback","    global displayLEDs[3] = slot \u0026lt;\u0026lt; 6;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eComplete Audio Processing with State Management\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process()","locals int input_sample, int output_sample, int mix_level, int mode_processing","{","    loop {","        // Handle external state commands","        handle_state_commands();","","        // Update smooth parameter transitions","        update_smooth_transitions();","","        // Process audio based on current mode","        input_sample = (int)global signal[0];","        mix_level = (int)global params[0];","","        if (global current_mode == 0) {","            // Mode 0: Clean pass-through","            output_sample = input_sample;","","        } else if (global current_mode == 1) {","            // Mode 1: Simple gain control","            output_sample = (input_sample * mix_level) \u0026gt;\u0026gt; 8;","","        } else if (global current_mode == 2) {","            // Mode 2: Basic distortion","            mode_processing = input_sample + (input_sample \u0026gt;\u0026gt; 2);","            output_sample = (mode_processing * mix_level) \u0026gt;\u0026gt; 8;","","        } else {","            // Mode 3: Bit reduction","            mode_processing = (input_sample \u0026gt;\u0026gt; 2) \u0026lt;\u0026lt; 2;","            output_sample = (mode_processing * mix_level) \u0026gt;\u0026gt; 8;","        }","","        // Prevent clipping","        if (output_sample \u0026gt; 2047) output_sample = 2047;","        if (output_sample \u0026lt; -2047) output_sample = -2047;","","        // Output processed signal","        global signal[0] = output_sample;","        global signal[1] = output_sample;","","        // Show state activity on LEDs","        global displayLEDs[0] = mix_level;                    // Main parameter","        global displayLEDs[1] = global current_mode \u0026lt;\u0026lt; 6;    // Current mode","        global displayLEDs[2] = global current_snapshot \u0026lt;\u0026lt; 6; // Active snapshot","        global displayLEDs[3] = global smooth_active ? 255 : 64; // Smoothing indicator","","        yield();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eState Validation \u0026 Safety\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Validate parameter ranges for safety","function validate_and_fix_state()","locals int i, int param_value","{","    i = 0;","    loop {","        if (i \u0026gt;= 8) break;","","        param_value = (int)global params[i];","","        // Clamp to valid range","        if (param_value \u0026lt; 0) {","            global params[i] = 0;","        } else if (param_value \u0026gt; 255) {","            global params[i] = 255;","        }","","        i = i + 1;","    }","","    // Validate mode","    if (global current_mode \u0026lt; 0) global current_mode = 0;","    if (global current_mode \u0026gt; 3) global current_mode = 0;","}","","// Create safe default state","function reset_to_safe_defaults()","locals int i","{","    // Reset all parameters to safe values","    i = 0;","    loop {","        if (i \u0026gt;= 8) break;","        global params[i] = 128;  // Middle values","        i = i + 1;","    }","","    // Reset mode and state","    global current_mode = 0;","    global current_snapshot = 0;","    global smooth_active = 0;","","    // Clear all snapshots","    i = 0;","    loop {","        if (i \u0026gt;= 32) break;","        global snapshot_params[i] = 128;","        i = i + 1;","    }","","    // Visual feedback","    global displayLEDs[0] = 128;  // Default indicator","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eIntegration Benefits\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eParameter Smoothing\u003c/strong\u003e: Prevents audio clicks during state transitions with gradual parameter changes.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMultiple Snapshots\u003c/strong\u003e: Support for 4 complete state snapshots with instant recall.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eExternal Control\u003c/strong\u003e: Simple parameter-based interface for DAW automation and external controllers.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMode Management\u003c/strong\u003e: Complete processing mode state included in saved presets.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eSafety Validation\u003c/strong\u003e: Automatic parameter range checking and safe default fallbacks.\u003c/p\u003e","","\u003cp\u003eThis simplified state management system provides essential preset functionality while maintaining real-time audio performance and Impala language compatibility.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-53\" class=\"doc-section\"\u003e","\u003ch1\u003e53. Preset Friendly\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/integration/preset-friendly.md\u003c/div\u003e","","\u003ch2\u003ePreset-Friendly Firmware Design\u003c/h2\u003e","","\u003cp\u003eCreating firmware that works seamlessly with preset systems - enables users to save, share, and recall their settings reliably across different hosts and hardware.\u003c/p\u003e","","\u003cp\u003e\u0026gt; \u003cstrong\u003eNote\u003c/strong\u003e: This file contains design concepts with some non-Impala syntax. For a complete working implementation, see [preset-system.md](preset-system.md) which provides proper Impala syntax for preset integration.\u003c/p\u003e","","\u003ch3\u003ePreset System Fundamentals\u003c/h3\u003e","","\u003cp\u003ePresets are collections of parameter values that recreate a specific sound or configuration. Well-designed firmware makes preset management effortless for users.\u003c/p\u003e","","\u003ch4\u003eCore Preset Requirements\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// All preset data should be contained in parameter array","// No hidden state that presets can't capture","let reverb_size = params[0];      // Saved in presets","let reverb_damping = params[1];   // Saved in presets","let output_level = params[2];     // Saved in presets","","// Derived values recalculated from parameters","let room_delay = reverb_size * MAX_DELAY_SAMPLES;  // Not saved - computed","let damping_coeff = 1.0 - reverb_damping;         // Not saved - computed","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eKey Principle\u003c/strong\u003e: Parameters contain the complete sonic state - everything else is computed from them.\u003c/p\u003e","","\u003ch4\u003eParameter Organization for Presets\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Group related parameters logically","// Params 0-2: Core sound shaping","let filter_cutoff = params[0];","let filter_resonance = params[1];","let filter_type = params[2];       // 0=low, 0.33=high, 0.66=band, 1=notch","","// Params 3-5: Modulation","let lfo_rate = params[3];","let lfo_depth = params[4];","let lfo_target = params[5];        // Which parameter LFO modulates","","// Params 6-7: Output section","let output_gain = params[6];","let bypass_state = params[7];","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eBenefit\u003c/strong\u003e: Users can quickly understand and modify presets - similar parameters are grouped together.\u003c/p\u003e","","\u003ch3\u003eState Management for Presets\u003c/h3\u003e","","\u003ch4\u003eImmediate Parameter Response\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Parameters take effect immediately when changed","let current_cutoff = params[0];    // Use current value directly","","// NO startup delays or gradual parameter loading","if (preset_just_loaded) {","    // Don't do this - creates confusion","    // target_cutoff = params[0];","    // current_cutoff = lerp(current_cutoff, target_cutoff, 0.01);","}","","// Apply parameter value right away","let filter_output = apply_filter(input, current_cutoff, params[1]);","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eUser Experience\u003c/strong\u003e: When a preset loads, the sound changes immediately to match what's saved.\u003c/p\u003e","","\u003ch4\u003ePreserving Temporal State\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Some state should NOT be reset by presets","static let phase_accumulator = 0.0;    // LFO phase continues running","static let random_seed = 12345;        // Random sequences continue","static let delay_buffer[MAX_DELAY];    // Audio in delay line persists","","// Reset only when musically appropriate","if (params[7] \u0026gt; 0.5) {  // \"Reset LFO\" parameter","    phase_accumulator = 0.0;           // User explicitly requested reset","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eGuideline\u003c/strong\u003e: Preserve audio continuity - don't create clicks or silence when loading presets.\u003c/p\u003e","","\u003ch4\u003eParameter Smoothing Across Presets\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Smooth only parameters that cause audio artifacts","let target_gain = params[6];","static let smoothed_gain = 0.5;        // Initialize to safe default","","// Use fast smoothing to reach new preset values quickly","let smooth_factor = 0.95;              // Faster than normal parameter smoothing","smoothed_gain = smoothed_gain * smooth_factor + target_gain * (1.0 - smooth_factor);","","let output = input * smoothed_gain;","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eBalance\u003c/strong\u003e: Fast enough that presets respond quickly, smooth enough to avoid clicks.\u003c/p\u003e","","\u003ch3\u003ePreset Validation and Error Handling\u003c/h3\u003e","","\u003ch4\u003eParameter Range Validation\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Validate all parameters on preset load","for (int i = 0; i \u0026lt; NUM_PARAMETERS; i++) {","    // Clamp to valid range","    if (params[i] \u0026lt; 0.0) params[i] = 0.0;","    if (params[i] \u0026gt; 1.0) params[i] = 1.0;","","    // Handle invalid floating point values","    if (isnan(params[i]) || isinf(params[i])) {","        params[i] = get_default_value(i);  // Use safe default","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eGraceful Degradation\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Handle missing or corrupted parameter data","let expected_param_count = 8;","let actual_param_count = get_preset_param_count();","","if (actual_param_count \u0026lt; expected_param_count) {","    // Fill missing parameters with defaults","    for (int i = actual_param_count; i \u0026lt; expected_param_count; i++) {","        params[i] = get_default_value(i);","    }","}","","// Function to provide sensible defaults","float get_default_value(int param_index) {","    switch (param_index) {","        case 0: return 0.5;    // Filter cutoff - middle position","        case 1: return 0.0;    // Resonance - minimal","        case 2: return 0.0;    // Filter type - lowpass","        case 6: return 0.75;   // Output gain - slightly below unity","        case 7: return 0.0;    // Bypass - effect enabled","        default: return 0.5;   // Generic middle value","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eResult\u003c/strong\u003e: Presets work even when created with older firmware versions or corrupted data.\u003c/p\u003e","","\u003ch3\u003ePreset-Friendly Parameter Design\u003c/h3\u003e","","\u003ch4\u003eMeaningful Default Values\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Choose defaults that create useful starting points","let mix_amount = params[0];            // Default 0.5 = 50% wet/dry mix","let delay_time = params[1];            // Default 0.33 = 1/8 note timing","let feedback = params[2];              // Default 0.25 = moderate feedback","let tone_control = params[3];          // Default 0.5 = neutral tone","","// Avoid defaults that create silence or extreme sounds","// Bad: Default delay feedback of 0.0 (no delay heard)","// Good: Default delay feedback of 0.25 (clearly audible but stable)","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eParameter Scaling for Musical Results\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Scale parameters so middle positions are musically useful","let filter_param = params[0];","","// Linear scaling often doesn't work musically","// let bad_cutoff = filter_param * 20000.0;  // 50% = 10kHz (too high)","","// Logarithmic scaling puts useful frequencies in middle range","let min_freq = 80.0;   // 80 Hz minimum (useful bass)","let max_freq = 8000.0; // 8 kHz maximum (useful treble)","let log_range = log(max_freq / min_freq);","let musical_cutoff = min_freq * exp(filter_param * log_range);","// 50% = ~800 Hz (musically useful midrange)","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eInter-Parameter Relationships\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Design parameters to work well together in any combination","let distortion_amount = params[0];","let distortion_output = params[1];","","// Auto-compensate for level changes","let input_gain = 1.0 + distortion_amount * 3.0;     // More drive = more input gain","let output_gain = (1.0 + distortion_amount) * params[1]; // Compensated output level","","// This way, any preset combination sounds balanced","let processed = distort(input * input_gain) * output_gain;","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eFactory Preset Strategies\u003c/h3\u003e","","\u003ch4\u003eCovering the Parameter Space\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Design factory presets to demonstrate parameter ranges","// Preset 1: \"Subtle\" - parameters near default positions","// params = [0.4, 0.3, 0.6, 0.5, 0.2, 0.7, 0.8, 0.0]","","// Preset 2: \"Extreme\" - parameters at useful extremes","// params = [0.9, 0.8, 1.0, 0.1, 0.9, 0.3, 0.9, 0.0]","","// Preset 3: \"Minimal\" - minimal effect for subtle use","// params = [0.1, 0.0, 0.2, 0.5, 0.1, 0.8, 0.7, 0.0]","","// Each preset teaches users about parameter behavior","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eEducational Preset Design\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Create presets that isolate specific features","// \"Just Filter\" preset - only filter active","let educational_preset_1[] = {","    0.7,  // Filter cutoff - clearly audible","    0.3,  // Filter resonance - noticeable but not harsh","    0.0,  // Filter type - lowpass","    0.0,  // LFO rate - no modulation","    0.0,  // LFO depth - no modulation","    0.0,  // LFO target - unused","    0.8,  // Output gain - clear level","    0.0   // Bypass - effect enabled","};","","// \"Just LFO\" preset - only modulation active","let educational_preset_2[] = {","    0.5,  // Filter cutoff - neutral","    0.0,  // Filter resonance - minimal","    0.0,  // Filter type - lowpass","    0.4,  // LFO rate - medium speed","    0.6,  // LFO depth - clearly audible","    0.0,  // LFO target - modulate cutoff","    0.8,  // Output gain - clear level","    0.0   // Bypass - effect enabled","};","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePreset Compatibility Across Versions\u003c/h3\u003e","","\u003ch4\u003eForward Compatibility\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Design parameter layout for future expansion","// Always add new parameters at the end","let version_1_params[] = {","    params[0],  // Filter cutoff - established in v1","    params[1],  // Filter resonance - established in v1","    params[2],  // Output gain - established in v1","};","","// Version 2 adds new features at end","let version_2_params[] = {","    params[0],  // Filter cutoff - unchanged position","    params[1],  // Filter resonance - unchanged position","    params[2],  // Output gain - unchanged position","    params[3],  // NEW: LFO rate - added in v2","    params[4],  // NEW: LFO depth - added in v2","};","","// Old presets still work - missing parameters use defaults","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eBackward Compatibility Testing\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Test preset loading with missing parameters","void test_preset_compatibility() {","    // Simulate loading preset from older firmware version","    float old_preset[3] = {0.7, 0.3, 0.8};  // Only 3 parameters","","    // Load what's available","    for (int i = 0; i \u0026lt; 3; i++) {","        params[i] = old_preset[i];","    }","","    // Fill remaining with defaults","    for (int i = 3; i \u0026lt; NUM_PARAMETERS; i++) {","        params[i] = get_default_value(i);","    }","","    // Verify firmware still works correctly","    assert(firmware_state_is_valid());","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eTesting Preset Functionality\u003c/h3\u003e","","\u003ch4\u003eAutomated Preset Testing\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Test all parameter combinations work in presets","void test_preset_robustness() {","    for (int test = 0; test \u0026lt; 1000; test++) {","        // Generate random parameter values","        for (int i = 0; i \u0026lt; NUM_PARAMETERS; i++) {","            params[i] = random_float(0.0, 1.0);","        }","","        // Process audio with these settings","        float test_input = generate_test_signal();","        float test_output = process_audio(test_input);","","        // Verify output is valid","        assert(!isnan(test_output));","        assert(!isinf(test_output));","        assert(fabs(test_output) \u0026lt; MAX_SAFE_LEVEL);","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eUser Testing Checklist\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003ePreset Loading Speed\u003c/strong\u003e: Presets change sound immediately\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eParameter Consistency\u003c/strong\u003e: Same preset always sounds the same\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eNo Audio Artifacts\u003c/strong\u003e: No clicks, pops, or silence when loading presets\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eParameter Interaction\u003c/strong\u003e: All parameter combinations work in presets\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eHost Integration\u003c/strong\u003e: Presets work in all major DAWs and hardware\u003c/p\u003e","\u003cp\u003e6. \u003cstrong\u003eFile Compatibility\u003c/strong\u003e: Presets created in different hosts are interchangeable\u003c/p\u003e","","\u003ch4\u003eCommon Preset Problems to Avoid\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// DON'T: Hidden state that presets can't capture","static let secret_mode = calculate_something_complex();  // Lost when preset loads","","// DON'T: Parameters that only work in certain combinations","if (params[0] \u0026gt; 0.8 \u0026amp;\u0026amp; params[1] \u0026lt; 0.2) {","    // This combination creates special behavior - confusing in presets","}","","// DON'T: Initialization that breaks preset loading","void init_firmware() {","    // Bad: Always reset to default values","    params[0] = 0.5;  // Overwrites loaded preset!","","    // Good: Only set defaults if no preset is loaded","    if (!preset_was_loaded) {","        params[0] = 0.5;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eThis comprehensive approach ensures your firmware integrates seamlessly with any preset system, making it more professional and user-friendly for preset sharing and workflow integration.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-54\" class=\"doc-section\"\u003e","\u003ch1\u003e54. Midi Learn\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/integration/midi-learn.md\u003c/div\u003e","","\u003ch2\u003eMIDI Learn Implementation\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","\u003cp\u003eEnable dynamic MIDI controller assignment, allowing users to assign any MIDI CC to any firmware parameter in real-time without recompiling.\u003c/p\u003e","","\u003cp\u003e\u0026gt; \u003cstrong\u003eNote\u003c/strong\u003e: This file contains advanced implementation concepts. For a practical working version, see [midi-learn-simplified.md](midi-learn-simplified.md) which provides the same core functionality using proper Impala syntax.\u003c/p\u003e","","\u003ch3\u003eCore MIDI Learn Structure\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// MIDI Learn mapping table","struct MidiMapping {","    cc_number: i32,","    param_index: i32,","    min_value: i32,","    max_value: i32,","    is_active: bool","}","","let midi_map: [MidiMapping; 8] = [","    MidiMapping { cc_number: -1, param_index: 0, min_value: 0, max_value: 1023, is_active: false },","    // ... initialize 8 slots","];","","let learn_mode = false;","let learn_target_param = -1;","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eLearn Mode Implementation\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","fn enter_learn_mode(param_index: i32) {","    learn_mode = true;","    learn_target_param = param_index;","","    // Visual feedback - blink LED for target parameter","    displayLEDs[0] = 0x0F0F;  // Blink pattern","}","","fn process_midi_learn(cc_number: i32, value: i32) {","    if learn_mode \u0026amp;\u0026amp; learn_target_param \u0026gt;= 0 {","        // Find empty mapping slot or update existing","        let slot = find_mapping_slot(cc_number);","","        midi_map[slot].cc_number = cc_number;","        midi_map[slot].param_index = learn_target_param;","        midi_map[slot].min_value = 0;","        midi_map[slot].max_value = 1023;","        midi_map[slot].is_active = true;","","        // Exit learn mode","        learn_mode = false;","        learn_target_param = -1;","        displayLEDs[0] = 0x00FF;  // Success indicator","    }","}","","fn find_mapping_slot(cc_number: i32) -\u0026gt; i32 {","    // First, check if CC already mapped","    for i in 0..8 {","        if midi_map[i].cc_number == cc_number {","            return i;","        }","    }","","    // Find empty slot","    for i in 0..8 {","        if !midi_map[i].is_active {","            return i;","        }","    }","","    return 0;  // Use first slot if all full","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMIDI Processing with Learned Mappings\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","fn handle_midi_cc(cc_number: i32, value: i32) {","    // Check if in learn mode first","    if learn_mode {","        process_midi_learn(cc_number, value);","        return;","    }","","    // Process learned mappings","    for i in 0..8 {","        let mapping = midi_map[i];","        if mapping.is_active \u0026amp;\u0026amp; mapping.cc_number == cc_number {","            apply_learned_mapping(mapping, value);","        }","    }","}","","fn apply_learned_mapping(mapping: MidiMapping, midi_value: i32) {","    // Scale MIDI value (0-127) to parameter range","    let scaled_value = scale_value(midi_value, 0, 127,","                                  mapping.min_value, mapping.max_value);","","    params[mapping.param_index] = scaled_value;","}","","fn scale_value(value: i32, in_min: i32, in_max: i32,","               out_min: i32, out_max: i32) -\u0026gt; i32 {","    let in_range = in_max - in_min;","    let out_range = out_max - out_min;","    return out_min + ((value - in_min) * out_range / in_range);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eUser Interface Integration\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Switch-based learn mode activation","fn check_learn_switches() {","    // Hold switch 1 + press parameter switch to enter learn","    if signal[0] \u0026gt; 1000 {  // Switch 1 held","        if signal[1] \u0026gt; 1000 \u0026amp;\u0026amp; !prev_switch[1] {  // Switch 2 pressed","            enter_learn_mode(0);  // Learn for parameter 0","        }","        if signal[2] \u0026gt; 1000 \u0026amp;\u0026amp; !prev_switch[2] {  // Switch 3 pressed","            enter_learn_mode(1);  // Learn for parameter 1","        }","    }","}","","// Clear learned mappings","fn clear_midi_mappings() {","    for i in 0..8 {","        midi_map[i].is_active = false;","        midi_map[i].cc_number = -1;","    }","    displayLEDs[0] = 0xFF00;  // Clear confirmation","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eAdvanced Mapping Features\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Bidirectional mapping with custom scaling","struct AdvancedMapping {","    cc_number: i32,","    param_index: i32,","    curve_type: i32,  // 0=linear, 1=exponential, 2=logarithmic","    invert: bool,","    center_detent: bool","}","","fn apply_curve(value: i32, curve_type: i32) -\u0026gt; i32 {","    match curve_type {","        0 =\u0026gt; value,  // Linear","        1 =\u0026gt; (value * value) \u0026gt;\u0026gt; 10,  // Exponential","        2 =\u0026gt; logarithmic_scale(value),  // Logarithmic","        _ =\u0026gt; value","    }","}","","fn logarithmic_scale(value: i32) -\u0026gt; i32 {","    // Simple log approximation for parameter curves","    if value \u0026lt;= 0 { return 0; }","    let log_val = 0;","    let temp = value;","    while temp \u0026gt; 1 {","        log_val += 1;","        temp \u0026gt;\u0026gt;= 1;","    }","    return log_val \u0026lt;\u0026lt; 7;  // Scale to parameter range","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMemory Management\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Persistent storage simulation","let eeprom_mappings: [u8; 64] = [0; 64];  // 8 mappings * 8 bytes each","","fn save_mappings_to_eeprom() {","    for i in 0..8 {","        let offset = i * 8;","        eeprom_mappings[offset] = midi_map[i].cc_number as u8;","        eeprom_mappings[offset + 1] = midi_map[i].param_index as u8;","        eeprom_mappings[offset + 2] = midi_map[i].is_active as u8;","        // Store min/max values as 16-bit values","    }","}","","fn load_mappings_from_eeprom() {","    for i in 0..8 {","        let offset = i * 8;","        midi_map[i].cc_number = eeprom_mappings[offset] as i32;","        midi_map[i].param_index = eeprom_mappings[offset + 1] as i32;","        midi_map[i].is_active = eeprom_mappings[offset + 2] != 0;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eThis implementation provides flexible MIDI learn functionality that works with any controller and can be customized for different parameter behaviors.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-55\" class=\"doc-section\"\u003e","\u003ch1\u003e55. Midi Sync\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/integration/midi-sync.md\u003c/div\u003e","","\u003ch2\u003eMIDI Synchronization Techniques\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","\u003cp\u003eImplement precise MIDI clock synchronization for tempo-locked effects, ensuring sample-accurate timing with external sequencers, DAWs, and hardware devices.\u003c/p\u003e","","\u003cp\u003e\u0026gt; \u003cstrong\u003eNote\u003c/strong\u003e: This file contains a comprehensive advanced implementation. For a practical working version, see [midi-sync-simplified.md](midi-sync-simplified.md) which provides the same core functionality using proper Impala syntax.\u003c/p\u003e","","\u003ch3\u003eMIDI Clock Fundamentals\u003c/h3\u003e","","\u003ch4\u003eClock Reception and Processing\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// MIDI clock state management","struct MIDIClockState {","    bool isRunning;","    int clockCounter;","    int ticksPerBeat;    // 24 MIDI clocks per quarter note","    float currentTempo;","    int samplesPerClock;","    int sampleCounter;","    bool clockReceived;","};","","MIDIClockState midiClock = {false, 0, 24, 120.0, 0, 0, false};","","// Initialize MIDI clock system","void initMIDIClock() {","    midiClock.ticksPerBeat = 24;  // MIDI standard","    midiClock.currentTempo = 120.0;","    midiClock.samplesPerClock = calculateSamplesPerClock(120.0);","    midiClock.isRunning = false;","    midiClock.clockCounter = 0;","}","","// Calculate samples per MIDI clock tick","int calculateSamplesPerClock(float tempo) {","    // MIDI sends 24 clocks per quarter note","    float clocksPerSecond = (tempo / 60.0) * 24.0;","    return (int)(sampleRate / clocksPerSecond);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMIDI Message Processing\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Process incoming MIDI clock messages","void processMIDIClockMessage(unsigned char midiStatus, unsigned char data1) {","    switch (midiStatus) {","        case 0xF8:  // MIDI Clock (24 per quarter note)","            handleMIDIClock();","            break;","","        case 0xFA:  // MIDI Start","            handleMIDIStart();","            break;","","        case 0xFB:  // MIDI Continue","            handleMIDIContinue();","            break;","","        case 0xFC:  // MIDI Stop","            handleMIDIStop();","            break;","","        case 0xF2:  // Song Position Pointer","            handleSongPosition(data1);","            break;","    }","}","","void handleMIDIClock() {","    midiClock.clockReceived = true;","    midiClock.clockCounter++;","","    // Reset sample counter for precise timing","    midiClock.sampleCounter = 0;","","    // Update tempo estimation","    updateTempoEstimation();","}","","void handleMIDIStart() {","    midiClock.isRunning = true;","    midiClock.clockCounter = 0;","    midiClock.sampleCounter = 0;","    resetSyncedEffects();","}","","void handleMIDIStop() {","    midiClock.isRunning = false;","    stopSyncedEffects();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eTempo Estimation and Stability\u003c/h3\u003e","","\u003ch4\u003eReal-Time Tempo Detection\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Tempo estimation with stability filtering","struct TempoEstimator {","    float clockTimestamps[8];  // Recent clock timestamps","    int timestampIndex;","    float estimatedTempo;","    float tempoStability;","    bool tempoLocked;","};","","TempoEstimator tempoEst = {0};","","void updateTempoEstimation() {","    static int lastClockTime = 0;","    int currentTime = getCurrentSampleTime();","","    // Store timestamp","    tempoEst.clockTimestamps[tempoEst.timestampIndex] = currentTime;","    tempoEst.timestampIndex = (tempoEst.timestampIndex + 1) % 8;","","    // Calculate tempo from recent clock intervals","    if (tempoEst.timestampIndex == 0) {  // Buffer full","        float avgClockInterval = calculateAverageInterval();","        float newTempo = calculateTempoFromInterval(avgClockInterval);","","        // Smooth tempo changes","        tempoEst.estimatedTempo += (newTempo - tempoEst.estimatedTempo) * 0.1;","","        // Update stability metric","        updateTempoStability(newTempo);","    }","","    lastClockTime = currentTime;","}","","float calculateAverageInterval() {","    float totalInterval = 0.0;","    int validIntervals = 0;","","    for (int i = 1; i \u0026lt; 8; i++) {","        float interval = tempoEst.clockTimestamps[i] - tempoEst.clockTimestamps[i-1];","        if (interval \u0026gt; 0 \u0026amp;\u0026amp; interval \u0026lt; sampleRate) {  // Sanity check","            totalInterval += interval;","            validIntervals++;","        }","    }","","    return validIntervals \u0026gt; 0 ? totalInterval / validIntervals : 0.0;","}","","void updateTempoStability(float newTempo) {","    float tempoChange = abs(newTempo - tempoEst.estimatedTempo);","    float changeRatio = tempoChange / tempoEst.estimatedTempo;","","    // Stability decreases with tempo changes","    if (changeRatio \u0026lt; 0.01) {  // Less than 1% change","        tempoEst.tempoStability = min(tempoEst.tempoStability + 0.01, 1.0);","    } else {","        tempoEst.tempoStability = max(tempoEst.tempoStability - 0.1, 0.0);","    }","","    // Lock tempo when stable","    tempoEst.tempoLocked = tempoEst.tempoStability \u0026gt; 0.8;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eClock Prediction and Interpolation\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Predict next MIDI clock for smooth operation","struct ClockPredictor {","    int predictedNextClock;","    float clockPhase;       // 0.0 to 1.0 between clocks","    bool predictionValid;","};","","ClockPredictor clockPred = {0, 0.0, false};","","void updateClockPrediction() {","    if (!midiClock.isRunning || !tempoEst.tempoLocked) {","        clockPred.predictionValid = false;","        return;","    }","","    // Update sample counter","    midiClock.sampleCounter++;","","    // Calculate phase between MIDI clocks","    if (midiClock.samplesPerClock \u0026gt; 0) {","        clockPred.clockPhase = (float)midiClock.sampleCounter / midiClock.samplesPerClock;","    }","","    // Predict next clock time","    clockPred.predictedNextClock = midiClock.samplesPerClock - midiClock.sampleCounter;","    clockPred.predictionValid = true;","","    // Reset if we've passed expected clock time","    if (midiClock.sampleCounter \u0026gt;= midiClock.samplesPerClock) {","        if (!midiClock.clockReceived) {","            // Clock is late - adjust timing","            handleLateClockCompensation();","        }","        midiClock.sampleCounter = 0;","        midiClock.clockReceived = false;","    }","}","","void handleLateClockCompensation() {","    // Gradually adjust sample rate to compensate for timing drift","    float driftCompensation = 0.001;  // Small adjustment","    midiClock.samplesPerClock = (int)(midiClock.samplesPerClock * (1.0 + driftCompensation));","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eSynchronized Effect Implementation\u003c/h3\u003e","","\u003ch4\u003eBeat-Locked Delay\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Delay synchronized to MIDI clock divisions","void syncedDelay() {","    // Division settings: 1/4, 1/8, 1/16, 1/32","    int division = (int)params[DELAY_DIVISION];  // 0-3","    int clocksPerNote[] = {24, 12, 6, 3};        // MIDI clocks per note value","","    // Calculate delay time in samples","    int clocksForDelay = clocksPerNote[division];","    int samplesPerNote = midiClock.samplesPerClock * clocksForDelay;","","    // Smooth delay time changes to avoid clicks","    static float smoothDelayTime = 0.0;","    smoothDelayTime += (samplesPerNote - smoothDelayTime) * 0.01;","","    // Apply synchronized delay","    int delayTime = (int)smoothDelayTime;","    processDelayWithFeedback(signal[2], delayTime, params[DELAY_FEEDBACK]);","","    // Visual feedback - flash LED on beat","    if ((midiClock.clockCounter % clocksForDelay) == 0) {","        displayLEDs[BEAT_LED] = 255;","    } else {","        displayLEDs[BEAT_LED] = max(displayLEDs[BEAT_LED] - 10, 0);","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eTempo-Locked LFO\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// LFO synchronized to MIDI clock with multiple rate options","struct SyncedLFO {","    float phase;","    float rate;          // In Hz when free-running","    int syncDivision;    // MIDI clock division when synced","    bool syncEnabled;","    float lastValue;","};","","SyncedLFO syncLFO = {0.0, 1.0, 24, true, 0.0};","","float generateSyncedLFO() {","    if (syncLFO.syncEnabled \u0026amp;\u0026amp; midiClock.isRunning \u0026amp;\u0026amp; tempoEst.tempoLocked) {","        // Sync to MIDI clock","        int clocksPerCycle = syncLFO.syncDivision;","        float cyclePhase = (float)(midiClock.clockCounter % clocksPerCycle) / clocksPerCycle;","","        // Add inter-clock interpolation for smooth LFO","        if (clockPred.predictionValid) {","            float interClockPhase = clockPred.clockPhase / clocksPerCycle;","            cyclePhase += interClockPhase;","        }","","        syncLFO.phase = cyclePhase;","    } else {","        // Free-running mode","        float phaseIncrement = syncLFO.rate / sampleRate;","        syncLFO.phase += phaseIncrement;","        if (syncLFO.phase \u0026gt;= 1.0) syncLFO.phase -= 1.0;","    }","","    // Generate waveform","    syncLFO.lastValue = sin(syncLFO.phase * 2.0 * M_PI);","    return syncLFO.lastValue;","}","","// LFO rate selection for musical divisions","void setSyncedLFORate(int division) {","    // Common musical divisions","    int divisions[] = {96, 48, 24, 12, 6, 3};  // 1 bar to 1/32 note","    syncLFO.syncDivision = divisions[division];","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eRhythmic Gate Sequencer\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Simple gate sequencer synced to MIDI clock","struct SyncedGate {","    bool pattern[16];     // 16-step pattern","    int currentStep;","    int clocksPerStep;    // MIDI clocks per sequencer step","    int stepClock;","    bool gateOpen;","};","","SyncedGate gateSeq = {{1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0}, 0, 6, 0, false};","","void updateSyncedGate() {","    if (!midiClock.isRunning) {","        gateSeq.gateOpen = false;","        return;","    }","","    // Update step position based on MIDI clock","    gateSeq.stepClock++;","    if (gateSeq.stepClock \u0026gt;= gateSeq.clocksPerStep) {","        gateSeq.stepClock = 0;","        gateSeq.currentStep = (gateSeq.currentStep + 1) % 16;","    }","","    // Set gate state based on pattern","    gateSeq.gateOpen = gateSeq.pattern[gateSeq.currentStep];","","    // Apply gate to audio","    if (gateSeq.gateOpen) {","        // Gate open - pass audio through","        float gateLevel = 1.0;","        signal[2] *= gateLevel;","    } else {","        // Gate closed - mute or reduce audio","        float gateLevel = params[GATE_CLOSED_LEVEL];  // 0.0 to 0.1","        signal[2] *= gateLevel;","    }","","    // Visual feedback","    displayLEDs[STEP_LED] = gateSeq.gateOpen ? 255 : 32;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eAdvanced Synchronization Features\u003c/h3\u003e","","\u003ch4\u003eSong Position Synchronization\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Handle MIDI Song Position Pointer for precise positioning","void handleSongPosition(unsigned char positionLSB, unsigned char positionMSB) {","    // Song position is in 16th notes (MIDI beats)","    int songPosition = (positionMSB \u0026lt;\u0026lt; 7) | positionLSB;","","    // Convert to MIDI clock ticks (6 clocks per 16th note)","    int totalClocks = songPosition * 6;","","    // Update clock counter to match song position","    midiClock.clockCounter = totalClocks;","","    // Reset synchronized effects to match position","    resetEffectsToPosition(songPosition);","}","","void resetEffectsToPosition(int position) {","    // Reset LFO phase to match song position","    int lfoSteps = position / (syncLFO.syncDivision / 6);  // Convert to LFO cycles","    syncLFO.phase = (float)(lfoSteps % 1);","","    // Reset gate sequencer position","    gateSeq.currentStep = (position / (gateSeq.clocksPerStep / 6)) % 16;","","    // Reset delay buffers if needed for clean start","    if (position == 0) {","        clearDelayBuffers();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMultiple Clock Sources\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Handle multiple timing sources with priority","enum ClockSource {","    INTERNAL_CLOCK,","    MIDI_CLOCK,","    AUDIO_CLICK,","    TAP_TEMPO","};","","struct MultiClock {","    ClockSource activeSource;","    ClockSource preferredSource;","    float internalTempo;","    bool autoSwitch;","};","","MultiClock multiClock = {INTERNAL_CLOCK, MIDI_CLOCK, 120.0, true};","","void updateClockSource() {","    ClockSource newSource = multiClock.activeSource;","","    if (multiClock.autoSwitch) {","        // Priority: MIDI \u0026gt; Audio Click \u0026gt; Tap \u0026gt; Internal","        if (midiClock.isRunning \u0026amp;\u0026amp; tempoEst.tempoLocked) {","            newSource = MIDI_CLOCK;","        } else if (audioClickDetected()) {","            newSource = AUDIO_CLICK;","        } else if (tapTempoActive()) {","            newSource = TAP_TEMPO;","        } else {","            newSource = INTERNAL_CLOCK;","        }","    }","","    // Switch clock source if changed","    if (newSource != multiClock.activeSource) {","        switchClockSource(newSource);","        multiClock.activeSource = newSource;","    }","}","","void switchClockSource(ClockSource newSource) {","    // Smooth transition between clock sources","    switch (newSource) {","        case MIDI_CLOCK:","            // Sync internal timing to MIDI","            multiClock.internalTempo = tempoEst.estimatedTempo;","            break;","","        case INTERNAL_CLOCK:","            // Maintain last known tempo","            break;","","        case TAP_TEMPO:","            // Use tap tempo measurement","            multiClock.internalTempo = getTapTempo();","            break;","    }","","    // Update display to show active source","    updateClockSourceDisplay(newSource);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePerformance and Stability\u003c/h3\u003e","","\u003ch4\u003eJitter Compensation\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Compensate for MIDI timing jitter","struct JitterFilter {","    float clockTimes[4];","    int index;","    float averageInterval;","    bool stable;","};","","JitterFilter jitterFilter = {0};","","void filterMIDIJitter() {","    static int lastClockSample = 0;","    int currentSample = getCurrentSampleTime();","","    // Store clock interval","    float interval = currentSample - lastClockSample;","    jitterFilter.clockTimes[jitterFilter.index] = interval;","    jitterFilter.index = (jitterFilter.index + 1) % 4;","","    // Calculate average interval","    float total = 0.0;","    for (int i = 0; i \u0026lt; 4; i++) {","        total += jitterFilter.clockTimes[i];","    }","    jitterFilter.averageInterval = total / 4.0;","","    // Update samples per clock with filtered value","    if (jitterFilter.averageInterval \u0026gt; 0) {","        midiClock.samplesPerClock = (int)jitterFilter.averageInterval;","    }","","    lastClockSample = currentSample;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eSync Status Display\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Visual feedback for synchronization status","void updateSyncDisplay() {","    // Clock source indicator","    switch (multiClock.activeSource) {","        case MIDI_CLOCK:","            displayLEDs[SOURCE_LED] = tempoEst.tempoLocked ? 255 : 128;","            break;","        case INTERNAL_CLOCK:","            displayLEDs[SOURCE_LED] = 64;","            break;","        case TAP_TEMPO:","            displayLEDs[SOURCE_LED] = 192;","            break;","    }","","    // Tempo stability indicator","    int stabilityLED = (int)(tempoEst.tempoStability * 255);","    displayLEDs[STABILITY_LED] = stabilityLED;","","    // Beat indicator","    if (midiClock.clockCounter % 24 == 0) {  // Quarter note","        displayLEDs[BEAT_LED] = 255;","    } else {","        displayLEDs[BEAT_LED] = max(displayLEDs[BEAT_LED] - 5, 0);","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eIntegration Examples\u003c/h3\u003e","","\u003ch4\u003eComplete Synchronized Effect\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Multi-synchronized modulation effect","void synchronizedModulation() {","    // Update all timing systems","    updateClockPrediction();","    filterMIDIJitter();","    updateClockSource();","","    // Generate synchronized modulation","    float syncedLFO = generateSyncedLFO();","","    // Apply tempo-locked modulation","    float modulationRate = syncedLFO * params[MOD_DEPTH];","    signal[2] = applyModulation(signal[2], modulationRate);","","    // Update synchronized gate","    updateSyncedGate();","","    // Apply synchronized delay","    syncedDelay();","","    // Update displays","    updateSyncDisplay();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eKey Benefits\u003c/h3\u003e","","\u003cp\u003e\u003cstrong\u003eSample-Accurate Timing\u003c/strong\u003e: Precise synchronization with external sequencers and DAWs through MIDI clock interpolation.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eTempo Stability\u003c/strong\u003e: Advanced filtering eliminates MIDI jitter while maintaining musical timing accuracy.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMusical Divisions\u003c/strong\u003e: Support for standard musical note divisions (whole notes to 32nd notes) with visual feedback.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMultiple Sources\u003c/strong\u003e: Automatic switching between MIDI, audio click, tap tempo, and internal clock sources.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003ePerformance Ready\u003c/strong\u003e: Robust handling of tempo changes, start/stop commands, and song position updates.\u003c/p\u003e","","\u003cp\u003eUse these techniques to create effects that lock perfectly to external timing sources, enabling professional studio integration and live performance reliability.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-56\" class=\"doc-section\"\u003e","\u003ch1\u003e56. State Recall\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/integration/state-recall.md\u003c/div\u003e","","\u003ch2\u003eState Recall \u0026 External Control\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","\u003cp\u003eImplement comprehensive state management that allows external systems to save, recall, and synchronize complete firmware states including parameters, internal variables, and processing modes.\u003c/p\u003e","","\u003cp\u003e\u0026gt; \u003cstrong\u003eNote\u003c/strong\u003e: This file contains a complex advanced implementation. For a practical simplified version, see [state-recall-simplified.md](state-recall-simplified.md) which provides the same core functionality using proper Impala syntax.\u003c/p\u003e","","\u003ch3\u003eCore State Structure\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Complete firmware state definition","struct FirmwareState {","    parameters: [i32; 8],        // All parameter values","    internal_vars: [i32; 16],    // Internal processing state","    processing_mode: i32,        // Current algorithm/mode","    led_states: [i32; 4],       // LED display state","    timing_state: TimingState,   // Clock/sync state","    version: i32                 // State format version","}","","struct TimingState {","    bpm: i32,","    clock_division: i32,","    swing_amount: i32,","    sync_source: i32  // 0=internal, 1=external","}","","let current_state = FirmwareState {","    parameters: [0; 8],","    internal_vars: [0; 16],","    processing_mode: 0,","    led_states: [0; 4],","    timing_state: TimingState { bpm: 120, clock_division: 4, swing_amount: 0, sync_source: 0 },","    version: 1","};","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eState Capture \u0026 Restoration\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","fn capture_current_state() -\u0026gt; FirmwareState {","    let mut state = current_state;","","    // Capture live parameters","    for i in 0..8 {","        state.parameters[i] = params[i];","    }","","    // Capture internal processing variables","    state.internal_vars[0] = filter_memory;","    state.internal_vars[1] = delay_write_pos;","    state.internal_vars[2] = oscillator_phase;","    state.internal_vars[3] = envelope_state;","","    // Capture LED states","    for i in 0..4 {","        state.led_states[i] = displayLEDs[i];","    }","","    // Capture timing state","    state.timing_state.bpm = current_bpm;","    state.timing_state.clock_division = clock_div;","","    return state;","}","","fn restore_state(state: FirmwareState) {","    // Validate state version","    if state.version != current_state.version {","        // Handle version migration if needed","        migrate_state_version(state);","        return;","    }","","    // Restore parameters with smoothing","    for i in 0..8 {","        smooth_parameter_change(i, state.parameters[i]);","    }","","    // Restore internal state","    filter_memory = state.internal_vars[0];","    delay_write_pos = state.internal_vars[1];","    oscillator_phase = state.internal_vars[2];","    envelope_state = state.internal_vars[3];","","    // Restore LED states","    for i in 0..4 {","        displayLEDs[i] = state.led_states[i];","    }","","    // Restore timing","    current_bpm = state.timing_state.bpm;","    clock_div = state.timing_state.clock_division;","","    current_state = state;","}","","fn smooth_parameter_change(param_idx: i32, target_value: i32) {","    let current = params[param_idx];","    let diff = target_value - current;","","    // Smooth transition over 32 samples to avoid clicks","    let step_size = diff / 32;","    param_targets[param_idx] = target_value;","    param_steps[param_idx] = step_size;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eExternal Communication Protocol\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Simple text-based state protocol for external control","fn handle_state_command(command: \u0026amp;str, data: \u0026amp;str) {","    match command {","        \"SAVE_STATE\" =\u0026gt; {","            let state = capture_current_state();","            send_state_data(state);","        },","        \"LOAD_STATE\" =\u0026gt; {","            let state = parse_state_data(data);","            restore_state(state);","        },","        \"GET_PARAM\" =\u0026gt; {","            let param_idx = parse_int(data);","            send_response(\u0026amp;format!(\"PARAM {} {}\", param_idx, params[param_idx]));","        },","        \"SET_PARAM\" =\u0026gt; {","            let parts = data.split(' ');","            let param_idx = parse_int(parts[0]);","            let value = parse_int(parts[1]);","            smooth_parameter_change(param_idx, value);","        },","        \"GET_MODE\" =\u0026gt; {","            send_response(\u0026amp;format!(\"MODE {}\", current_state.processing_mode));","        },","        \"SET_MODE\" =\u0026gt; {","            current_state.processing_mode = parse_int(data);","            apply_processing_mode();","        },","        _ =\u0026gt; send_response(\"ERROR UNKNOWN_COMMAND\")","    }","}","","fn send_state_data(state: FirmwareState) {","    // Send as compact binary or JSON format","    let state_string = format!(","        \"STATE {} {} {} {} {} {} {} {}\",","        state.parameters[0], state.parameters[1], state.parameters[2], state.parameters[3],","        state.processing_mode, state.timing_state.bpm, state.version, state.led_states[0]","    );","    send_response(\u0026amp;state_string);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eSnapshot Management\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Multiple state snapshots for A/B comparison","let state_snapshots: [FirmwareState; 4] = [","    // Initialize with default states","];","","let current_snapshot = 0;","","fn save_to_snapshot(slot: i32) {","    if slot \u0026gt;= 0 \u0026amp;\u0026amp; slot \u0026lt; 4 {","        state_snapshots[slot] = capture_current_state();","        flash_led_confirmation(slot);","    }","}","","fn recall_from_snapshot(slot: i32) {","    if slot \u0026gt;= 0 \u0026amp;\u0026amp; slot \u0026lt; 4 {","        restore_state(state_snapshots[slot]);","        current_snapshot = slot;","        display_snapshot_number(slot);","    }","}","","fn crossfade_snapshots(slot_a: i32, slot_b: i32, fade_amount: i32) {","    let state_a = state_snapshots[slot_a];","    let state_b = state_snapshots[slot_b];","","    // Interpolate between states","    for i in 0..8 {","        let param_a = state_a.parameters[i];","        let param_b = state_b.parameters[i];","        let mixed = param_a + ((fade_amount * (param_b - param_a)) \u0026gt;\u0026gt; 10);","        smooth_parameter_change(i, mixed);","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eUndo/Redo System\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Circular buffer for undo history","let undo_buffer: [FirmwareState; 8] = [","    // Initialize with default states","];","","let undo_head = 0;","let undo_count = 0;","let max_undo_depth = 8;","","fn push_undo_state() {","    undo_buffer[undo_head] = capture_current_state();","    undo_head = (undo_head + 1) % max_undo_depth;","    if undo_count \u0026lt; max_undo_depth {","        undo_count += 1;","    }","}","","fn undo_last_change() {","    if undo_count \u0026gt; 0 {","        undo_head = (undo_head - 1 + max_undo_depth) % max_undo_depth;","        restore_state(undo_buffer[undo_head]);","        undo_count -= 1;","    }","}","","// Automatic undo point creation","let last_param_change_time = 0;","let undo_threshold = 1000;  // Create undo point after 1000 samples of no changes","","fn monitor_parameter_changes() {","    let current_time = sample_counter;","    let params_changed = false;","","    // Check if any parameters changed","    for i in 0..8 {","        if params[i] != previous_params[i] {","            params_changed = true;","            previous_params[i] = params[i];","        }","    }","","    if params_changed {","        last_param_change_time = current_time;","    } else if current_time - last_param_change_time \u0026gt; undo_threshold {","        // Parameters stable, create undo point","        push_undo_state();","        last_param_change_time = current_time;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eState Validation \u0026 Recovery\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","fn validate_state(state: FirmwareState) -\u0026gt; bool {","    // Check parameter ranges","    for i in 0..8 {","        if state.parameters[i] \u0026lt; 0 || state.parameters[i] \u0026gt; 1023 {","            return false;","        }","    }","","    // Check processing mode","    if state.processing_mode \u0026lt; 0 || state.processing_mode \u0026gt; max_modes {","        return false;","    }","","    // Check timing values","    if state.timing_state.bpm \u0026lt; 60 || state.timing_state.bpm \u0026gt; 200 {","        return false;","    }","","    return true;","}","","fn create_safe_default_state() -\u0026gt; FirmwareState {","    return FirmwareState {","        parameters: [512, 512, 512, 512, 0, 0, 0, 0],  // Safe middle values","        internal_vars: [0; 16],","        processing_mode: 0,  // Default mode","        led_states: [0; 4],","        timing_state: TimingState { bpm: 120, clock_division: 4, swing_amount: 0, sync_source: 0 },","        version: 1","    };","}","","fn emergency_state_recovery() {","    let safe_state = create_safe_default_state();","    restore_state(safe_state);","    displayLEDs[0] = 0xFF00;  // Red warning indicator","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eIntegration with External Systems\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// MIDI SysEx state transfer","fn handle_sysex_state(sysex_data: \u0026amp;[u8]) {","    if sysex_data.len() \u0026gt;= 64 {  // Minimum state size","        let state = decode_sysex_state(sysex_data);","        if validate_state(state) {","            restore_state(state);","        } else {","            emergency_state_recovery();","        }","    }","}","","// DAW automation compatibility","fn process_automation_data(param_index: i32, normalized_value: f32) {","    // Convert 0.0-1.0 range to 0-1023","    let param_value = (normalized_value * 1023.0) as i32;","    smooth_parameter_change(param_index, param_value);","}","","fn main_process_loop() {","    // Monitor for parameter changes and create undo points","    monitor_parameter_changes();","","    // Process smooth parameter transitions","    update_smooth_parameters();","","    // Handle external state commands","    process_external_commands();","","    // Main audio processing","    process_audio();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eThis comprehensive state management system enables seamless integration with DAWs, controllers, and external automation systems while maintaining audio stability.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-57\" class=\"doc-section\"\u003e","\u003ch1\u003e57. Gazl Assembly Introduction\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/assembly/gazl-assembly-introduction.md\u003c/div\u003e","","\u003ch2\u003eGAZL Assembly Language Introduction\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","","\u003cp\u003eGAZL (GPU Assembly-like Language) is the virtual machine language used by the Permut8 platform for ultimate performance optimization. While Impala provides high-level firmware development capabilities, GAZL is the compiled output that runs on the Permut8 virtual machine for direct hardware control in time-critical audio processing where every CPU cycle matters.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eKey Concept\u003c/strong\u003e: GAZL is a \u003cstrong\u003evirtual machine language\u003c/strong\u003e, not native ARM64 assembly. Impala compiles to GAZL, which then executes on the Permut8 virtual machine.\u003c/p\u003e","","\u003cp\u003eThis introduction covers GAZL language fundamentals, preparing you for advanced GAZL understanding and Impala-GAZL integration patterns.\u003c/p\u003e","","\u003ch3\u003eUnderstanding the Impala-GAZL Architecture\u003c/h3\u003e","","\u003ch4\u003eDevelopment Model\u003c/h4\u003e","\u003cp\u003eImpala serves as the high-level language that compiles to GAZL virtual machine code:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","Impala Source Code (.impala)","         [Impala Compiler]","GAZL Virtual Machine Code (.gazl)","         [Permut8 Virtual Machine]","Audio Processing on Hardware","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eWhen to Study GAZL\u003c/h4\u003e","\u003cp\u003eDirect GAZL knowledge becomes essential when:\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003ePerformance Analysis\u003c/strong\u003e: Understanding compiled output for optimization\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eAdvanced Debugging\u003c/strong\u003e: Examining virtual machine execution for complex issues\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLow-Level Integration\u003c/strong\u003e: Creating advanced Impala-GAZL interaction patterns\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eOptimization Verification\u003c/strong\u003e: Confirming that Impala optimizations produce efficient GAZL\u003c/p\u003e","","\u003ch4\u003eDevelopment Context\u003c/h4\u003e","\u003cp\u003eGAZL understanding complements Impala development:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// High-level Impala algorithm","function process_samples() {","    int i;","    for (i = 0 to BUFFER_SIZE - 1) {","        global signal[i] = complex_dsp_algorithm(global signal[i]);","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eCompiles to GAZL virtual machine code:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","process_samples:    FUNC","                    PARA *1","        $i:         LOCi","        .loop:      PEEK %0 \u0026amp;signal:$i","                    CALL ^complex_dsp_algorithm %1 *1","                    POKE \u0026amp;signal:$i %1","                    ADDi $i $i #1","                    LEQi $i #BUFFER_SIZE @.loop","                    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eGAZL Virtual Machine Architecture\u003c/h3\u003e","","\u003ch4\u003eExecution Model\u003c/h4\u003e","\u003cp\u003eGAZL operates as a stack-based virtual machine with audio-specific optimizations:\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eRegister Model\u003c/strong\u003e: Virtual registers (%0, %1, %2...) for temporary values\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eMemory Model\u003c/strong\u003e: Global/local allocation with direct addressing\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eInstruction Set\u003c/strong\u003e: Virtual machine instructions optimized for audio processing\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eFunction Calling\u003c/strong\u003e: Stack-based parameter passing with local variable support\u003c/p\u003e","","\u003ch4\u003eCore GAZL Data Types\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eInteger (i)\u003c/strong\u003e: 32-bit signed integers for audio samples and parameters\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003ePointer (p)\u003c/strong\u003e: Memory addresses for arrays and data structures\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eFloat (f)\u003c/strong\u003e: Floating-point values for precise calculations (when supported)\u003c/p\u003e","","\u003ch4\u003eMemory Architecture\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Global memory allocation","global_var:     GLOB *1         ; Allocate 1 global integer","global_array:   GLOB *256       ; Allocate 256-element global array","","; Constant data","CONST_TABLE:    CNST *16        ; Constant table with 16 elements","                DATA #100 #200 #300 #400  ; Initialize with values","","; Local variables (within functions)","function_name:  FUNC","                PARA *2         ; Function takes 2 parameters","    $local_var: LOCi           ; Local integer variable","    $local_arr: LOCA *8        ; Local array with 8 elements","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eGAZL Syntax Fundamentals\u003c/h3\u003e","","\u003ch4\u003eBasic Instruction Format\u003c/h4\u003e","\u003cp\u003eGAZL follows virtual machine instruction syntax:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Basic instruction format","INSTRUCTION destination, source1, source2","","; Examples","MOVi %0 #255            ; %0 = 255 (move immediate to register)","ADDi %0 %1 %2           ; %0 = %1 + %2 (add registers)","PEEK %0 \u0026amp;global_var     ; %0 = global_var (load from memory)","POKE \u0026amp;global_var %0     ; global_var = %0 (store to memory)","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eVirtual Registers\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Virtual registers for temporary computation","%0, %1, %2, %3...       ; Temporary registers (managed by VM)","","; Local variables (persistent within function)","$variable_name          ; Named local variable","$array_name             ; Named local array","","; Memory references","\u0026amp;global_name            ; Reference to global variable/array","\u0026amp;global_array:index     ; Reference to array element","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eCore GAZL Instructions\u003c/h4\u003e","","\u003ch5\u003eMemory Operations\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Load from memory","PEEK %0 \u0026amp;global_var     ; Load global variable","PEEK %0 \u0026amp;array:5        ; Load array[5]","PEEK %0 $local_var      ; Load local variable","","; Store to memory","POKE \u0026amp;global_var %0     ; Store to global variable","POKE \u0026amp;array:5 %0        ; Store to array[5]","POKE $local_var %0      ; Store to local variable","\u003c/code\u003e\u003c/pre\u003e","","\u003ch5\u003eArithmetic Operations\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Integer arithmetic","ADDi %0 %1 %2           ; %0 = %1 + %2","SUBi %0 %1 %2           ; %0 = %1 - %2","MULi %0 %1 %2           ; %0 = %1 * %2","DIVi %0 %1 %2           ; %0 = %1 / %2","MODi %0 %1 %2           ; %0 = %1 % %2","","; Bitwise operations","SHLi %0 %1 #4           ; %0 = %1 \u0026lt;\u0026lt; 4 (shift left)","SHRi %0 %1 #4           ; %0 = %1 \u0026gt;\u0026gt; 4 (shift right)","IORi %0 %1 %2           ; %0 = %1 | %2 (bitwise OR)","XORi %0 %1 %2           ; %0 = %1 ^ %2 (bitwise XOR)","ANDi %0 %1 %2           ; %0 = %1 \u0026amp; %2 (bitwise AND)","\u003c/code\u003e\u003c/pre\u003e","","\u003ch5\u003eControl Flow\u003c/h5\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Conditional branches","EQUi %0 #0 @.label      ; if (%0 == 0) goto .label","NEQi %0 #0 @.label      ; if (%0 != 0) goto .label","GRTi %0 %1 @.label      ; if (%0 \u0026gt; %1) goto .label","LEQi %0 %1 @.label      ; if (%0 \u0026lt;= %1) goto .label","","; Unconditional jump","GOTO @.label            ; goto .label","","; Function calls","CALL ^function_name %0 *2   ; Call function with 2 parameters","RETU                    ; Return from function","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eAudio-Specific GAZL Patterns\u003c/h3\u003e","","\u003ch4\u003eSample Processing\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Audio sample processing example","process_audio:  FUNC","                PARA *0","    $sample:    LOCi","    $processed: LOCi","","    ; Load audio sample","    PEEK $sample \u0026amp;signal:0      ; Load left channel","","    ; Apply gain (multiply by 120, divide by 128)","    MULi %0 $sample #120","    SHRi $processed %0 #7       ; Divide by 128 (\u0026gt;\u0026gt; 7)","","    ; Clamp to audio range (-2047 to 2047)","    GRTi $processed #2047 @.clamp_high","    LEQi $processed #-2047 @.clamp_low","    GOTO @.store_result","",".clamp_high:","    MOVi $processed #2047","    GOTO @.store_result","",".clamp_low:","    MOVi $processed #-2047","",".store_result:","    ; Store processed sample","    POKE \u0026amp;signal:0 $processed","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eParameter Handling\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Parameter processing example","update_parameters: FUNC","                   PARA *1","    $param_val:    LOCi","    $scaled_val:   LOCi","","    ; Read parameter (0-255 range)","    PEEK $param_val \u0026amp;params:0","","    ; Scale to useful range (multiply by 80)","    MULi $scaled_val $param_val #80","","    ; Store for use in processing (requires filter_cutoff global)","    POKE \u0026amp;filter_cutoff $scaled_val","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eArray Operations\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Array processing example","clear_buffer:   FUNC","                PARA *1","    $i:         LOCi","    $size:      LOCi","","    ; Initialize loop","    MOVi $i #0","    MOVi $size #256","",".loop:","    ; Clear array element","    POKE \u0026amp;audio_buffer:$i #0","","    ; Increment and check loop condition","    ADDi $i $i #1","    LEQi $i $size @.loop","","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eFunction Structure and Calling Conventions\u003c/h3\u003e","","\u003ch4\u003eFunction Declaration\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Function with parameters and local variables","my_function:    FUNC","                PARA *2         ; Takes 2 parameters","    $param1:    INPi           ; First parameter (input)","    $param2:    INPi           ; Second parameter (input)","    $result:    OUTi           ; Return value (output)","    $temp:      LOCi           ; Local temporary variable","","    ; Function body","    ADDi $result $param1 $param2","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eVariable Types\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Parameter and variable declarations","$input_var:     INPi           ; Input parameter (integer)","$output_var:    OUTi           ; Output parameter/return value","$local_var:     LOCi           ; Local variable (integer)","$local_array:   LOCA *16       ; Local array (16 elements)","$pointer_var:   INPp           ; Pointer parameter","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eIntegration with Impala\u003c/h3\u003e","","\u003ch4\u003eHow Impala Becomes GAZL\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Impala source","function addNumbers(a, b) returns int result {","    result = a + b;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eCompiles to:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","addNumbers:     FUNC","                PARA *2","    $a:         INPi","    $b:         INPi","    $result:    OUTi","","    ADDi $result $a $b","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eGlobal Variable Mapping\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Impala global declarations","global array signal[2]","global array params[8]","global int my_variable = 100","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eBecomes GAZL:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","signal:         GLOB *2","params:         GLOB *8","my_variable:    GLOB *1","                DATi #100","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePractical GAZL Analysis\u003c/h3\u003e","","\u003ch4\u003eReading Compiled Output\u003c/h4\u003e","\u003cp\u003eWhen debugging or optimizing, you can examine the compiled GAZL to understand:\u003c/p\u003e","","\u003cp\u003e1. \u003cstrong\u003ePerformance Characteristics\u003c/strong\u003e: Count instructions in critical loops\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eMemory Access Patterns\u003c/strong\u003e: Identify PEEK/POKE frequency\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eFunction Call Overhead\u003c/strong\u003e: Analyze CALL/RETU patterns\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eOptimization Opportunities\u003c/strong\u003e: Spot redundant operations\u003c/p\u003e","","\u003ch4\u003eCommon Optimization Patterns\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Efficient loop with minimal branches","efficient_loop: FUNC","                PARA *1","    $i:         LOCi","    $count:     LOCi","","    PEEK $count \u0026amp;buffer_size","    MOVi $i #0","",".loop:","    ; Process element at index $i","    PEEK %0 \u0026amp;input_buffer:$i","    MULi %0 %0 #120","    SHRi %0 %0 #7","    POKE \u0026amp;output_buffer:$i %0","","    ; Efficient loop continuation","    ADDi $i $i #1","    LEQi $i $count @.loop","","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eBest Practices for GAZL Understanding\u003c/h3\u003e","","\u003ch4\u003eWhen to Examine GAZL Output\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003ePerformance Debugging\u003c/strong\u003e: When Impala code isn't performing as expected\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eOptimization Verification\u003c/strong\u003e: To confirm compiler optimizations are working\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eComplex Algorithms\u003c/strong\u003e: For algorithms where every instruction matters\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eIntegration Issues\u003c/strong\u003e: When debugging Impala-GAZL boundary problems\u003c/p\u003e","","\u003ch4\u003eReading GAZL Effectively\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003eFocus on Critical Paths\u003c/strong\u003e: Examine inner loops and frequently called functions\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eUnderstand Memory Patterns\u003c/strong\u003e: Track PEEK/POKE operations for cache efficiency\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eCount Instructions\u003c/strong\u003e: Estimate execution cost of different approaches\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eIdentify Bottlenecks\u003c/strong\u003e: Look for instruction sequences that could be optimized\u003c/p\u003e","","\u003ch3\u003eConclusion\u003c/h3\u003e","","\u003cp\u003eUnderstanding GAZL provides insight into the virtual machine that executes your Impala firmware. While you typically develop in Impala, GAZL knowledge enables advanced debugging, performance analysis, and optimization verification.\u003c/p\u003e","","\u003cp\u003eThe virtual machine architecture of GAZL, with its stack-based execution model and audio-optimized instruction set, provides the foundation for efficient real-time audio processing on the Permut8 platform.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eNext Steps\u003c/strong\u003e: With GAZL fundamentals understood, explore [GAZL Debugging and Profiling](gazl-debugging-profiling.md) for advanced analysis techniques, and [GAZL Optimization](gazl-optimization.md) for performance optimization strategies.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-58\" class=\"doc-section\"\u003e","\u003ch1\u003e58. Gazl Debugging Profiling\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/assembly/gazl-debugging-profiling.md\u003c/div\u003e","","\u003ch2\u003eGAZL Debugging and Performance Profiling\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","","\u003cp\u003eMaster professional debugging workflows and performance analysis for GAZL virtual machine development on the Permut8 platform. This comprehensive guide covers debugging techniques and systematic performance profiling specifically designed for GAZL virtual machine code compiled from Impala.\u003c/p\u003e","","\u003cp\u003eGAZL operates as a virtual machine with its own instruction set, execution model, and debugging infrastructure. Understanding these VM-specific characteristics is essential for effective debugging and optimization.\u003c/p\u003e","","\u003ch3\u003eWhat You'll Learn\u003c/h3\u003e","","\u003cp\u003eBy the end of this guide, you'll master:\u003c/p\u003e","\u003cli\u003eGAZL virtual machine debugging techniques\u003c/li\u003e","\u003cli\u003eTrace-based debugging and analysis methods\u003c/li\u003e","\u003cli\u003eMemory debugging for VM environments\u003c/li\u003e","\u003cli\u003eVirtual machine performance profiling methodologies\u003c/li\u003e","\u003cli\u003eGAZL instruction timing and optimization analysis\u003c/li\u003e","\u003cli\u003eIntegration debugging between Impala and GAZL\u003c/li\u003e","\u003cli\u003eReal-time debugging for audio applications\u003c/li\u003e","\u003cli\u003eData-driven optimization decision making\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003ePrerequisites\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e[GAZL Assembly Introduction](gazl-assembly-introduction.md)\u003c/li\u003e","\u003cli\u003eUnderstanding of virtual machine concepts\u003c/li\u003e","\u003cli\u003eBasic Impala programming knowledge\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eTime Required\u003c/strong\u003e: 2-3 hours\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eDifficulty\u003c/strong\u003e: Advanced\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003ePart I: GAZL Virtual Machine Debugging\u003c/h3\u003e","","\u003ch4\u003eChapter 1: GAZL VM Debug Architecture\u003c/h4\u003e","","\u003ch5\u003ePermut8 Debug Infrastructure\u003c/h5\u003e","","\u003cp\u003eThe Permut8 platform provides VM-specific debugging support tailored for GAZL virtual machine execution:\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eKey Debugging Features\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eTrace-based debugging\u003c/strong\u003e: Monitor VM instruction execution\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eState inspection\u003c/strong\u003e: Examine virtual registers and memory\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eBreakpoint support\u003c/strong\u003e: Pause execution at specific VM instructions\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMemory watch\u003c/strong\u003e: Monitor global and local variable changes\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCall stack analysis\u003c/strong\u003e: Track function calls through the VM\u003c/li\u003e","","\u003ch5\u003eDebug Information in GAZL\u003c/h5\u003e","","\u003cp\u003eGAZL includes debug metadata that maps virtual machine instructions back to Impala source:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Function with debug information","process_audio:  FUNC","                PARA *2","    $input:     INPp        ; Debug: input audio buffer","    $output:    OUTp        ; Debug: output audio buffer","    $sample:    LOCi        ; Debug: current sample being processed","    $temp:      LOCi        ; Debug: temporary calculation storage","","    ; Debug trace point","    PEEK $sample $input     ; Load sample from input buffer","","    ; Processing with debug context","    MULi %0 $sample #120    ; Apply gain (debug: gain=120/128)","    SHRi $temp %0 #7        ; Normalize (debug: divide by 128)","","    ; Range checking for debug","    GRTi $temp #2047 @.clamp_high","    LEQi $temp #-2047 @.clamp_low","    GOTO @.store_result","",".clamp_high:","    MOVi $temp #2047        ; Debug: clamped to maximum","    GOTO @.store_result","",".clamp_low:","    MOVi $temp #-2047       ; Debug: clamped to minimum","",".store_result:","    POKE $output $temp      ; Store processed sample","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eChapter 2: Trace-Based Debugging\u003c/h4\u003e","","\u003ch5\u003eGAZL Trace System\u003c/h5\u003e","","\u003cp\u003eThe primary debugging mechanism for GAZL is the built-in trace system:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Impala side: Enable tracing","function enableDebugTracing() {","    if (DEBUG) {","        trace(\"Debug mode enabled\");","        trace(\"Starting audio processing\");","    }","}","","function debugProcessingSample(sample) {","    if (DEBUG) {","        trace(\"Processing sample: \");","        trace(intToString(sample, 10, 1, tempBuffer));","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eCompiled GAZL includes trace calls:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Compiled with debug tracing","debug_processing:   FUNC","                    PARA *1","    $sample:        INPi","    $buffer:        LOCA *32","","    ; Debug trace","    EQUi #DEBUG #0 @.no_debug","    MOVp %1 \u0026amp;.s_processing_sample","    CALL ^trace %0 *2","","    ; Convert sample to string for tracing","    MOVi %1 $sample","    MOVi %2 #10","    MOVi %3 #1","    ADRL %4 $buffer *0","    CALL \u0026amp;intToString %0 *5","    CALL ^trace %0 *2","",".no_debug:","    ; Continue processing...","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch5\u003eDynamic Trace Analysis\u003c/h5\u003e","","\u003cp\u003eMonitor GAZL execution through systematic trace analysis:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Comprehensive trace analysis","function traceAudioProcessingState() {","    if (DEBUG) {","        trace(\"=== Audio Processing State ===\");","","        // Trace parameter values","        trace(\"Operator 1: \");","        trace(intToString(global params[OPERATOR_1_PARAM_INDEX], 10, 1, buffer));","","        trace(\"Operand 1 High: \");","        trace(intToString(global params[OPERAND_1_HIGH_PARAM_INDEX], 10, 1, buffer));","","        trace(\"Current clock: \");","        trace(intToString(global clock, 16, 4, buffer));","","        // Trace signal levels","        trace(\"Left signal: \");","        trace(intToString(global signal[0], 10, 1, buffer));","","        trace(\"Right signal: \");","        trace(intToString(global signal[1], 10, 1, buffer));","","        trace(\"=== End State ===\");","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eChapter 3: Memory Debugging for GAZL VM\u003c/h4\u003e","","\u003ch5\u003eGlobal Variable Monitoring\u003c/h5\u003e","","\u003cp\u003eTrack changes to global variables through the VM execution:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Memory debugging with validation","safe_global_write:  FUNC","                    PARA *2","    $address:       INPp","    $value:         INPi","    $old_value:     LOCi","","    ; Debug: Read current value","    EQUi #DEBUG #0 @.no_debug","    PEEK $old_value $address","","    ; Trace the change","    MOVp %1 \u0026amp;.s_memory_write","    CALL ^trace %0 *2","","    ; Trace old value","    MOVp %1 \u0026amp;.s_old_value","    CALL ^trace %0 *2","    MOVi %1 $old_value","    CALL \u0026amp;traceInt %0 *2","","    ; Trace new value","    MOVp %1 \u0026amp;.s_new_value","    CALL ^trace %0 *2","    MOVi %1 $value","    CALL \u0026amp;traceInt %0 *2","",".no_debug:","    ; Perform the actual write","    POKE $address $value","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch5\u003eArray Bounds Checking\u003c/h5\u003e","","\u003cp\u003eImplement runtime bounds checking for GAZL arrays:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Safe array access with bounds checking","safe_array_read:    FUNC","                    PARA *3","    $array:         INPp","    $index:         INPi","    $size:          INPi","    $result:        OUTi","","    ; Debug bounds check","    EQUi #DEBUG #0 @.no_bounds_check","","    ; Check lower bound","    GEQi $index #0 @.check_upper","    MOVp %1 \u0026amp;.s_array_underflow","    CALL ^trace %0 *2","    CALL ^abort %0 *1","",".check_upper:","    ; Check upper bound","    LEQi $index $size @.bounds_ok","    MOVp %1 \u0026amp;.s_array_overflow","    CALL ^trace %0 *2","    CALL ^abort %0 *1","",".bounds_ok:",".no_bounds_check:","    ; Safe to access array","    PEEK $result $array:$index","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eChapter 4: Integration Debugging\u003c/h4\u003e","","\u003ch5\u003eCross-Language Debug Workflows\u003c/h5\u003e","","\u003cp\u003eDebug seamlessly across Impala-GAZL boundaries with coordinated tracing:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Impala debugging integration","function debugAudioProcessing() {","    if (DEBUG) {","        trace(\"=== Impala: Starting Audio Processing ===\");","        traceInts(\"Input parameters: \", PARAM_COUNT, global params);","        trace(\"Calling GAZL process function...\");","    }","","    // Call GAZL processing","    process();","","    if (DEBUG) {","        trace(\"=== Impala: Audio Processing Complete ===\");","        traceInts(\"Output signal: \", 2, global signal);","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; GAZL side debug integration","process:        FUNC","                PARA *1","    $i:         LOCi","","    ; Debug entry","    EQUi #DEBUG #0 @.no_debug_entry","    MOVp %1 \u0026amp;.s_gazl_process_entry","    CALL ^trace %0 *2","",".no_debug_entry:","    ; Main processing loop","    MOVi $i #0","",".loop:","    ; Debug loop iteration","    EQUi #DEBUG #0 @.no_debug_loop","    MOVp %1 \u0026amp;.s_processing_iteration","    CALL ^trace %0 *2","    MOVi %1 $i","    CALL \u0026amp;traceInt %0 *2","",".no_debug_loop:","    ; Process current sample","    PEEK %0 \u0026amp;signal:0","    MULi %0 %0 #120","    SHRi %0 %0 #7","    POKE \u0026amp;signal:0 %0","","    ; Continue loop","    ADDi $i $i #1","    LEQi $i #BUFFER_SIZE @.loop","","    ; Debug exit","    EQUi #DEBUG #0 @.no_debug_exit","    MOVp %1 \u0026amp;.s_gazl_process_exit","    CALL ^trace %0 *2","",".no_debug_exit:","    CALL ^yield %0 *1","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003ePart II: GAZL VM Performance Profiling\u003c/h3\u003e","","\u003ch4\u003eChapter 5: Virtual Machine Performance Analysis\u003c/h4\u003e","","\u003ch5\u003eUnderstanding GAZL VM Performance\u003c/h5\u003e","","\u003cp\u003eGAZL virtual machine performance differs significantly from native assembly performance. Key factors include:\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eInstruction Execution\u003c/strong\u003e: Virtual machine instructions have different costs than native instructions\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eMemory Access Patterns\u003c/strong\u003e: VM memory model affects access performance\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eFunction Call Overhead\u003c/strong\u003e: VM function calls have specific overhead characteristics\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eRegister Allocation\u003c/strong\u003e: Virtual register usage impacts performance\u003c/p\u003e","","\u003ch5\u003eVM Instruction Timing Analysis\u003c/h5\u003e","","\u003cp\u003eProfile the actual cost of GAZL instructions:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Performance measurement framework","measure_instruction_timing:  FUNC","                            PARA *0","    $iterations:            LOCi","    $start_time:            LOCi","    $end_time:              LOCi","    $i:                     LOCi","","    ; Get start timestamp","    CALL ^getClock %0 *1","    MOVi $start_time %0","","    ; Test loop","    MOVi $i #0",".test_loop:","    ; INSTRUCTION UNDER TEST","    MULi %0 %1 %2           ; Example: multiplication instruction","","    ; Loop control","    ADDi $i $i #1","    LEQi $i $iterations @.test_loop","","    ; Get end timestamp","    CALL ^getClock %0 *1","    MOVi $end_time %0","","    ; Calculate duration","    SUBi %0 $end_time $start_time","","    ; Trace result","    MOVp %1 \u0026amp;.s_instruction_timing","    CALL ^trace %0 *2","    CALL \u0026amp;traceInt %0 *2","","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eChapter 6: Memory Performance Profiling\u003c/h4\u003e","","\u003ch5\u003eGlobal vs Local Variable Access\u003c/h5\u003e","","\u003cp\u003eCompare performance characteristics of different memory access patterns:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Memory access performance test","test_memory_performance:    FUNC","                           PARA *0","    $iterations:           LOCi","    $i:                    LOCi","    $local_var:            LOCi","    $start_time:           LOCi","    $end_time:             LOCi","","    ; Test global variable access","    CALL ^getClock %0 *1","    MOVi $start_time %0","","    MOVi $i #0",".global_test_loop:","    PEEK %0 \u0026amp;global_test_var","    ADDi %0 %0 #1","    POKE \u0026amp;global_test_var %0","","    ADDi $i $i #1","    LEQi $i $iterations @.global_test_loop","","    CALL ^getClock %0 *1","    MOVi $end_time %0","    SUBi %0 $end_time $start_time","","    MOVp %1 \u0026amp;.s_global_access_time","    CALL ^trace %0 *2","    CALL \u0026amp;traceInt %0 *2","","    ; Test local variable access","    CALL ^getClock %0 *1","    MOVi $start_time %0","","    MOVi $i #0",".local_test_loop:","    ADDi $local_var $local_var #1","","    ADDi $i $i #1","    LEQi $i $iterations @.local_test_loop","","    CALL ^getClock %0 *1","    MOVi $end_time %0","    SUBi %0 $end_time $start_time","","    MOVp %1 \u0026amp;.s_local_access_time","    CALL ^trace %0 *2","    CALL \u0026amp;traceInt %0 *2","","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eChapter 7: Function Call Profiling\u003c/h4\u003e","","\u003ch5\u003eAnalyzing GAZL Function Call Overhead\u003c/h5\u003e","","\u003cp\u003eMeasure the cost of function calls in the GAZL virtual machine:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Function call overhead measurement","measure_call_overhead:      FUNC","                           PARA *0","    $iterations:           LOCi","    $i:                    LOCi","    $start_time:           LOCi","    $end_time:             LOCi","","    ; Measure direct operations","    CALL ^getClock %0 *1","    MOVi $start_time %0","","    MOVi $i #0",".direct_loop:","    ; Direct operation","    MULi %0 %1 %2","    ADDi %0 %0 #1","","    ADDi $i $i #1","    LEQi $i $iterations @.direct_loop","","    CALL ^getClock %0 *1","    MOVi $end_time %0","    SUBi %0 $end_time $start_time","","    MOVp %1 \u0026amp;.s_direct_time","    CALL ^trace %0 *2","    CALL \u0026amp;traceInt %0 *2","","    ; Measure function call operations","    CALL ^getClock %0 *1","    MOVi $start_time %0","","    MOVi $i #0",".call_loop:","    ; Function call for same operation","    MOVi %1 %1","    MOVi %2 %2","    CALL \u0026amp;simple_multiply %0 *3","","    ADDi $i $i #1","    LEQi $i $iterations @.call_loop","","    CALL ^getClock %0 *1","    MOVi $end_time %0","    SUBi %0 $end_time $start_time","","    MOVp %1 \u0026amp;.s_call_time","    CALL ^trace %0 *2","    CALL \u0026amp;traceInt %0 *2","","    RETU","","; Simple function for overhead testing","simple_multiply:            FUNC","                           PARA *2","    $a:                    INPi","    $b:                    INPi","    $result:               OUTi","","    MULi $result $a $b","    ADDi $result $result #1","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eChapter 8: Real-Time Performance Monitoring\u003c/h3\u003e","","\u003ch4\u003eNon-Intrusive Profiling\u003c/h4\u003e","","\u003cp\u003eFor real-time audio applications, profiling must not disrupt timing:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Lightweight performance monitoring","audio_process_monitored:    FUNC","                           PARA *0","    $sample_count:         LOCi","    $start_time:           LOCi","    $process_time:         LOCi","","    ; Quick timestamp (low overhead)","    CALL ^getClock %0 *1","    MOVi $start_time %0","","    ; Actual audio processing","    CALL \u0026amp;core_audio_algorithm %0 *1","","    ; Calculate processing time","    CALL ^getClock %0 *1","    SUBi $process_time %0 $start_time","","    ; Check against real-time deadline","    GRTi $process_time #MAX_PROCESS_TIME @.timing_violation","    GOTO @.timing_ok","",".timing_violation:","    ; Log timing violation (only if debug enabled)","    EQUi #DEBUG #0 @.timing_ok","    MOVp %1 \u0026amp;.s_timing_violation","    CALL ^trace %0 *2","    MOVi %1 $process_time","    CALL \u0026amp;traceInt %0 *2","",".timing_ok:","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStatistical Performance Analysis\u003c/h4\u003e","","\u003cp\u003eCollect performance data over time for analysis:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Performance statistics collection","collect_performance_stats:  FUNC","                           PARA *1","    $current_time:         INPi","    $stats_index:          LOCi","","    ; Get current statistics index","    PEEK $stats_index \u0026amp;perf_stats_index","","    ; Store timing data","    POKE \u0026amp;perf_stats_buffer:$stats_index $current_time","","    ; Update index (circular buffer)","    ADDi $stats_index $stats_index #1","    MODi $stats_index $stats_index #STATS_BUFFER_SIZE","    POKE \u0026amp;perf_stats_index $stats_index","","    ; Periodically analyze statistics","    EQUi $stats_index #0 @.analyze_stats","    GOTO @.no_analysis","",".analyze_stats:","    CALL \u0026amp;analyze_performance_trends %0 *1","",".no_analysis:","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eBest Practices\u003c/h3\u003e","","\u003ch4\u003eGAZL VM Debugging Best Practices\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003eUse Conditional Compilation\u003c/strong\u003e: Only include debug code when DEBUG is defined\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eLeverage Trace System\u003c/strong\u003e: Use the built-in trace() function extensively\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003ePreserve Real-Time Behavior\u003c/strong\u003e: Minimize debug overhead in audio processing\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eCross-Language Coordination\u003c/strong\u003e: Maintain debug state consistency across Impala-GAZL boundaries\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eMemory Safety\u003c/strong\u003e: Implement bounds checking and validation in debug builds\u003c/p\u003e","","\u003ch4\u003eGAZL VM Profiling Best Practices\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003eVM-Aware Analysis\u003c/strong\u003e: Consider virtual machine execution characteristics\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eInstruction-Level Timing\u003c/strong\u003e: Profile individual GAZL instruction costs\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eMemory Pattern Analysis\u003c/strong\u003e: Understand global vs local variable access costs\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eFunction Call Overhead\u003c/strong\u003e: Measure and optimize function call patterns\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eReal-Time Constraints\u003c/strong\u003e: Ensure profiling doesn't violate audio timing requirements\u003c/p\u003e","","\u003ch4\u003eIntegration Recommendations\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003eUnified Debug Framework\u003c/strong\u003e: Use consistent debug approaches across Impala and GAZL\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003ePerformance Baselines\u003c/strong\u003e: Establish VM performance baselines for regression detection\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eAutomated Testing\u003c/strong\u003e: Integrate debug and performance validation into build process\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eDocumentation\u003c/strong\u003e: Maintain performance characteristics documentation for the VM\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eConclusion\u003c/h3\u003e","","\u003cp\u003eGAZL virtual machine debugging and profiling requires understanding the unique characteristics of the VM execution environment. Unlike native assembly debugging, GAZL debugging focuses on virtual machine state, instruction execution patterns, and the interaction between Impala source code and compiled GAZL instructions.\u003c/p\u003e","","\u003cp\u003eThe trace-based debugging approach, combined with systematic performance analysis of VM instruction costs, provides the foundation for professional GAZL development. This enables developers to create high-performance, reliable firmware while maintaining real-time audio processing requirements.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eNext Steps\u003c/strong\u003e: Apply these debugging and profiling techniques in conjunction with [GAZL Optimization Patterns](gazl-optimization.md) and [Integration Best Practices](gazl-integration-production.md) for comprehensive GAZL virtual machine development mastery.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-59\" class=\"doc-section\"\u003e","\u003ch1\u003e59. Gazl Optimization\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/assembly/gazl-optimization.md\u003c/div\u003e","","\u003ch2\u003eGAZL Performance Optimization\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","","\u003cp\u003eMaster comprehensive optimization techniques for maximum Permut8 virtual machine performance. This guide presents systematic optimization approaches for GAZL virtual machine development, from fundamental principles to advanced VM-specific techniques. You'll learn data-driven optimization strategies that deliver measurable performance improvements within the GAZL execution environment.\u003c/p\u003e","","\u003cp\u003eGAZL optimization differs significantly from native assembly optimization due to the virtual machine execution model. Understanding GAZL VM characteristics, instruction costs, and memory patterns is essential for effective optimization.\u003c/p\u003e","","\u003ch3\u003eWhat You'll Learn\u003c/h3\u003e","","\u003cp\u003eBy the end of this guide, you'll master:\u003c/p\u003e","\u003cli\u003eSystematic GAZL VM optimization methodology and measurement\u003c/li\u003e","\u003cli\u003eVirtual machine instruction optimization techniques\u003c/li\u003e","\u003cli\u003eGAZL memory access patterns and optimization\u003c/li\u003e","\u003cli\u003eFunction call optimization in the VM environment\u003c/li\u003e","\u003cli\u003eVirtual register utilization strategies\u003c/li\u003e","\u003cli\u003eLoop optimization for VM execution\u003c/li\u003e","\u003cli\u003ePerformance analysis and bottleneck identification in GAZL\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003ePrerequisites\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e[GAZL Assembly Introduction](gazl-assembly-introduction.md)\u003c/li\u003e","\u003cli\u003e[GAZL Debugging and Profiling](gazl-debugging-profiling.md)\u003c/li\u003e","\u003cli\u003eUnderstanding of virtual machine concepts\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eTime Required\u003c/strong\u003e: 3-4 hours\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eDifficulty\u003c/strong\u003e: Advanced to Expert\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eChapter 1: GAZL Optimization Philosophy\u003c/h3\u003e","","\u003ch4\u003eVirtual Machine Optimization Principles\u003c/h4\u003e","","\u003cp\u003eGAZL optimization requires understanding the virtual machine execution model and its performance characteristics:\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eVM Instruction Costs\u003c/strong\u003e: GAZL instructions have different costs than native instructions\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eMemory Model\u003c/strong\u003e: Global vs local variable access patterns affect performance\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eFunction Call Overhead\u003c/strong\u003e: VM function calls have specific overhead characteristics\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eRegister Pressure\u003c/strong\u003e: Virtual register management impacts performance\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eGAZL-Specific Optimization Goals\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eMinimize VM instruction count for critical paths\u003c/li\u003e","\u003cli\u003eOptimize memory access patterns for the VM memory model\u003c/li\u003e","\u003cli\u003eReduce function call overhead through inlining and restructuring\u003c/li\u003e","\u003cli\u003eEfficient use of virtual registers and local variables\u003c/li\u003e","","\u003ch4\u003eOptimization Strategy Framework\u003c/h4\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; GAZL OPTIMIZATION EXAMPLE","; Original: Inefficient repeated parameter access","; Optimized: Cache parameter values in local variables","; Expected improvement: 30-40% for parameter-heavy functions","; Trade-off: Slight increase in local variable usage","","; BEFORE: Inefficient repeated global access","process_audio_slow:     FUNC","                       PARA *1","    $i:                LOCi","","    MOVi $i #0",".loop:","    ; Inefficient: Multiple global accesses per iteration","    PEEK %0 \u0026amp;params:OPERATOR_1_PARAM_INDEX","    EQUi %0 #OPERATOR_1_MUL @.skip_processing","","    PEEK %0 \u0026amp;params:OPERAND_1_HIGH_PARAM_INDEX","    PEEK %1 \u0026amp;params:OPERAND_1_LOW_PARAM_INDEX","    SHLi %0 %0 #8","    IORi %2 %0 %1","","    ; Process using %2...","",".skip_processing:","    ADDi $i $i #1","    LEQi $i #BUFFER_SIZE @.loop","    RETU","","; AFTER: Optimized with local variable caching","process_audio_fast:     FUNC","                       PARA *1","    $i:                LOCi","    $operator:         LOCi","    $operand_combined: LOCi","    $should_process:   LOCi","","    ; Cache frequently accessed parameters","    PEEK $operator \u0026amp;params:OPERATOR_1_PARAM_INDEX","    EQUi $operator #OPERATOR_1_MUL @.no_processing","","    ; Pre-calculate operand combination","    PEEK %0 \u0026amp;params:OPERAND_1_HIGH_PARAM_INDEX","    PEEK %1 \u0026amp;params:OPERAND_1_LOW_PARAM_INDEX","    SHLi %0 %0 #8","    IORi $operand_combined %0 %1","    MOVi $should_process #1","    GOTO @.start_loop","",".no_processing:","    MOVi $should_process #0","",".start_loop:","    MOVi $i #0",".loop:","    ; Efficient: Use cached local variables","    EQUi $should_process #0 @.skip_processing","","    ; Process using cached $operand_combined...","",".skip_processing:","    ADDi $i $i #1","    LEQi $i #BUFFER_SIZE @.loop","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 2: GAZL Instruction Optimization\u003c/h3\u003e","","\u003ch4\u003eUnderstanding GAZL Instruction Costs\u003c/h4\u003e","","\u003cp\u003eDifferent GAZL instructions have varying execution costs in the virtual machine:\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eFast Instructions\u003c/strong\u003e: MOVi, ADDi, SUBi, SHLi, SHRi (basic arithmetic)\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eMedium Instructions\u003c/strong\u003e: PEEK/POKE to local variables, simple comparisons\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSlow Instructions\u003c/strong\u003e: PEEK/POKE to global variables, function calls, complex operations\u003c/p\u003e","","\u003ch4\u003eInstruction Selection Optimization\u003c/h4\u003e","","\u003cp\u003eChoose the most efficient GAZL instructions for common operations:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Optimized instruction selection patterns","efficient_operations:   FUNC","                       PARA *1","    $value:            LOCi","    $temp:             LOCi","","    ; OPTIMIZATION: Use shifts instead of multiplication by powers of 2","    ; SLOW: MULi %0 $value #8","    ; FAST:","    SHLi %0 $value #3           ; Multiply by 8 using shift","","    ; OPTIMIZATION: Use shifts for division by powers of 2","    ; SLOW: DIVi %0 $value #16","    ; FAST:","    SHRi %0 $value #4           ; Divide by 16 using shift","","    ; OPTIMIZATION: Combine operations when possible","    ; SLOW: Multiple separate operations","    ; MOVi %0 $value","    ; ADDi %0 %0 #10","    ; SHLi %0 %0 #2","    ; FAST: Combined calculation","    ADDi %0 $value #10","    SHLi %0 %0 #2               ; (value + 10) * 4","","    ; OPTIMIZATION: Use immediate values instead of loading constants","    ; SLOW: PEEK %0 \u0026amp;CONSTANT_VALUE; ADDi %1 $value %0","    ; FAST:","    ADDi %1 $value #CONSTANT_VALUE","","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eArithmetic Optimization Patterns\u003c/h4\u003e","","\u003cp\u003eOptimize common arithmetic operations for GAZL VM:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Optimized arithmetic patterns","optimized_math:         FUNC","                       PARA *2","    $a:                INPi","    $b:                INPi","    $result:           OUTi","    $temp:             LOCi","","    ; OPTIMIZATION: Fast multiplication by constants","    ; Multiply by 3: (x \u0026lt;\u0026lt; 1) + x instead of MULi","    SHLi %0 $a #1               ; a * 2","    ADDi $result %0 $a          ; (a * 2) + a = a * 3","","    ; OPTIMIZATION: Fast division by 3 approximation","    ; Use bit manipulation for approximate division","    MOVi %0 #0x55555556         ; Magic number for divide by 3","    MULi %1 $a %0               ; Multiply by magic number","    SHRi $temp %1 #30           ; Shift to get result","","    ; OPTIMIZATION: Absolute value without branching","    ; abs(x) = (x XOR (x \u0026gt;\u0026gt; 31)) - (x \u0026gt;\u0026gt; 31)","    SHRi %0 $a #31              ; Sign bit","    XORi %1 $a %0               ; XOR with sign","    SUBi $result %1 %0          ; Subtract sign bit","","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 3: Memory Access Optimization\u003c/h3\u003e","","\u003ch4\u003eGlobal vs Local Variable Performance\u003c/h4\u003e","","\u003cp\u003eUnderstanding the performance characteristics of different memory access patterns:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Memory access performance comparison","memory_performance_test: FUNC","                        PARA *0","    $iterations:       LOCi","    $i:                LOCi","    $local_var:        LOCi","    $start_time:       LOCi","    $end_time:         LOCi","","    ; Test 1: Global variable access (slower)","    CALL ^getClock %0 *1","    MOVi $start_time %0","    MOVi $i #0",".global_test:","    PEEK %0 \u0026amp;global_test_var    ; Global access - slower","    ADDi %0 %0 #1","    POKE \u0026amp;global_test_var %0    ; Global write - slower","","    ADDi $i $i #1","    LEQi $i $iterations @.global_test","","    CALL ^getClock %0 *1","    MOVi $end_time %0","    SUBi %0 $end_time $start_time","    ; %0 contains global access timing","","    ; Test 2: Local variable access (faster)","    CALL ^getClock %0 *1","    MOVi $start_time %0","    MOVi $i #0","    MOVi $local_var #0",".local_test:","    ADDi $local_var $local_var #1  ; Local access - faster","","    ADDi $i $i #1","    LEQi $i $iterations @.local_test","","    CALL ^getClock %0 *1","    MOVi $end_time %0","    SUBi %1 $end_time $start_time","    ; %1 contains local access timing (should be faster)","","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eArray Access Optimization\u003c/h4\u003e","","\u003cp\u003eOptimize array access patterns for GAZL VM performance:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Optimized array processing","optimized_array_processing: FUNC","                           PARA *0","    $array:                INPp","    $size:                 INPi","    $i:                    LOCi","    $value:                LOCi","    $sum:                  LOCi","","    ; OPTIMIZATION: Sequential access is more efficient than random access","    MOVi $sum #0","    MOVi $i #0","",".sequential_loop:","    ; Efficient: Sequential array access","    PEEK $value $array $i","    ADDi $sum $sum $value","","    ADDi $i $i #1","    LEQi $i $size @.sequential_loop","","    ; OPTIMIZATION: Unroll loops for array processing","    ; Process 4 elements at once to reduce loop overhead",".unrolled_loop:","    GEQi $i $size @.loop_end","","    ; Process 4 elements without intermediate loop checks","    PEEK %0 $array $i","    ADDi $i $i #1","    PEEK %1 $array $i","    ADDi $i $i #1","    PEEK %2 $array $i","    ADDi $i $i #1","    PEEK %3 $array $i","    ADDi $i $i #1","","    ; Accumulate all 4 values","    ADDi $sum $sum %0","    ADDi $sum $sum %1","    ADDi $sum $sum %2","    ADDi $sum $sum %3","","    LEQi $i $size @.unrolled_loop","",".loop_end:","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMemory Access Pattern Optimization\u003c/h4\u003e","","\u003cp\u003eOrganize memory access for optimal VM performance:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Memory-optimized data structure access","optimize_struct_access:     FUNC","                           PARA *1","    $struct_array:         INPp","    $count:                INPi","    $i:                    LOCi","","    ; OPTIMIZATION: Cache struct field offsets as constants","    ; Define struct layout offsets","    ; struct AudioSample { int left; int right; int processed; }","    ; Offsets: left=0, right=1, processed=2","","    MOVi $i #0",".process_loop:","    ; OPTIMIZATION: Calculate base address once per struct","    MULi %0 $i #3               ; struct size = 3 ints","    ADDp %1 $struct_array %0    ; base address of current struct","","    ; Access struct fields using pre-calculated offsets","    PEEK %2 %1:0               ; left channel (offset 0)","    PEEK %3 %1:1               ; right channel (offset 1)","","    ; Process audio (example: mix channels)","    ADDi %4 %2 %3               ; Mix left and right","    SHRi %4 %4 #1               ; Divide by 2","","    ; Store result","    POKE %1:2 %4               ; processed field (offset 2)","","    ADDi $i $i #1","    LEQi $i $count @.process_loop","","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 4: Function Call Optimization\u003c/h3\u003e","","\u003ch4\u003eReducing Function Call Overhead\u003c/h4\u003e","","\u003cp\u003eFunction calls in GAZL VM have overhead. Optimize by reducing unnecessary calls:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Function call optimization strategies","","; BEFORE: Expensive function calls in loop","inefficient_processing:     FUNC","                           PARA *1","    $sample_count:         LOCi","    $i:                    LOCi","","    MOVi $i #0",".loop:","    PEEK %0 \u0026amp;audio_buffer:$i","","    ; Expensive function call every iteration","    MOVi %1 %0","    CALL \u0026amp;expensive_filter %0 *2","","    POKE \u0026amp;audio_buffer:$i %0","","    ADDi $i $i #1","    LEQi $i $sample_count @.loop","    RETU","","; AFTER: Inlined processing for performance","efficient_processing:       FUNC","                           PARA *1","    $sample_count:         LOCi","    $i:                    LOCi","    $filter_state:         LOCi","","    ; Initialize filter state once","    MOVi $filter_state #0","","    MOVi $i #0",".loop:","    PEEK %0 \u0026amp;audio_buffer:$i","","    ; OPTIMIZATION: Inline simple filter instead of function call","    ; Simple low-pass filter: output = (input + state) / 2","    ADDi %1 %0 $filter_state","    SHRi %1 %1 #1               ; Divide by 2","    MOVi $filter_state %1       ; Update state","","    POKE \u0026amp;audio_buffer:$i %1","","    ADDi $i $i #1","    LEQi $i $sample_count @.loop","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStrategic Function Inlining\u003c/h4\u003e","","\u003cp\u003eDecide when to inline functions vs keep them separate:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Guidelines for function inlining decisions","","; INLINE: Small, frequently called functions","; Example: Simple gain function","apply_gain_inline:          FUNC","                           PARA *2","    $sample:               INPi","    $gain:                 INPi","    $result:               OUTi","","    ; Inline candidate: Only 2-3 instructions","    MULi %0 $sample $gain","    SHRi $result %0 #8          ; Normalize (gain is 8.8 fixed point)","    RETU","","; KEEP SEPARATE: Complex functions with many local variables","complex_reverb:             FUNC","                           PARA *3","    $input:                INPi","    $delay_time:           INPi","    $feedback:             INPi","    $output:               OUTi","","    ; Complex function: Keep separate","    ; - Uses many local variables","    ; - Called less frequently","    ; - Complex algorithm","    $delay_line:           LOCA *4096","    $delay_index:          LOCi","    $delayed_sample:       LOCi","    $feedback_sample:      LOCi","","    ; Complex processing...","    PEEK $delay_index \u0026amp;reverb_state","    PEEK $delayed_sample $delay_line:$delay_index","","    MULi %0 $delayed_sample $feedback","    SHRi %0 %0 #8","    ADDi %1 $input %0","","    POKE $delay_line:$delay_index %1","    ADDi $delay_index $delay_index #1","    MODi $delay_index $delay_index #4096","    POKE \u0026amp;reverb_state $delay_index","","    MOVi $output %1","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 5: Loop Optimization\u003c/h3\u003e","","\u003ch4\u003eLoop Structure Optimization\u003c/h4\u003e","","\u003cp\u003eOptimize loop structures for GAZL VM performance:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Loop optimization techniques","","; OPTIMIZATION 1: Loop unrolling","unrolled_audio_loop:        FUNC","                           PARA *1","    $buffer_size:          LOCi","    $i:                    LOCi","    $remaining:            LOCi","","    ; Process in chunks of 4 to reduce loop overhead","    MOVi $i #0","",".main_loop:","    ; Check if we have at least 4 samples remaining","    SUBi $remaining $buffer_size $i","    LEQi $remaining #4 @.remainder_loop","","    ; Process 4 samples without intermediate checks","    PEEK %0 \u0026amp;input_buffer:$i","    MULi %0 %0 #120","    SHRi %0 %0 #7","    POKE \u0026amp;output_buffer:$i %0","    ADDi $i $i #1","","    PEEK %0 \u0026amp;input_buffer:$i","    MULi %0 %0 #120","    SHRi %0 %0 #7","    POKE \u0026amp;output_buffer:$i %0","    ADDi $i $i #1","","    PEEK %0 \u0026amp;input_buffer:$i","    MULi %0 %0 #120","    SHRi %0 %0 #7","    POKE \u0026amp;output_buffer:$i %0","    ADDi $i $i #1","","    PEEK %0 \u0026amp;input_buffer:$i","    MULi %0 %0 #120","    SHRi %0 %0 #7","    POKE \u0026amp;output_buffer:$i %0","    ADDi $i $i #1","","    GOTO @.main_loop","",".remainder_loop:","    ; Handle remaining samples (0-3)","    GEQi $i $buffer_size @.done","","    PEEK %0 \u0026amp;input_buffer:$i","    MULi %0 %0 #120","    SHRi %0 %0 #7","    POKE \u0026amp;output_buffer:$i %0","    ADDi $i $i #1","","    GOTO @.remainder_loop","",".done:","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eLoop Invariant Optimization\u003c/h4\u003e","","\u003cp\u003eMove invariant calculations outside loops:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Loop invariant optimization","optimize_loop_invariants:   FUNC","                           PARA *1","    $sample_count:         LOCi","    $i:                    LOCi","    $gain:                 LOCi","    $offset:               LOCi","","    ; OPTIMIZATION: Calculate loop invariants once","    ; BEFORE: Calculate these every iteration","    ; AFTER: Calculate once before loop","","    ; Pre-calculate invariant values","    PEEK %0 \u0026amp;params:OPERAND_1_HIGH_PARAM_INDEX","    PEEK %1 \u0026amp;params:OPERAND_1_LOW_PARAM_INDEX","    SHLi %0 %0 #8","    IORi $gain %0 %1            ; Combined gain parameter","","    PEEK $offset \u0026amp;delay_offset   ; Delay line offset","","    ; Now loop only contains variant operations","    MOVi $i #0",".optimized_loop:","    PEEK %0 \u0026amp;input_buffer:$i","","    ; Use pre-calculated invariants","    MULi %0 %0 $gain            ; Use cached gain","    SHRi %0 %0 #8","","    ADDi %1 $i $offset          ; Use cached offset","    POKE \u0026amp;delay_buffer %1 %0","","    ADDi $i $i #1","    LEQi $i $sample_count @.optimized_loop","","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 6: Advanced GAZL Optimization Patterns\u003c/h3\u003e","","\u003ch4\u003eConditional Execution Optimization\u003c/h4\u003e","","\u003cp\u003eOptimize conditional execution to reduce branching:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Conditional execution optimization","optimize_conditionals:      FUNC","                           PARA *2","    $condition:            INPi","    $value:                INPi","    $result:               OUTi","","    ; OPTIMIZATION: Use arithmetic instead of branching when possible","    ; BEFORE: Branching version","    ; EQUi $condition #0 @.false_case","    ; MOVi $result $value","    ; GOTO @.done","    ; .false_case:","    ; MOVi $result #0","    ; .done:","","    ; AFTER: Branchless version using arithmetic","    ; result = condition ? value : 0","    ; This can be computed as: result = (condition != 0) * value","","    NEQi %0 $condition #0       ; %0 = 1 if condition != 0, else 0","    MULi $result %0 $value      ; result = boolean * value","","    RETU","","; Branch optimization for audio processing","optimize_audio_branches:    FUNC","                           PARA *1","    $sample:               INPi","    $processed:            OUTi","","    ; OPTIMIZATION: Combine multiple conditions","    ; Instead of multiple branches, use lookup table or arithmetic","","    ; Clamp sample to range [-2047, 2047] without branching","    ; Method: Use min/max operations implemented with arithmetic","","    ; Clamp to maximum","    GRTi $sample #2047 @.clamp_max","    MOVi %0 $sample","    GOTO @.check_min",".clamp_max:","    MOVi %0 #2047","",".check_min:","    ; Clamp to minimum","    LEQi %0 #-2047 @.clamp_min","    MOVi $processed %0","    GOTO @.done",".clamp_min:","    MOVi $processed #-2047","",".done:","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eData Structure Optimization\u003c/h4\u003e","","\u003cp\u003eOptimize data structure layout for GAZL VM access patterns:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Optimized data structure organization","optimize_data_structures:   FUNC","                           PARA *1","    $voice_count:          LOCi","    $voice_idx:            LOCi","","    ; OPTIMIZATION: Structure of Arrays vs Array of Structures","    ; For GAZL VM, Structure of Arrays is often more efficient","","    ; EFFICIENT: Structure of Arrays","    ; All frequencies together, all phases together","    ; Better for GAZL memory access patterns","","    MOVi $voice_idx #0",".voice_loop:","    ; Process all frequencies first","    PEEK %0 \u0026amp;voice_frequencies:$voice_idx","    MULi %0 %0 #2","    POKE \u0026amp;voice_frequencies:$voice_idx %0","","    ; Then process all phases","    PEEK %1 \u0026amp;voice_phases:$voice_idx","    ADDi %1 %1 %0","    POKE \u0026amp;voice_phases:$voice_idx %1","","    ; Finally process amplitudes","    PEEK %2 \u0026amp;voice_amplitudes:$voice_idx","    ; ... amplitude processing","","    ADDi $voice_idx $voice_idx #1","    LEQi $voice_idx $voice_count @.voice_loop","","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 7: Performance Measurement and Validation\u003c/h3\u003e","","\u003ch4\u003eGAZL Performance Testing Framework\u003c/h4\u003e","","\u003cp\u003eEstablish systematic performance measurement for GAZL optimization:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Performance measurement framework for GAZL","measure_gazl_performance:   FUNC","                           PARA *1","    $test_iterations:      LOCi","    $start_time:           LOCi","    $end_time:             LOCi","    $total_time:           LOCi","    $i:                    LOCi","","    ; Clear performance counters","    POKE \u0026amp;perf_counter_start #0","    POKE \u0026amp;perf_counter_end #0","","    ; Get baseline timing","    CALL ^getClock %0 *1","    MOVi $start_time %0","","    ; Run test iterations","    MOVi $i #0",".test_loop:","    ; Code under test goes here","    CALL \u0026amp;code_under_test %0 *1","","    ADDi $i $i #1","    LEQi $i $test_iterations @.test_loop","","    ; Get end timing","    CALL ^getClock %0 *1","    MOVi $end_time %0","","    ; Calculate performance metrics","    SUBi $total_time $end_time $start_time","    DIVi %0 $total_time $test_iterations","","    ; Store average time per iteration","    POKE \u0026amp;performance_result %0","","    RETU","","; Performance regression testing","performance_regression_test: FUNC","                            PARA *1","    $baseline_time:         LOCi","    $current_time:          LOCi","    $regression_threshold:  LOCi","","    ; Load baseline performance","    PEEK $baseline_time \u0026amp;performance_baseline","","    ; Measure current performance","    CALL \u0026amp;measure_gazl_performance %0 *1","    PEEK $current_time \u0026amp;performance_result","","    ; Check for regression (more than 10% slower)","    MULi $regression_threshold $baseline_time #110","    DIVi $regression_threshold $regression_threshold #100","","    GRTi $current_time $regression_threshold @.performance_regression","    GOTO @.performance_ok","",".performance_regression:","    ; Log performance regression","    MOVp %1 \u0026amp;.s_performance_regression","    CALL ^trace %0 *2","    MOVi %1 $current_time","    CALL \u0026amp;traceInt %0 *2","",".performance_ok:","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eBest Practices for GAZL Optimization\u003c/h3\u003e","","\u003ch4\u003eSystematic GAZL Optimization Approach\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003eProfile GAZL Execution\u003c/strong\u003e: Use VM-specific profiling to identify bottlenecks\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eOptimize Instruction Patterns\u003c/strong\u003e: Choose efficient GAZL instruction sequences\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eMinimize Memory Access\u003c/strong\u003e: Reduce global variable access frequency\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eOptimize Function Calls\u003c/strong\u003e: Inline small functions, optimize call patterns\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eTest Performance\u003c/strong\u003e: Measure optimization impact systematically\u003c/p\u003e","","\u003ch4\u003eGAZL-Specific Guidelines\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003eFavor Local Variables\u003c/strong\u003e: Local variable access is faster than global access\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eCache Parameter Values\u003c/strong\u003e: Store frequently accessed parameters in locals\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eUse Shift Operations\u003c/strong\u003e: Prefer shifts over multiply/divide for powers of 2\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eMinimize Function Calls\u003c/strong\u003e: Inline simple operations in critical paths\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eUnroll Small Loops\u003c/strong\u003e: Reduce loop overhead for short, fixed-size loops\u003c/p\u003e","","\u003ch4\u003eQuality Assurance for GAZL Optimization\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003eRegression Testing\u003c/strong\u003e: Maintain GAZL performance benchmarks\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eCorrectness Validation\u003c/strong\u003e: Ensure optimizations don't change behavior\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eReal-Time Testing\u003c/strong\u003e: Validate performance under real-time constraints\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eCross-Compiler Testing\u003c/strong\u003e: Test with different Impala compilation settings\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eConclusion\u003c/h3\u003e","","\u003cp\u003eGAZL virtual machine optimization requires understanding the unique characteristics of the VM execution environment. Unlike native assembly optimization, GAZL optimization focuses on VM instruction efficiency, memory access patterns specific to the virtual machine, and the overhead characteristics of VM function calls.\u003c/p\u003e","","\u003cp\u003eThe systematic application of GAZL-specific optimization techniques, combined with careful measurement and validation, provides the foundation for high-performance firmware development on the Permut8 platform. These optimizations enable developers to create efficient real-time audio processing while working within the VM execution model.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eNext Steps\u003c/strong\u003e: Apply these GAZL optimization techniques in conjunction with [Integration Best Practices](gazl-integration-production.md) for comprehensive virtual machine development mastery.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-60\" class=\"doc-section\"\u003e","\u003ch1\u003e60. Gazl Integration Production\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/assembly/gazl-integration-production.md\u003c/div\u003e","","\u003ch2\u003eGAZL-Impala Integration and Production\u003c/h2\u003e","","\u003ch3\u003eOverview\u003c/h3\u003e","","\u003cp\u003eMaster professional integration of GAZL virtual machine code with Impala firmware development. This comprehensive guide presents industry-standard best practices for integrating GAZL virtual machine instructions with high-level Impala algorithms. You'll learn professional workflows, interface design patterns, compilation integration, and production deployment strategies that enable seamless cooperation between Impala source code and the compiled GAZL virtual machine output.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eKey Insight\u003c/strong\u003e: GAZL is the compiled output of Impala, not a separate assembly language. Understanding this compilation relationship is crucial for effective integration and optimization.\u003c/p\u003e","","\u003ch3\u003eWhat You'll Learn\u003c/h3\u003e","","\u003cp\u003eBy the end of this guide, you'll master:\u003c/p\u003e","\u003cli\u003eProfessional Impala development with GAZL optimization awareness\u003c/li\u003e","\u003cli\u003eStrategic compilation and GAZL output analysis\u003c/li\u003e","\u003cli\u003eBuild system integration for Impala-to-GAZL compilation\u003c/li\u003e","\u003cli\u003eAdvanced debugging across the compilation boundary\u003c/li\u003e","\u003cli\u003ePerformance optimization through Impala code structure\u003c/li\u003e","\u003cli\u003eMaintainable code organization for Impala development\u003c/li\u003e","\u003cli\u003eProduction-ready deployment and testing strategies\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003ePrerequisites\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e[GAZL Assembly Introduction](gazl-assembly-introduction.md)\u003c/li\u003e","\u003cli\u003e[GAZL Debugging and Profiling](gazl-debugging-profiling.md)\u003c/li\u003e","\u003cli\u003e[GAZL Optimization](gazl-optimization.md)\u003c/li\u003e","\u003cli\u003eUnderstanding Impala Language Fundamentals\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eTime Required\u003c/strong\u003e: 2-3 hours\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eDifficulty\u003c/strong\u003e: Expert\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eChapter 1: Understanding the Impala-GAZL Compilation Model\u003c/h3\u003e","","\u003ch4\u003eDevelopment Architecture\u003c/h4\u003e","","\u003cp\u003eImpala and GAZL have a specific relationship in Permut8 firmware development:\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eImpala Role\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eHigh-level firmware development language\u003c/li\u003e","\u003cli\u003eSource code for all firmware functionality\u003c/li\u003e","\u003cli\u003eCompilation target that produces GAZL virtual machine code\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eGAZL Role\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eVirtual machine language compiled from Impala\u003c/li\u003e","\u003cli\u003eExecution format for the Permut8 virtual machine\u003c/li\u003e","\u003cli\u003ePerformance analysis and optimization target\u003c/li\u003e","","\u003ch4\u003eCompilation Pipeline\u003c/h4\u003e","","\u003cp\u003eUnderstanding the Impala-to-GAZL compilation process:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","Impala Source Code (.impala)","         [Impala Compiler]","GAZL Virtual Machine Code (.gazl)","         [Permut8 Virtual Machine]","Audio Processing Execution","\u003c/code\u003e\u003c/pre\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === IMPALA SOURCE EXAMPLE ===","// High-level Impala firmware","","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","","global array signal[2]","global array params[8]","global array displayLEDs[4]","","// Efficient Impala algorithm design","function process() {","    loop {","        processAudioSamples();","        updateDisplays();","        yield();","    }","}","","function processAudioSamples()","locals int i, int sample, int processed","{","    // Optimized for efficient GAZL compilation","    int gain = calculateGain();  // Cached outside loop","","    for (i = 0 to 1) {  // Process stereo channels","        sample = global signal[i];","","        // Simple, compiler-friendly operations","        processed = sample * gain;","        processed = processed \u0026gt;\u0026gt; 8;  // Normalize","","        // Clamp to audio range","        if (processed \u0026gt; 2047) {","            processed = 2047;","        } else if (processed \u0026lt; -2047) {","            processed = -2047;","        }","","        global signal[i] = processed;","    }","}","","function calculateGain() returns int","locals int operand_high, int operand_low","{","    // Cache parameter access for efficiency","    operand_high = global params[OPERAND_1_HIGH_PARAM_INDEX];","    operand_low = global params[OPERAND_1_LOW_PARAM_INDEX];","","    // Combine parameters efficiently","    return (operand_high \u0026lt;\u0026lt; 8) | operand_low;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eCompiles to optimized GAZL:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-gazl\"\u003e","; Compiled GAZL output (simplified representation)","process:        FUNC","                PARA *0",".loop:","    CALL \u0026amp;processAudioSamples %0 *1","    CALL \u0026amp;updateDisplays %0 *1","    CALL ^yield %0 *1","    GOTO @.loop","","processAudioSamples: FUNC","                    PARA *0","    $gain:          LOCi","    $i:             LOCi","    $sample:        LOCi","    $processed:     LOCi","","    ; Optimized: gain calculated once","    CALL \u0026amp;calculateGain $gain *1","","    MOVi $i #0",".channel_loop:","    ; Efficient array access","    PEEK $sample \u0026amp;signal:$i","","    ; Optimized arithmetic","    MULi $processed $sample $gain","    SHRi $processed $processed #8","","    ; Efficient clamping","    GRTi $processed #2047 @.clamp_high","    LEQi $processed #-2047 @.clamp_low","    GOTO @.store_sample","",".clamp_high:","    MOVi $processed #2047","    GOTO @.store_sample","",".clamp_low:","    MOVi $processed #-2047","",".store_sample:","    POKE \u0026amp;signal:$i $processed","","    ADDi $i $i #1","    LEQi $i #1 @.channel_loop","    RETU","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 2: Optimizing Impala for Efficient GAZL Compilation\u003c/h3\u003e","","\u003ch4\u003eCompiler-Friendly Impala Patterns\u003c/h4\u003e","","\u003cp\u003eWrite Impala code that compiles to efficient GAZL virtual machine instructions:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === OPTIMIZATION PATTERN 1: Loop Structure ===","","// INEFFICIENT: Complex loop conditions","function inefficientLoop()","locals int i, int condition, int result","{","    i = 0;","    while (i \u0026lt; BUFFER_SIZE \u0026amp;\u0026amp; global params[0] \u0026gt; 50 \u0026amp;\u0026amp; result \u0026gt;= 0) {","        result = processComplexCondition(i);","        i = i + 1;","    }","}","","// EFFICIENT: Simple loop with cached conditions","function efficientLoop()","locals int i, int threshold, int should_continue","{","    threshold = global params[0];","    should_continue = (threshold \u0026gt; 50) ? 1 : 0;","","    if (should_continue == 1) {","        for (i = 0 to BUFFER_SIZE - 1) {","            processSimpleOperation(i);","        }","    }","}","","// === OPTIMIZATION PATTERN 2: Parameter Access ===","","// INEFFICIENT: Repeated global access","function inefficientParameterAccess()","locals int i, int sample","{","    for (i = 0 to BUFFER_SIZE - 1) {","        sample = global signal[i];","","        // Repeated global access in loop","        sample = sample * global params[OPERAND_1_HIGH_PARAM_INDEX];","        sample = sample + global params[OPERAND_1_LOW_PARAM_INDEX];","","        global signal[i] = sample;","    }","}","","// EFFICIENT: Cached parameter access","function efficientParameterAccess()","locals int i, int sample, int gain, int offset","{","    // Cache parameters outside loop","    gain = global params[OPERAND_1_HIGH_PARAM_INDEX];","    offset = global params[OPERAND_1_LOW_PARAM_INDEX];","","    for (i = 0 to BUFFER_SIZE - 1) {","        sample = global signal[i];","","        // Use cached values","        sample = sample * gain;","        sample = sample + offset;","","        global signal[i] = sample;","    }","}","","// === OPTIMIZATION PATTERN 3: Function Design ===","","// INEFFICIENT: Complex function with many parameters","function inefficientFunction(a, b, c, d, e) returns int","locals int temp1, int temp2, int temp3","{","    temp1 = a * b + c;","    temp2 = d - e;","    temp3 = temp1 / temp2;","","    if (temp3 \u0026gt; 100) {","        return temp3 * 2;","    } else {","        return temp3 / 2;","    }","}","","// EFFICIENT: Simple, focused functions","function efficientMultiply(a, b) returns int {","    return a * b;","}","","function efficientScale(value, factor) returns int {","    if (factor \u0026gt; 100) {","        return value \u0026lt;\u0026lt; 1;  // Multiply by 2 using shift","    } else {","        return value \u0026gt;\u0026gt; 1;  // Divide by 2 using shift","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMemory Layout Optimization\u003c/h4\u003e","","\u003cp\u003eDesign Impala data structures for efficient GAZL memory access:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === OPTIMIZED DATA STRUCTURE DESIGN ===","","// INEFFICIENT: Complex nested data access","global array voiceFrequencies[8];","global array voiceAmplitudes[8];","global array voicePhases[8];","global array voiceStates[8];","","function inefficientVoiceProcessing()","locals int voice, int freq, int amp, int phase, int state","{","    for (voice = 0 to 7) {","        // Multiple global array accesses","        freq = global voiceFrequencies[voice];","        amp = global voiceAmplitudes[voice];","        phase = global voicePhases[voice];","        state = global voiceStates[voice];","","        // Complex processing","        processVoice(freq, amp, phase, state, voice);","    }","}","","// EFFICIENT: Sequential processing of each parameter type","function efficientVoiceProcessing()","locals int voice, int cached_value","{","    // Process all frequencies together (better cache locality)","    for (voice = 0 to 7) {","        cached_value = global voiceFrequencies[voice];","        cached_value = cached_value * 2;  // Example processing","        global voiceFrequencies[voice] = cached_value;","    }","","    // Process all amplitudes together","    for (voice = 0 to 7) {","        cached_value = global voiceAmplitudes[voice];","        cached_value = cached_value \u0026gt;\u0026gt; 1;  // Example processing","        global voiceAmplitudes[voice] = cached_value;","    }","","    // Continue for other parameters...","}","","// === EFFICIENT PARAMETER COMBINATION ===","","function combineParameters() returns int","locals int high, int low, int combined","{","    // Efficient parameter combining for 16-bit values","    high = global params[OPERAND_1_HIGH_PARAM_INDEX];","    low = global params[OPERAND_1_LOW_PARAM_INDEX];","","    // Single operation to combine","    combined = (high \u0026lt;\u0026lt; 8) | low;","","    return combined;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 3: Build System Integration\u003c/h3\u003e","","\u003ch4\u003eAutomated Compilation Pipeline\u003c/h4\u003e","","\u003cp\u003eIntegrate Impala compilation into development workflow:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-bash\"\u003e","#!/bin/bash","# build_firmware.sh - Automated build script","","# Configuration","IMPALA_COMPILER=\"PikaCmd.exe\"","SOURCE_DIR=\"src\"","BUILD_DIR=\"build\"","FIRMWARE_NAME=\"permut8_firmware\"","","# Create build directory","mkdir -p \"$BUILD_DIR\"","","echo \"=== Permut8 Firmware Build System ===\"","echo \"Building firmware: $FIRMWARE_NAME\"","","# Find all Impala source files","IMPALA_SOURCES=$(find \"$SOURCE_DIR\" -name \"*.impala\" | tr '\\n' ' ')","","if [ -z \"$IMPALA_SOURCES\" ]; then","    echo \"Error: No Impala source files found in $SOURCE_DIR\"","    exit 1","fi","","echo \"Found source files: $IMPALA_SOURCES\"","","# Compile each Impala file to GAZL","for source_file in $IMPALA_SOURCES; do","    echo \"Compiling: $source_file\"","","    # Extract filename without extension","    basename=$(basename \"$source_file\" .impala)","    output_file=\"$BUILD_DIR/${basename}.gazl\"","","    # Compile Impala to GAZL","    \"$IMPALA_COMPILER\" impala.pika compile \"$source_file\" \"$output_file\"","","    if [ $? -ne 0 ]; then","        echo \"Error: Compilation failed for $source_file\"","        exit 1","    fi","","    echo \"Generated: $output_file\"","done","","# Validate generated GAZL","echo \"=== Validating Generated GAZL ===\"","for gazl_file in \"$BUILD_DIR\"/*.gazl; do","    echo \"Validating: $gazl_file\"","","    # Check for required firmware format","    if ! grep -q \"PRAWN_FIRMWARE_PATCH_FORMAT.*2\" \"$gazl_file\"; then","        echo \"Warning: $gazl_file missing required firmware format declaration\"","    fi","","    # Check for main functions","    if grep -q \"process.*FUNC\" \"$gazl_file\"; then","        echo \" Found process() function in $gazl_file\"","    elif grep -q \"operate1.*FUNC\" \"$gazl_file\"; then","        echo \" Found operate1() function in $gazl_file\"","    else","        echo \"Warning: No main processing function found in $gazl_file\"","    fi","done","","echo \"=== Build Complete ===\"","echo \"Output files in: $BUILD_DIR\"","ls -la \"$BUILD_DIR\"/*.gazl","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eDevelopment Environment Integration\u003c/h4\u003e","","\u003cp\u003eSet up efficient development workflow:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-makefile\"\u003e","# Makefile for Impala-GAZL development","","# Configuration","IMPALA_COMPILER = PikaCmd.exe","IMPALA_PIKA = impala.pika","SOURCE_DIR = src","BUILD_DIR = build","TEST_DIR = tests","","# Source files","IMPALA_SOURCES = $(wildcard $(SOURCE_DIR)/*.impala)","GAZL_OUTPUTS = $(IMPALA_SOURCES:$(SOURCE_DIR)/%.impala=$(BUILD_DIR)/%.gazl)","","# Default target",".PHONY: all","all: $(GAZL_OUTPUTS)","","# Create build directory","$(BUILD_DIR):","\tmkdir -p $(BUILD_DIR)","","# Compile Impala to GAZL","$(BUILD_DIR)/%.gazl: $(SOURCE_DIR)/%.impala | $(BUILD_DIR)","\t@echo \"Compiling $\u0026lt; to $@\"","\t$(IMPALA_COMPILER) $(IMPALA_PIKA) compile $\u0026lt; $@","\t@echo \" Generated $@\"","","# Development targets",".PHONY: debug","debug: IMPALA_FLAGS += -DDEBUG=1","debug: $(GAZL_OUTPUTS)","\t@echo \"Debug build completed\"","",".PHONY: release","release: IMPALA_FLAGS += -DRELEASE=1 -O2","release: $(GAZL_OUTPUTS)","\t@echo \"Release build completed\"","","# Testing",".PHONY: test","test: $(GAZL_OUTPUTS)","\t@echo \"Running firmware tests...\"","\t@for gazl_file in $(GAZL_OUTPUTS); do \\","\t\techo \"Testing $$gazl_file\"; \\","\t\t./validate_gazl.sh \"$$gazl_file\"; \\","\tdone","","# Analysis",".PHONY: analyze","analyze: $(GAZL_OUTPUTS)","\t@echo \"Analyzing generated GAZL...\"","\t@for gazl_file in $(GAZL_OUTPUTS); do \\","\t\techo \"=== Analysis: $$gazl_file ===\"; \\","\t\t./analyze_gazl_performance.sh \"$$gazl_file\"; \\","\tdone","","# Cleanup",".PHONY: clean","clean:","\trm -rf $(BUILD_DIR)","\t@echo \"Build directory cleaned\"","","# Help",".PHONY: help","help:","\t@echo \"Available targets:\"","\t@echo \"  all      - Build all firmware (default)\"","\t@echo \"  debug    - Build with debug flags\"","\t@echo \"  release  - Build optimized release version\"","\t@echo \"  test     - Run firmware validation tests\"","\t@echo \"  analyze  - Analyze generated GAZL performance\"","\t@echo \"  clean    - Remove build artifacts\"","\t@echo \"  help     - Show this help message\"","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 4: Advanced Development Patterns\u003c/h3\u003e","","\u003ch4\u003ePerformance-Aware Impala Development\u003c/h4\u003e","","\u003cp\u003eWrite Impala code with GAZL compilation performance in mind:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === PERFORMANCE PATTERN 1: Algorithm Structure ===","","// Organize algorithms for optimal GAZL compilation","function performanceOptimizedFilter()","locals int i, int sample, int state, int coefficient","{","    // Pre-load frequently used values","    coefficient = global params[FILTER_COEFF_INDEX];","    state = global filterState[0];","","    // Optimized processing loop","    for (i = 0 to BUFFER_SIZE - 1) {","        sample = global signal[i];","","        // Simple, efficient operations","        state = (state + sample) \u0026gt;\u0026gt; 1;        // Simple average","        sample = sample + (state \u0026gt;\u0026gt; 2);       // Add filtered component","","        global signal[i] = sample;","    }","","    // Store updated state","    global filterState[0] = state;","}","","// === PERFORMANCE PATTERN 2: Conditional Optimization ===","","function optimizedConditionalProcessing()","locals int i, int sample, int mode, int threshold","{","    // Cache decision variables","    mode = global params[PROCESSING_MODE_INDEX];","    threshold = global params[THRESHOLD_INDEX];","","    // Structure for efficient compilation","    if (mode == BYPASS_MODE) {","        // Simple bypass - compiles to minimal GAZL","        return;","    } else if (mode == FILTER_MODE) {","        // Dedicated filter processing","        applyFilterProcessing(threshold);","    } else if (mode == DISTORTION_MODE) {","        // Dedicated distortion processing","        applyDistortionProcessing(threshold);","    }","}","","// === PERFORMANCE PATTERN 3: Memory Access Optimization ===","","function optimizedMemoryAccess()","locals int i, int left_sample, int right_sample","{","    // Process samples in pairs for efficiency","    for (i = 0 to BUFFER_SIZE - 1) {","        // Sequential memory access","        left_sample = global signal[0];","        right_sample = global signal[1];","","        // Process both channels","        left_sample = left_sample * 120 \u0026gt;\u0026gt; 7;","        right_sample = right_sample * 120 \u0026gt;\u0026gt; 7;","","        // Sequential memory write","        global signal[0] = left_sample;","        global signal[1] = right_sample;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eError Handling and Robustness\u003c/h4\u003e","","\u003cp\u003eImplement robust error handling in Impala that compiles efficiently:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === ROBUST ERROR HANDLING ===","","global int lastErrorCode = 0;","global int errorCount = 0;","","const int ERROR_NONE = 0;","const int ERROR_INVALID_PARAMETER = 1;","const int ERROR_BUFFER_OVERFLOW = 2;","const int ERROR_ARITHMETIC_OVERFLOW = 3;","","function safeAudioProcessing() returns int","locals int result, int backup_sample","{","    // Clear error state","    lastErrorCode = ERROR_NONE;","","    // Validate input parameters","    if (global params[GAIN_INDEX] \u0026gt; 255) {","        lastErrorCode = ERROR_INVALID_PARAMETER;","        // Use safe default","        global params[GAIN_INDEX] = 128;","    }","","    // Process with overflow protection","    backup_sample = global signal[0];","","    result = processAudioSample(global signal[0]);","","    // Validate result","    if (result \u0026gt; 2047 || result \u0026lt; -2047) {","        lastErrorCode = ERROR_ARITHMETIC_OVERFLOW;","        result = backup_sample;  // Restore original","        errorCount = errorCount + 1;","    }","","    global signal[0] = result;","","    return lastErrorCode;","}","","function processAudioSample(sample) returns int","locals int processed, int gain","{","    gain = global params[GAIN_INDEX];","","    // Safe arithmetic with overflow check","    processed = sample * gain;","","    // Check for overflow (simple but effective)","    if (processed \u0026gt; 262143 || processed \u0026lt; -262144) {  // 18-bit limit","        // Saturate to prevent overflow","        if (processed \u0026gt; 0) {","            processed = 262143;","        } else {","            processed = -262144;","        }","    }","","    // Scale back to audio range","    processed = processed \u0026gt;\u0026gt; 8;","","    return processed;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eChapter 5: Testing and Validation\u003c/h3\u003e","","\u003ch4\u003eComprehensive Testing Framework\u003c/h4\u003e","","\u003cp\u003eTest Impala firmware through the GAZL compilation process:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === TESTING FRAMEWORK ===","","global int testResults[16];","global int currentTest = 0;","","function runAllTests() returns int","locals int passed, int total","{","    currentTest = 0;","","    if (DEBUG) {","        trace(\"=== Starting Firmware Tests ===\");","    }","","    // Test basic functionality","    runTest(\"Basic Audio Processing\", testBasicAudioProcessing);","    runTest(\"Parameter Handling\", testParameterHandling);","    runTest(\"Error Handling\", testErrorHandling);","    runTest(\"Performance Boundaries\", testPerformanceBoundaries);","","    // Calculate results","    passed = countPassedTests();","    total = currentTest;","","    if (DEBUG) {","        trace(\"=== Test Results ===\");","        trace(\"Passed:\", passed);","        trace(\"Total:\", total);","    }","","    return (passed == total) ? 1 : 0;","}","","function runTest(testName, testFunction)","locals int result","{","    if (DEBUG) {","        trace(\"Running test:\", testName);","    }","","    result = testFunction();","    testResults[currentTest] = result;","","    if (DEBUG) {","        if (result == 1) {","            trace(\" PASSED:\", testName);","        } else {","            trace(\" FAILED:\", testName);","        }","    }","","    currentTest = currentTest + 1;","}","","function testBasicAudioProcessing() returns int","locals int original_left, int original_right, int processed_left, int processed_right","{","    // Setup test conditions","    original_left = 1000;","    original_right = -1000;","","    global signal[0] = original_left;","    global signal[1] = original_right;","    global params[GAIN_INDEX] = 128;  // Unity gain","","    // Process audio","    safeAudioProcessing();","","    // Check results","    processed_left = global signal[0];","    processed_right = global signal[1];","","    // Validate processing (should be approximately unchanged at unity gain)","    if (abs(processed_left - original_left) \u0026lt; 10 \u0026amp;\u0026amp;","        abs(processed_right - original_right) \u0026lt; 10) {","        return 1;  // Test passed","    }","","    return 0;  // Test failed","}","","function testParameterHandling() returns int","locals int i, int initial_value, int set_value","{","    // Test parameter range validation","    for (i = 0 to PARAM_COUNT - 1) {","        initial_value = global params[i];","","        // Test boundary values","        global params[i] = 300;  // Invalid (\u0026gt;255)","        safeAudioProcessing();","","        if (global params[i] \u0026gt; 255) {","            return 0;  // Should have been corrected","        }","","        // Restore original","        global params[i] = initial_value;","    }","","    return 1;  // Test passed","}","","function testErrorHandling() returns int","locals int error_before, int error_after","{","    // Test error recovery","    error_before = lastErrorCode;","","    // Force an error condition","    global signal[0] = 3000;  // Out of range","    safeAudioProcessing();","","    error_after = lastErrorCode;","","    // Check that error was detected and handled","    if (error_after != ERROR_NONE \u0026amp;\u0026amp; global signal[0] \u0026lt;= 2047) {","        return 1;  // Error detected and corrected","    }","","    return 0;  // Error handling failed","}","","function abs(value) returns int {","    if (value \u0026lt; 0) {","        return -value;","    }","    return value;","}","","function countPassedTests() returns int","locals int i, int count","{","    count = 0;","    for (i = 0 to currentTest - 1) {","        if (testResults[i] == 1) {","            count = count + 1;","        }","    }","    return count;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003ePerformance Validation\u003c/h4\u003e","","\u003cp\u003eValidate performance characteristics of compiled GAZL:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// === PERFORMANCE VALIDATION ===","","global int performanceMetrics[8];","","function validatePerformance() returns int","locals int start_time, int end_time, int duration, int threshold","{","    if (DEBUG) {","        trace(\"=== Performance Validation ===\");","    }","","    // Measure audio processing time","    start_time = getSampleCounter();","","    // Run standard processing","    safeAudioProcessing();","","    end_time = getSampleCounter();","    duration = end_time - start_time;","","    // Store performance metric","    performanceMetrics[0] = duration;","","    // Define performance threshold (example: 100 cycles)","    threshold = 100;","","    if (DEBUG) {","        trace(\"Processing duration:\", duration);","        trace(\"Threshold:\", threshold);","    }","","    // Validate performance","    if (duration \u0026lt;= threshold) {","        if (DEBUG) {","            trace(\" Performance validation passed\");","        }","        return 1;","    } else {","        if (DEBUG) {","            trace(\" Performance validation failed\");","        }","        return 0;","    }","}","","function getSampleCounter() returns int {","    // Return current sample counter for timing","    return global clock;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eProduction Best Practices\u003c/h3\u003e","","\u003ch4\u003eImpala Code Organization\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003eModular Design\u003c/strong\u003e: Organize Impala code into focused, single-purpose functions\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003ePerformance Awareness\u003c/strong\u003e: Structure code for optimal GAZL compilation\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eError Handling\u003c/strong\u003e: Implement robust error handling that compiles efficiently\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eTesting Integration\u003c/strong\u003e: Include comprehensive testing in the development workflow\u003c/p\u003e","","\u003ch4\u003eGAZL Analysis and Optimization\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003eCompilation Review\u003c/strong\u003e: Regularly review generated GAZL for optimization opportunities\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003ePerformance Monitoring\u003c/strong\u003e: Track GAZL instruction efficiency and VM performance\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eMemory Pattern Analysis\u003c/strong\u003e: Analyze GAZL memory access patterns for optimization\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eInstruction Count Optimization\u003c/strong\u003e: Minimize GAZL instruction count in critical paths\u003c/p\u003e","","\u003ch4\u003eDevelopment Workflow\u003c/h4\u003e","","\u003cp\u003e1. \u003cstrong\u003eAutomated Building\u003c/strong\u003e: Use consistent build scripts for Impala-to-GAZL compilation\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eVersion Control\u003c/strong\u003e: Track both Impala source and generated GAZL for analysis\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003ePerformance Regression Testing\u003c/strong\u003e: Monitor GAZL performance across development cycles\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eDocumentation\u003c/strong\u003e: Maintain clear documentation of optimization decisions\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eConclusion\u003c/h3\u003e","","\u003cp\u003eProfessional Impala-GAZL integration focuses on understanding the compilation relationship and optimizing Impala source code for efficient GAZL virtual machine execution. Success requires writing Impala code that compiles to performant GAZL instructions while maintaining code clarity and robustness.\u003c/p\u003e","","\u003cp\u003eThe patterns and practices presented in this guide provide the foundation for building production-quality Permut8 firmware that leverages the strengths of high-level Impala development while achieving optimal performance through efficient compilation to the GAZL virtual machine.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eNext Steps\u003c/strong\u003e: Apply these integration techniques to build complete, professional-grade Permut8 firmware that maximizes the efficiency of the Impala-to-GAZL compilation process for optimal performance and maintainability.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-61\" class=\"doc-section\"\u003e","\u003ch1\u003e61. Audio_Processing_Reference\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/reference/audio_processing_reference.md\u003c/div\u003e","","\u003ch2\u003eAudio Processing Reference\u003c/h2\u003e","","\u003ch3\u003eWhat This Is\u003c/h3\u003e","\u003cp\u003eCore DSP concepts and audio processing techniques for Permut8 firmware. Covers signal flow, filtering, effects algorithms, and optimization patterns for real-time audio.\u003c/p\u003e","","\u003ch3\u003eSignal Flow Fundamentals\u003c/h3\u003e","","\u003ch4\u003eConstants and Definitions\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Essential mathematical constants","const int TWO_PI_SCALED = 6283  // TWO_PI * 1000 for fixed-point math","","// Permut8 audio sample range","const int AUDIO_MIN = -2047","const int AUDIO_MAX = 2047","const int AUDIO_ZERO = 0","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eAudio Signal Range\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// 12-bit signed samples","// Full scale  卤2048 (12-bit range)","// Quiet signals: 卤10 to 卤100","// Moderate signals: 卤500 to 卤1500","// Loud signals: 卤1500 to 卤2047","","// Use the constants defined above:","// AUDIO_MIN = -2047, AUDIO_MAX = 2047, AUDIO_ZERO = 0","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eSignal Processing Chain\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    // 1. Read input","    int inputLeft = signal[0];","    int inputRight = signal[1];","","    // 2. Process audio","    int processedLeft = audioProcess(inputLeft);","    int processedRight = audioProcess(inputRight);","","    // 3. Clip to valid range","    if (processedLeft \u0026gt; AUDIO_MAX) processedLeft = AUDIO_MAX;","    else if (processedLeft \u0026lt; AUDIO_MIN) processedLeft = AUDIO_MIN;","    if (processedRight \u0026gt; AUDIO_MAX) processedRight = AUDIO_MAX;","    else if (processedRight \u0026lt; AUDIO_MIN) processedRight = AUDIO_MIN;","","    // 4. Write output","    signal[0] = processedLeft;","    signal[1] = processedRight;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStereo Processing Patterns\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Identical processing (mono-in-stereo)","function processMonoStereo(int input) returns int {","    // Same processing for both channels","    signal[0] = audioEffect(input);","    signal[1] = signal[0];  // Copy left to right","}","","// Independent processing","function processStereo() {","    signal[0] = leftChannelEffect(signal[0]);","    signal[1] = rightChannelEffect(signal[1]);","}","","// Cross-channel processing","function processCrossed() {","    int tempLeft = signal[0];","    int tempRight = signal[1];","","    signal[0] = leftEffect(tempLeft, tempRight);   // L uses both inputs","    signal[1] = rightEffect(tempLeft, tempRight);  // R uses both inputs","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eBasic Filters\u003c/h3\u003e","","\u003ch4\u003eSimple Low-Pass Filter\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int lastOutputLeft = 0;","global int lastOutputRight = 0;","","function lowPassFilter(int input, int lastOutput)","returns int filtered {","    // Simple RC-style low-pass: Y[n] = Y[n-1] + (X[n] - Y[n-1]) * cutoff","    int cutoffAmount = (int)params[OPERAND_1_HIGH_PARAM_INDEX];  // 0-255","","    // Scale cutoff (0-255  0-32 for stability)","    int scaledCutoff = cutoffAmount \u0026gt;\u0026gt; 3;  // Divide by 8","","    // Filter calculation","    int difference = input - lastOutput;","    filtered = lastOutput + ((difference * scaledCutoff) \u0026gt;\u0026gt; 8);","}","","function process() {","    lastOutputLeft = lowPassFilter(signal[0], lastOutputLeft);","    lastOutputRight = lowPassFilter(signal[1], lastOutputRight);","","    signal[0] = lastOutputLeft;","    signal[1] = lastOutputRight;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eSimple High-Pass Filter\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int lastInputLeft = 0;","global int lastInputRight = 0;","global int lastOutputLeft = 0;","global int lastOutputRight = 0;","","function highPassFilter(int input, int lastInput, int lastOutput)","returns int filtered {","    // High-pass: Y[n] = X[n] - X[n-1] + 0.95 * Y[n-1]","    int cutoffAmount = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","","    // Scale for stability (0-255  0.7-0.99)","    int feedback = 180 + (cutoffAmount \u0026gt;\u0026gt; 2);  // 180-243 = ~0.7-0.95 when /256","","    int difference = input - lastInput;","    filtered = difference + ((lastOutput * feedback) \u0026gt;\u0026gt; 8);","}","","function process() {","    lastOutputLeft = highPassFilter(signal[0], lastInputLeft, lastOutputLeft);","    lastOutputRight = highPassFilter(signal[1], lastInputRight, lastOutputRight);","","    lastInputLeft = signal[0];","    lastInputRight = signal[1];","","    signal[0] = lastOutputLeft;","    signal[1] = lastOutputRight;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eState Variable Filter\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int svf_low = 0;","global int svf_band = 0;","global int svf_high = 0;","","function stateVariableFilter(int input) {","    // Get parameters","    int frequency = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","    int resonance = (int)params[OPERAND_1_LOW_PARAM_INDEX];","","    // Scale frequency (avoid overflow)","    int f = frequency \u0026gt;\u0026gt; 2;  // 0-63 range","    int q = 256 - resonance; // Inverse Q for stability","","    // State variable equations","    svf_low = svf_low + ((svf_band * f) \u0026gt;\u0026gt; 8);","    svf_high = input - svf_low - ((svf_band * q) \u0026gt;\u0026gt; 8);","    svf_band = svf_band + ((svf_high * f) \u0026gt;\u0026gt; 8);","","    // Clip internal states","    if (svf_low \u0026gt; AUDIO_MAX) svf_low = AUDIO_MAX;","    else if (svf_low \u0026lt; AUDIO_MIN) svf_low = AUDIO_MIN;","    if (svf_band \u0026gt; AUDIO_MAX) svf_band = AUDIO_MAX;","    else if (svf_band \u0026lt; AUDIO_MIN) svf_band = AUDIO_MIN;","    if (svf_high \u0026gt; AUDIO_MAX) svf_high = AUDIO_MAX;","    else if (svf_high \u0026lt; AUDIO_MIN) svf_high = AUDIO_MIN;","}","","function process() {","    stateVariableFilter(signal[0]);","","    // Choose filter output type","    int filterType = (int)params[SWITCHES_PARAM_INDEX] \u0026amp; 3;  // 2 bits = 4 types","","    if (filterType == 0) signal[0] = svf_low;       // Low-pass","    else if (filterType == 1) signal[0] = svf_band; // Band-pass","    else if (filterType == 2) signal[0] = svf_high; // High-pass","    else signal[0] = svf_low + svf_high;             // Notch (low+high)","","    signal[1] = signal[0];  // Mono output","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eDistortion and Waveshaping\u003c/h3\u003e","","\u003ch4\u003eHard Clipping\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function hardClip(int input, int threshold)","returns int clipped {","    if (input \u0026gt; threshold) clipped = threshold;","    else if (input \u0026lt; -threshold) clipped = -threshold;","    else clipped = input;","}","","function process() {","    // Clip threshold from knob (100-2047)","    int clipLevel = 100 + ((int)params[OPERAND_1_HIGH_PARAM_INDEX] * 7);","","    signal[0] = hardClip(signal[0], clipLevel);","    signal[1] = hardClip(signal[1], clipLevel);","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eSoft Clipping (Tanh Approximation)\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function softClip(int input)","returns int clipped {","    // Approximate tanh using polynomial","    // tanh(x)  x - x鲁/3 for small x","","    if (input \u0026gt; 1500 || input \u0026lt; -1500) {","        // Hard limit for extreme values","        if (input \u0026gt; 0) {","            return 1500;","        } else {","            return -1500;","        }","    }","","    // Soft clipping calculation","    int x = input \u0026gt;\u0026gt; 2;           // Scale down to prevent overflow","    int x_cubed = ((x * x) \u0026gt;\u0026gt; 8) * x \u0026gt;\u0026gt; 8;  // x鲁 approximation","    int soft = x - (x_cubed / 3);","","    return soft \u0026lt;\u0026lt; 2;  // Scale back up","}","","function process() {","    signal[0] = softClip(signal[0]);","    signal[1] = softClip(signal[1]);","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eBit Crushing\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function bitCrush(int input, int bits)","returns int crushed {","    // Reduce bit depth by masking lower bits","    if (bits \u0026gt;= 12) return input;  // No crushing","    if (bits \u0026lt;= 1) bits = 1;       // Minimum 1 bit","","    // Create mask: keep top 'bits' bits, zero the rest","    int shiftAmount = 12 - bits;","    int mask = 0xFFF \u0026lt;\u0026lt; shiftAmount;  // Mask for top bits","","    // Apply bit reduction","    crushed = input \u0026amp; mask;","}","","function process() {","    // Bit depth from knob (1-12 bits)","    int knobValue = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","    int bitDepth = 1 + (knobValue * 11 / 255);","","    signal[0] = bitCrush(signal[0], bitDepth);","    signal[1] = bitCrush(signal[1], bitDepth);","","    // LED feedback shows bit depth","    displayLEDs[0] = bitDepth;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eSample Rate Reduction\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int sampleHold = 0;","global int holdCounter = 0;","","function sampleRateReduce(int input, int reductionFactor)","returns int reduced {","    holdCounter++;","","    if (holdCounter \u0026gt;= reductionFactor) {","        sampleHold = input;      // Update held sample","        holdCounter = 0;","    }","","    return sampleHold;          // Output held sample","}","","function process() {","    // Reduction factor from knob (1-32)","    int knobValue = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","    int reduction = 1 + (knobValue \u0026gt;\u0026gt; 3);  // 1-32 range","","    signal[0] = sampleRateReduce(signal[0], reduction);","    signal[1] = signal[0];  // Mono effect","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eModulation Effects\u003c/h3\u003e","","\u003ch4\u003eTremolo (Amplitude Modulation)\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int tremoloPhase = 0;","","function process() {","    // Tremolo rate from knob (0.1-10 Hz scaled)","    int rateKnob = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","    int phaseInc = 1 + (rateKnob \u0026gt;\u0026gt; 4);  // 1-17 phase increment","","    // Tremolo depth from knob (0-100%)","    int depthKnob = (int)params[OPERAND_1_LOW_PARAM_INDEX];","","    // Update phase","    tremoloPhase += phaseInc;","    if (tremoloPhase \u0026gt;= 1000) tremoloPhase -= 1000;","","    // Generate LFO using lookup table or approximation","    int lfoValue = (tremoloPhase * 2047) / 500 - 1023;  // Triangle wave approximation","","    // Calculate amplitude multiplier (fixed-point)","    int amplifier = 256 - ((depthKnob * lfoValue) \u0026gt;\u0026gt; 8);","","    // Apply to signal","    signal[0] = (signal[0] * amplifier) \u0026gt;\u0026gt; 8;","    signal[1] = (signal[1] * amplifier) \u0026gt;\u0026gt; 8;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eRing Modulation\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int carrierPhase = 0;","","function process() {","    // Carrier frequency from knob (scaled for integer math)","    int freqKnob = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","    int phaseInc = 1 + (freqKnob \u0026gt;\u0026gt; 2);  // 1-65 phase increment","","    // Ring modulation depth","    int depthKnob = (int)params[OPERAND_1_LOW_PARAM_INDEX];","","    // Update carrier phase","    carrierPhase += phaseInc;","    if (carrierPhase \u0026gt;= 1000) carrierPhase -= 1000;","","    // Generate carrier (triangle wave approximation)","    int carrier = (carrierPhase * 2047) / 500 - 1023;","","    // Apply ring modulation (fixed-point)","    int modAmount = (depthKnob * carrier) \u0026gt;\u0026gt; 8;","    signal[0] = (signal[0] * (256 + modAmount)) \u0026gt;\u0026gt; 8;","    signal[1] = (signal[1] * (256 + modAmount)) \u0026gt;\u0026gt; 8;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eChorus (Modulated Delay)\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int chorusPhase = 0;","global int delayBuffer[4000];  // ~80ms at 48kHz","global int writePos = 0;","","function process() {","    // Write input to delay buffer","    delayBuffer[writePos] = signal[0];","","    // Chorus parameters","    int rateKnob = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","    int phaseInc = 1 + (rateKnob \u0026gt;\u0026gt; 5);  // 1-9 phase increment","","    int depthKnob = (int)params[OPERAND_1_LOW_PARAM_INDEX];","    int chorusDepth = 5 + (depthKnob \u0026gt;\u0026gt; 3);  // 5-37 samples variation","","    // Update LFO phase (integer)","    chorusPhase += phaseInc;","    if (chorusPhase \u0026gt;= 1000) chorusPhase -= 1000;","","    // Calculate modulated delay time (triangle LFO)","    int lfo = (chorusPhase * chorusDepth) / 500 - (chorusDepth \u0026gt;\u0026gt; 1);","    int modulatedDelay = 1000 + lfo;  // Base 1000 samples","","    // Read from modulated position","    int readPos = writePos - modulatedDelay;","    if (readPos \u0026lt; 0) readPos += 4000;","","    int delayedSample = delayBuffer[readPos];","","    // Mix wet/dry","    signal[0] = (signal[0] + delayedSample) \u0026gt;\u0026gt; 1;","    signal[1] = signal[0];  // Mono effect","","    // Advance write position","    writePos = (writePos + 1) % 4000;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eDynamic Processing\u003c/h3\u003e","","\u003ch4\u003eSimple Compressor\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int compressorGain = 256;  // 1.0 in 8.8 fixed point","","function process() {","    // Threshold and ratio from knobs","    int thresholdKnob = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","    int threshold = 500 + (thresholdKnob * 6);  // 500-2030 range","","    int ratioKnob = (int)params[OPERAND_1_LOW_PARAM_INDEX];","    int ratio = 2 + (ratioKnob \u0026gt;\u0026gt; 6);  // 2:1 to 6:1 compression","","    // Calculate input level (simplified peak detection)","    int inputLevel = signal[0];","    if (inputLevel \u0026lt; 0) inputLevel = -inputLevel;  // Absolute value","","    // Compression calculation","    if (inputLevel \u0026gt; threshold) {","        // Signal is above threshold, apply compression","        int excess = inputLevel - threshold;","        int compressedExcess = excess / ratio;","        int targetLevel = threshold + compressedExcess;","","        // Calculate gain reduction needed","        int targetGain = (targetLevel \u0026lt;\u0026lt; 8) / inputLevel;  // 8.8 fixed point","","        // Smooth gain changes (simple envelope follower)","        if (targetGain \u0026lt; compressorGain) {","            compressorGain = compressorGain - ((compressorGain - targetGain) \u0026gt;\u0026gt; 3);  // Fast attack","        } else {","            compressorGain = compressorGain + ((targetGain - compressorGain) \u0026gt;\u0026gt; 6);  // Slow release","        }","    } else {","        // Below threshold, return to unity gain slowly","        compressorGain = compressorGain + ((256 - compressorGain) \u0026gt;\u0026gt; 6);","    }","","    // Apply gain","    signal[0] = (signal[0] * compressorGain) \u0026gt;\u0026gt; 8;","    signal[1] = (signal[1] * compressorGain) \u0026gt;\u0026gt; 8;","","    // LED shows gain reduction","    displayLEDs[0] = 255 - (compressorGain \u0026gt;\u0026gt; 0);","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eGate/Expander\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int gateGain = 0;","","function process() {","    // Gate threshold from knob","    int thresholdKnob = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","    int gateThreshold = thresholdKnob * 8;  // 0-2040 range","","    // Calculate signal level","    int signalLevel = signal[0];","    if (signalLevel \u0026lt; 0) signalLevel = -signalLevel;","","    // Gate logic","    if (signalLevel \u0026gt; gateThreshold) {","        // Above threshold - open gate quickly","        gateGain = gateGain + ((256 - gateGain) \u0026gt;\u0026gt; 2);  // Fast open","    } else {","        // Below threshold - close gate slowly","        gateGain = gateGain - (gateGain \u0026gt;\u0026gt; 4);  // Slow close","    }","","    // Apply gate","    signal[0] = (signal[0] * gateGain) \u0026gt;\u0026gt; 8;","    signal[1] = (signal[1] * gateGain) \u0026gt;\u0026gt; 8;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eAdvanced Techniques\u003c/h3\u003e","","\u003ch4\u003eSpectral Processing (Simple)\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Simple spectral-like processing using delay lines","global int spectralDelays[8] = {100, 150, 200, 300, 450, 600, 800, 1200};","global int spectralGains[8] = {256, 256, 256, 256, 256, 256, 256, 256};","","function processSpectralBand(int input, int delayTime, int gain)","returns int processed {","    array delayBuffer[2];","","    // Read delayed signal (represents frequency band)","    read(clock - delayTime, 1, delayBuffer);","","    // Apply gain to this \"band\"","    int bandSignal = (delayBuffer[0] * gain) \u0026gt;\u0026gt; 8;","","    // Write current input for future processing","    array inputArray[2] = {input, input};","    write(clock, 1, inputArray);","","    return bandSignal;","}","","function process() {","    int output = 0;","","    // Process multiple \"bands\" with different delay times","    int band;","    for (band = 0 to 8) {","        // Get gain for this band from parameters","        int bandGain = spectralGains[band];","","        // Process band and accumulate","        int bandOutput = processSpectralBand(signal[0], spectralDelays[band], bandGain);","        output += bandOutput \u0026gt;\u0026gt; 3;  // Mix bands (divide by 8)","    }","","    signal[0] = output;","    signal[1] = output;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eGranular Processing\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int grainPos = 0;","global int grainSize = 1000;","global int grainStep = 500;","global int windowPos = 0;","","function process() {","    // Granular parameters","    int sizeKnob = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","    grainSize = 200 + (sizeKnob * 8);  // 200-2240 samples","","    int stepKnob = (int)params[OPERAND_1_LOW_PARAM_INDEX];","    grainStep = 100 + (stepKnob * 4);  // 100-1120 samples","","    // Write input to delay line","    array input[2] = {signal[0], signal[1]};","    write(clock, 1, input);","","    // Read grain from delay line","    array grain[2];","    read(clock - 5000 - grainPos, 1, grain);","","    // Apply window function (triangular)","    int window = 255;","    if (windowPos \u0026lt; grainSize / 4) {","        window = (windowPos * 255) / (grainSize / 4);  // Attack","    } else if (windowPos \u0026gt; grainSize * 3 / 4) {","        window = ((grainSize - windowPos) * 255) / (grainSize / 4);  // Release","    }","","    // Apply windowing","    signal[0] = (grain[0] * window) \u0026gt;\u0026gt; 8;","    signal[1] = (grain[1] * window) \u0026gt;\u0026gt; 8;","","    // Advance grain position","    windowPos++;","    if (windowPos \u0026gt;= grainSize) {","        windowPos = 0;","        grainPos += grainStep;","        if (grainPos \u0026gt;= 10000) grainPos = 0;  // Wrap grain position","    }","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePerformance Optimization\u003c/h3\u003e","","\u003ch4\u003eFixed-Point Arithmetic\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Avoid floating point when possible","// Use shifts instead of division/multiplication by powers of 2","","// Bad: slow floating point","float result = input * 0.5;","","// Good: fast integer shift","int result = input \u0026gt;\u0026gt; 1;  // Divide by 2","","// For other fractions, use fixed-point","// Example: multiply by 0.75 = multiply by 3, then divide by 4","int result = (input * 3) \u0026gt;\u0026gt; 2;","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eLook-Up Tables\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Pre-computed sine table for fast oscillators","const int SINE_TABLE[256] = {","    0, 50, 100, 150, 199, 247, 295, 342, 389, 435,","    // ... full sine table","};","","function fastSine(int phase)","returns int sineValue {","    // Phase is 0-255 for one cycle","    return SINE_TABLE[phase \u0026amp; 255];","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMemory Access Optimization\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Batch processing when possible","function efficientDelayRead() {","    const int BATCH_SIZE = 16;","    array delayBatch[BATCH_SIZE * 2];","","    // Read many samples at once","    read(clock - 1000, BATCH_SIZE, delayBatch);","","    // Process batch","    int i;","    for (i = 0 to BATCH_SIZE) {","        // Process delayBatch[i*2] and delayBatch[i*2+1]","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eCommon Audio Pitfalls\u003c/h3\u003e","","\u003ch4\u003eAvoiding Clicks and Pops\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Always smooth parameter changes","global int lastGainValue = 0;","","function smoothParameterChange() {","    int newGain = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","","    // Smooth transition to new value","    lastGainValue = lastGainValue + ((newGain - lastGainValue) \u0026gt;\u0026gt; 3);","","    // Use smoothed value","    signal[0] = (signal[0] * lastGainValue) \u0026gt;\u0026gt; 8;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003ePreventing Overflow\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Always check for overflow in feedback systems","function safeProcessing(int input, int gain) returns int result {","    // Use careful intermediate calculations to prevent overflow","    // Scale inputs to prevent overflow during multiplication","    int scaledInput = input \u0026gt;\u0026gt; 2;  // Reduce by 4","    int scaledGain = gain \u0026gt;\u0026gt; 2;    // Reduce by 4","","    int temp = scaledInput * scaledGain;","    temp = temp \u0026lt;\u0026lt; 2;  // Scale back up","","    // Check bounds before returning","    if (temp \u0026gt; 2047) temp = 2047;","    else if (temp \u0026lt; -2047) temp = -2047;","","    result = temp;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eDC Offset Prevention\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// High-pass filter to remove DC","global int dcBlockerInput = 0;","global int dcBlockerOutput = 0;","","function dcBlocker(int input)","returns int blocked {","    // Y[n] = X[n] - X[n-1] + 0.995 * Y[n-1]","    blocked = input - dcBlockerInput + ((dcBlockerOutput * 254) \u0026gt;\u0026gt; 8);","    dcBlockerInput = input;","    dcBlockerOutput = blocked;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eBest Practices\u003c/h3\u003e","","\u003cp\u003e1. \u003cstrong\u003eAlways clip outputs\u003c/strong\u003e: Prevent overflow with proper limiting\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eSmooth parameter changes\u003c/strong\u003e: Avoid clicks from sudden control jumps\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eUse appropriate data types\u003c/strong\u003e: int for samples, float for calculations when needed\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003ePlan memory usage\u003c/strong\u003e: Consider delay buffer sizes and access patterns\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eTest edge cases\u003c/strong\u003e: Extreme parameter values, silence, full-scale signals\u003c/p\u003e","\u003cp\u003e6. \u003cstrong\u003eProfile performance\u003c/strong\u003e: Monitor CPU usage with complex algorithms\u003c/p\u003e","\u003cp\u003e7. \u003cstrong\u003eMaintain DC stability\u003c/strong\u003e: Use high-pass filtering when needed\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","\u003cp\u003e\u003cem\u003eSee also: [Memory Management](memory_management.md), [Timing Reference](timing_reference.md)\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-62\" class=\"doc-section\"\u003e","\u003ch1\u003e62. Parameters_Reference\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/reference/parameters_reference.md\u003c/div\u003e","","\u003ch2\u003eParameters Reference\u003c/h2\u003e","","\u003ch3\u003eWhat This Is\u003c/h3\u003e","\u003cp\u003eThe \u003ccode\u003eparams[]\u003c/code\u003e array gives your firmware access to all knob positions, switch states, and system settings. Updated automatically by Permut8 when users turn knobs or flip switches.\u003c/p\u003e","","\u003ch3\u003eCore Concepts\u003c/h3\u003e","","\u003ch4\u003eArray Structure\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array params[8]  // 8-bit values (0-255)","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eAll parameters are integers from 0 to 255\u003c/strong\u003e, representing the full range of each physical control.\u003c/p\u003e","","\u003ch4\u003eParameter Indices\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","params[0] = CLOCK_FREQ_PARAM_INDEX      // Sample rate in Hz","params[1] = SWITCHES_PARAM_INDEX        // Bit mask of switch states","params[2] = OPERATOR_1_PARAM_INDEX      // Operator 1 selection (0-4)","params[3] = OPERAND_1_HIGH_PARAM_INDEX  // Knob 1 (top-left)","params[4] = OPERAND_1_LOW_PARAM_INDEX   // Knob 2 (bottom-left)","params[5] = OPERATOR_2_PARAM_INDEX      // Operator 2 selection (0-4)","params[6] = OPERAND_2_HIGH_PARAM_INDEX  // Knob 3 (top-right)","params[7] = OPERAND_2_LOW_PARAM_INDEX   // Knob 4 (bottom-right)","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eReading Parameters\u003c/h3\u003e","","\u003ch4\u003eBasic Access\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function update() {","    int knob1 = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","    int switches = (int)params[SWITCHES_PARAM_INDEX];","","    // Always cast to int for calculations","    if (knob1 \u0026gt; 127) {","        // Do something when knob is past halfway","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eSwitch State Testing\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Test individual switches using bit masks","if ((int)params[SWITCHES_PARAM_INDEX] \u0026amp; SWITCHES_SYNC_MASK) {","    // Sync switch is ON","}","","if ((int)params[SWITCHES_PARAM_INDEX] \u0026amp; SWITCHES_REVERSE_MASK) {","    // Reverse switch is ON","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eAvailable switch masks:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eSWITCHES_SYNC_MASK\u003c/code\u003e - Tempo sync enable\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eSWITCHES_TRIPLET_MASK\u003c/code\u003e - Triplet timing\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eSWITCHES_DOTTED_MASK\u003c/code\u003e - Dotted timing\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eSWITCHES_WRITE_PROTECT_MASK\u003c/code\u003e - Memory write protection\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eSWITCHES_REVERSE_MASK\u003c/code\u003e - Reverse playback\u003c/li\u003e","","\u003ch4\u003eOperator Selection\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","if ((int)params[OPERATOR_1_PARAM_INDEX] == OPERATOR_1_MUL) {","    // Operator 1 is set to multiply","}","","if ((int)params[OPERATOR_2_PARAM_INDEX] == OPERATOR_2_SUB) {","    // Operator 2 is set to subtract","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eOperator 1 constants:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eOPERATOR_1_NOP\u003c/code\u003e, \u003ccode\u003eOPERATOR_1_AND\u003c/code\u003e, \u003ccode\u003eOPERATOR_1_MUL\u003c/code\u003e, \u003ccode\u003eOPERATOR_1_OSC\u003c/code\u003e, \u003ccode\u003eOPERATOR_1_RND\u003c/code\u003e\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eOperator 2 constants:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eOPERATOR_2_NOP\u003c/code\u003e, \u003ccode\u003eOPERATOR_2_OR\u003c/code\u003e, \u003ccode\u003eOPERATOR_2_XOR\u003c/code\u003e, \u003ccode\u003eOPERATOR_2_MSK\u003c/code\u003e, \u003ccode\u003eOPERATOR_2_SUB\u003c/code\u003e\u003c/li\u003e","","\u003ch3\u003eCommon Conversions\u003c/h3\u003e","","\u003ch4\u003eKnob to Percentage\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","int percent = (int)params[OPERAND_1_HIGH_PARAM_INDEX] * 100 / 255;","// Result: 0% to 100%","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eKnob to Float Range\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","float mix = itof((int)params[OPERAND_1_HIGH_PARAM_INDEX]) / 255.0;","// Result: 0.0 to 1.0","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eKnob to Bit Depth\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","int bits = ((int)params[OPERAND_1_HIGH_PARAM_INDEX] \u0026gt;\u0026gt; 5) + 1;","// Result: 1 to 8 bits","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eCombine Two Knobs (16-bit Value)\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","int combined = ((int)params[OPERAND_1_HIGH_PARAM_INDEX] \u0026lt;\u0026lt; 8) |","               (int)params[OPERAND_1_LOW_PARAM_INDEX];","// Result: 0 to 65535","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eKnob to Exponential Scale\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Use lookup table for exponential response","readonly array EIGHT_BIT_EXP_TABLE[256] = { /* values */ };","","int expValue = (int)EIGHT_BIT_EXP_TABLE[(int)params[OPERAND_1_HIGH_PARAM_INDEX]];","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eUpdate Control\u003c/h3\u003e","","\u003ch4\u003eBasic Update Function\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function update() {","    // Called whenever params[] changes","    // Update your global variables here","","    global myDelay = (int)params[OPERAND_1_HIGH_PARAM_INDEX] * 1000;","    global myGain = itof((int)params[OPERAND_1_LOW_PARAM_INDEX]) / 255.0;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eFiltering Updates\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Only trigger update() for specific parameters","readonly int updateMask =","    (1 \u0026lt;\u0026lt; OPERAND_1_HIGH_PARAM_INDEX) |","    (1 \u0026lt;\u0026lt; OPERAND_1_LOW_PARAM_INDEX) |","    (1 \u0026lt;\u0026lt; SWITCHES_PARAM_INDEX);","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003eThis prevents \u003ccode\u003eupdate()\u003c/code\u003e from being called when clock frequency or operators change, reducing CPU usage.\u003c/p\u003e","","\u003ch3\u003eLED Feedback\u003c/h3\u003e","","\u003ch4\u003eDisplay Parameter Values\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function update() {","    int knobValue = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","","    // Convert to LED pattern (0-7 LEDs)","    int ledCount = knobValue \u0026gt;\u0026gt; 5;  // Divide by 32","    displayLEDs[0] = (1 \u0026lt;\u0026lt; ledCount) - 1;  // Light up 'ledCount' LEDs","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eBinary LED Display\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function update() {","    int value = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","","    // Show binary representation","    displayLEDs[0] = value;  // Direct 8-bit pattern","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePerformance Tips\u003c/h3\u003e","","\u003ch4\u003eCopy to Locals for Speed\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    // Globals are slow - copy to locals for repeated use","    array localParams[PARAM_COUNT];","    copy(PARAM_COUNT from params to localParams);","","    int knob1 = localParams[OPERAND_1_HIGH_PARAM_INDEX];","    int knob2 = localParams[OPERAND_1_LOW_PARAM_INDEX];","","    // Use local copies in calculations","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eCache Calculated Values\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Calculate expensive conversions in update(), not process()","global float gain;","global int delayTime;","","function update() {","    // Do heavy math once when parameters change","    gain = itof((int)params[OPERAND_1_HIGH_PARAM_INDEX]) / 255.0;","    delayTime = (int)params[OPERAND_1_LOW_PARAM_INDEX] * 100;","}","","function process() {","    // Use pre-calculated values","    signal[0] = ftoi(itof(signal[0]) * gain);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eComplete Example\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Global variables updated by parameters","global int mixAmount;","global float feedback;","global int isReversed;","","function update() {","    // Convert knob 1 to mix amount (0-255)","    mixAmount = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","","    // Convert knob 2 to feedback (0.0-0.95)","    feedback = itof((int)params[OPERAND_1_LOW_PARAM_INDEX]) * 0.95 / 255.0;","","    // Check reverse switch","    isReversed = ((int)params[SWITCHES_PARAM_INDEX] \u0026amp; SWITCHES_REVERSE_MASK) != 0;","","    // LED feedback - show mix amount","    displayLEDs[0] = mixAmount;","    displayLEDs[1] = (int)(feedback * 255.0);","","    if (isReversed) {","        displayLEDs[2] = 0xFF;  // All LEDs on when reversed","    } else {","        displayLEDs[2] = 0x00;  // All LEDs off","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eKey Points\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eAlways cast to int\u003c/strong\u003e: \u003ccode\u003e(int)params[index]\u003c/code\u003e for calculations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eUpdate once\u003c/strong\u003e: Do expensive parameter processing in \u003ccode\u003eupdate()\u003c/code\u003e, not \u003ccode\u003eprocess()\u003c/code\u003e\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eUse updateMask\u003c/strong\u003e: Filter unnecessary update calls for better performance\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProvide LED feedback\u003c/strong\u003e: Always show parameter state to users\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCache globals\u003c/strong\u003e: Copy to locals in performance-critical code\u003c/li\u003e","\u003c/section\u003e","","\u003csection id=\"section-63\" class=\"doc-section\"\u003e","\u003ch1\u003e63. Memory_Management\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/reference/memory_management.md\u003c/div\u003e","","\u003ch2\u003eMemory Management Reference\u003c/h2\u003e","","\u003ch3\u003eWhat This Is\u003c/h3\u003e","\u003cp\u003eHow to read from and write to Permut8's delay memory system. Essential for creating delays, reverbs, loopers, and any effect that needs to store and recall audio.\u003c/p\u003e","","\u003ch3\u003eCore Concepts\u003c/h3\u003e","","\u003ch4\u003eDelay Memory System\u003c/h4\u003e","\u003cp\u003ePermut8 provides a large circular buffer for storing audio samples. Your firmware can read from and write to any position in this memory.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eKey properties:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eCircular buffer\u003c/strong\u003e: Automatically wraps when you exceed memory size\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eStereo interleaved\u003c/strong\u003e: Left and right samples stored together\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e12-bit samples\u003c/strong\u003e: Range -2047 to 2047\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePosition-based\u003c/strong\u003e: Access by memory offset, not time\u003c/li\u003e","","\u003ch4\u003eMemory Operations\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","read(int offset, int frameCount, pointer buffer)","write(int offset, int frameCount, pointer buffer)","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eFrame\u003c/strong\u003e: One stereo pair (left + right sample)\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eOffset\u003c/strong\u003e: Position in delay memory (samples, not frames)\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eBuffer\u003c/strong\u003e: Array to hold interleaved stereo data\u003c/p\u003e","","\u003ch3\u003eBasic Read Operations\u003c/h3\u003e","","\u003ch4\u003eReading Single Frames\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    array delayedSamples[2];  // Buffer for one stereo frame","","    // Read from 1000 samples ago","    read(clock - 1000, 1, delayedSamples);","","    int delayedLeft = delayedSamples[0];","    int delayedRight = delayedSamples[1];","","    // Mix with current input","    signal[0] = (signal[0] + delayedLeft) \u0026gt;\u0026gt; 1;","    signal[1] = (signal[1] + delayedRight) \u0026gt;\u0026gt; 1;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eReading Multiple Frames\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    array buffer[8];  // 4 stereo frames = 8 samples","","    // Read 4 consecutive frames","    read(clock - 2000, 4, buffer);","","    // Process each frame","    int sum = 0;","    int i;","    for (i = 0 to 4) {","        sum = sum + buffer[i * 2];     // Sum left channels","        sum = sum + buffer[i * 2 + 1]; // Sum right channels","    }","","    // Mix averaged delay with input","    signal[0] = (signal[0] + (sum \u0026gt;\u0026gt; 3)) \u0026gt;\u0026gt; 1;  // Divide by 8","    signal[1] = signal[0];  // Mono output","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eReading with Variable Delay\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int delayTime = 1000;","","function update() {","    // Convert knob to delay time (100-10000 samples)","    int knobValue = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","    delayTime = 100 + (knobValue * 38);  // Scale to range","","    // LED feedback shows delay time","    displayLEDs[0] = knobValue;","}","","function process() {","    array delayed[2];","","    read(clock - delayTime, 1, delayed);","","    // Simple delay effect","    signal[0] = (signal[0] + delayed[0]) \u0026gt;\u0026gt; 1;","    signal[1] = (signal[1] + delayed[1]) \u0026gt;\u0026gt; 1;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eBasic Write Operations\u003c/h3\u003e","","\u003ch4\u003eWriting Current Input\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    // Always write current input to memory","    array currentFrame[2] = {signal[0], signal[1]};","    write(clock, 1, currentFrame);","","    // Read delayed version","    array delayed[2];","    read(clock - 5000, 1, delayed);","","    // Output is delayed signal","    signal[0] = delayed[0];","    signal[1] = delayed[1];","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eSelective Writing (Write Protection)\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    array input[2] = {signal[0], signal[1]};","","    // Only write if write-protect switch is off","    if (((int)params[SWITCHES_PARAM_INDEX] \u0026amp; SWITCHES_WRITE_PROTECT_MASK) == 0) {","        write(clock, 1, input);","    }","","    // Always read delayed signal","    array delayed[2];","    read(clock - 2000, 1, delayed);","    signal[0] = delayed[0];","    signal[1] = delayed[1];","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eWriting Processed Audio\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    // Read previous sample","    array previous[2];","    read(clock - 1, 1, previous);","","    // Create feedback by mixing input with previous","    int processedLeft = signal[0] + (previous[0] \u0026gt;\u0026gt; 2);   // 25% feedback","    int processedRight = signal[1] + (previous[1] \u0026gt;\u0026gt; 2);","","    // Clip to prevent overflow","    if (processedLeft \u0026gt; 2047) processedLeft = 2047;","    if (processedLeft \u0026lt; -2047) processedLeft = -2047;","    if (processedRight \u0026gt; 2047) processedRight = 2047;","    if (processedRight \u0026lt; -2047) processedRight = -2047;","","    // Write processed audio back to memory","    array toWrite[2] = {processedLeft, processedRight};","    write(clock, 1, toWrite);","","    // Output the processed signal","    signal[0] = processedLeft;","    signal[1] = processedRight;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePosition Array (Mod Patches)\u003c/h3\u003e","","\u003ch4\u003eUnderstanding Positions\u003c/h4\u003e","\u003cp\u003eFor mod patches, the \u003ccode\u003epositions[]\u003c/code\u003e array contains memory read positions instead of audio samples.\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array positions[2]  // [left_position, right_position]","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003ePosition format:\u003c/strong\u003e 20-bit fixed point (16.4)\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eInteger part\u003c/strong\u003e: Memory offset (16 bits)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFractional part\u003c/strong\u003e: For interpolation (4 bits)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eRange\u003c/strong\u003e: 0x00000 to 0xFFFFF\u003c/li\u003e","","\u003ch4\u003eBasic Position Processing\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function operate1()","returns int processed {","    // Add delay to both channels","    int delayAmount = 1000 \u0026lt;\u0026lt; 4;  // 1000 samples, shift for fixed point","","    positions[0] = positions[0] + delayAmount;","    positions[1] = positions[1] + delayAmount;","","    processed = 1;  // Tell Permut8 we handled the positions","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eParameter-Controlled Position Offset\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int positionOffset = 0;","","function update() {","    // Convert knob to position offset","    int knobValue = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","    positionOffset = (knobValue * 100) \u0026lt;\u0026lt; 4;  // Scale and convert to fixed point","","    // LED shows offset amount","    displayLEDs[0] = knobValue;","}","","function operate1()","returns int processed {","    // Apply offset to positions","    positions[0] = positions[0] + positionOffset;","    positions[1] = positions[1] + positionOffset;","","    processed = 1;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eStereo Position Effects\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function operate1()","returns int processed {","    // Different delays for left and right","    int leftDelay = ((int)params[OPERAND_1_HIGH_PARAM_INDEX] * 50) \u0026lt;\u0026lt; 4;","    int rightDelay = ((int)params[OPERAND_1_LOW_PARAM_INDEX] * 50) \u0026lt;\u0026lt; 4;","","    positions[0] = positions[0] + leftDelay;","    positions[1] = positions[1] + rightDelay;","","    // LED feedback","    displayLEDs[0] = leftDelay \u0026gt;\u0026gt; 8;   // Show left delay","    displayLEDs[1] = rightDelay \u0026gt;\u0026gt; 8;  // Show right delay","","    processed = 1;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003ePosition Interpolation\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function operate1()","returns int processed {","    // Smooth position changes using fractional part","    int targetOffset = ((int)params[OPERAND_1_HIGH_PARAM_INDEX] * 100) \u0026lt;\u0026lt; 4;","","    // Current positions with fractional interpolation","    int currentLeft = positions[0] \u0026amp; 0xF;   // Get fractional part","    int currentRight = positions[1] \u0026amp; 0xF;","","    // Smooth interpolation toward target","    positions[0] = (positions[0] \u0026amp; 0xFFFF0) | ((currentLeft + 1) \u0026amp; 0xF);","    positions[1] = (positions[1] \u0026amp; 0xFFFF0) | ((currentRight + 1) \u0026amp; 0xF);","","    // Add main offset","    positions[0] = positions[0] + targetOffset;","    positions[1] = positions[1] + targetOffset;","","    processed = 1;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eAdvanced Patterns\u003c/h3\u003e","","\u003ch4\u003eMulti-Tap Delay\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    array input[2] = {signal[0], signal[1]};","    array tap1[2], tap2[2], tap3[2];","","    // Write input to memory","    write(clock, 1, input);","","    // Read from multiple delay taps","    read(clock - 1000, 1, tap1);    // 1000 samples","    read(clock - 2500, 1, tap2);    // 2500 samples","    read(clock - 4000, 1, tap3);    // 4000 samples","","    // Mix all taps","    int leftMix = (tap1[0] + tap2[0] + tap3[0]) / 3;","    int rightMix = (tap1[1] + tap2[1] + tap3[1]) / 3;","","    // Combine with input","    signal[0] = (signal[0] + leftMix) \u0026gt;\u0026gt; 1;","    signal[1] = (signal[1] + rightMix) \u0026gt;\u0026gt; 1;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eFeedback Loop with Processing\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global float feedbackGain = 0.5;","","function update() {","    // Convert knob to feedback amount (0.0 - 0.9)","    int knobValue = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","    feedbackGain = itof(knobValue) * 0.9 / 255.0;","}","","function process() {","    array input[2] = {signal[0], signal[1]};","    array feedback[2];","","    // Read feedback from delay line","    read(clock - 2000, 1, feedback);","","    // Apply feedback gain and mix with input","    int fbLeft = ftoi(itof(feedback[0]) * feedbackGain);","    int fbRight = ftoi(itof(feedback[1]) * feedbackGain);","","    int processedLeft = input[0] + fbLeft;","    int processedRight = input[1] + fbRight;","","    // Soft clipping to prevent runaway feedback","    if (processedLeft \u0026gt; 2047) processedLeft = 2047;","    else if (processedLeft \u0026lt; -2047) processedLeft = -2047;","    if (processedRight \u0026gt; 2047) processedRight = 2047;","    else if (processedRight \u0026lt; -2047) processedRight = -2047;","","    // Write processed signal back","    array toWrite[2] = {processedLeft, processedRight};","    write(clock, 1, toWrite);","","    // Output processed signal","    signal[0] = processedLeft;","    signal[1] = processedRight;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eReverse Buffer\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int bufferSize = 10000;","global int writePos = 0;","","function process() {","    array input[2] = {signal[0], signal[1]};","    array output[2];","","    // Write to current position","    write(writePos, 1, input);","","    // Read from reverse position","    int readPos = writePos - bufferSize;","    if (readPos \u0026lt; 0) readPos = readPos + bufferSize;","","    read(readPos, 1, output);","","    // Move write position","    writePos = writePos + 1;","    if (writePos \u0026gt;= bufferSize) writePos = 0;","","    signal[0] = output[0];","    signal[1] = output[1];","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eGranular Buffer\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int grainSize = 1000;","global int grainPos = 0;","global int grainDir = 1;","","function update() {","    // Grain size from knob (100-5000 samples)","    int knobValue = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","    grainSize = 100 + (knobValue * 19);  // Scale to range","}","","function process() {","    array input[2] = {signal[0], signal[1]};","    array grain[2];","","    // Always write input","    write(clock, 1, input);","","    // Read from grain position","    read(clock - 5000 - grainPos, 1, grain);","","    // Move grain position","    grainPos = grainPos + grainDir;","","    // Reverse direction at grain boundaries","    if (grainPos \u0026gt;= grainSize || grainPos \u0026lt;= 0) {","        grainDir = -grainDir;","    }","","    // Apply simple envelope to avoid clicks","    int envelope = 255;","    if (grainPos \u0026lt; 100) envelope = grainPos * 255 / 100;","    if (grainPos \u0026gt; grainSize - 100) envelope = (grainSize - grainPos) * 255 / 100;","","    signal[0] = (grain[0] * envelope) \u0026gt;\u0026gt; 8;","    signal[1] = (grain[1] * envelope) \u0026gt;\u0026gt; 8;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePerformance Considerations\u003c/h3\u003e","","\u003ch4\u003eBatch Operations\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// More efficient: read/write multiple frames at once","const int BATCH_SIZE = 32;","","function process() {","    array inputBatch[BATCH_SIZE * 2];   // 32 stereo frames","    array outputBatch[BATCH_SIZE * 2];","","    // Fill input batch","    int i;","    for (i = 0 to BATCH_SIZE) {","        inputBatch[i * 2] = signal[0];     // Would need to collect over time","        inputBatch[i * 2 + 1] = signal[1]; // This is simplified example","    }","","    // Single write operation","    write(clock, BATCH_SIZE, inputBatch);","","    // Single read operation","    read(clock - 1000, BATCH_SIZE, outputBatch);","","    // Process batch...","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMemory Access Patterns\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Efficient: sequential access","read(baseOffset, 10, buffer);        // Good: reads 10 consecutive frames","","// Less efficient: scattered access","for (i = 0 to 10) {","    read(baseOffset + i * 100, 1, temp); // Bad: 10 separate read calls","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eBuffer Size Planning\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Calculate buffer needs","const int SAMPLE_RATE = 48000;","const int MAX_DELAY_MS = 1000;        // 1 second max delay","const int MAX_DELAY_SAMPLES = SAMPLE_RATE * MAX_DELAY_MS / 1000;","","// Always account for stereo","array workingBuffer[MAX_DELAY_SAMPLES * 2];","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eKey Points\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eAlways write\u003c/strong\u003e: Most effects should write input to memory each sample\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCircular buffer\u003c/strong\u003e: Memory access automatically wraps - no bounds checking needed\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eStereo interleaved\u003c/strong\u003e: Buffer format is [L, R, L, R...] for frames\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFixed point positions\u003c/strong\u003e: Mod patches use 16.4 fixed point for interpolation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eClipping essential\u003c/strong\u003e: Prevent overflow in feedback loops with proper limiting\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eBatch when possible\u003c/strong\u003e: Multiple frame operations are more efficient than single-frame loops\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePlan memory usage\u003c/strong\u003e: Consider maximum delay times and buffer sizes in design\u003c/li\u003e","\u003c/section\u003e","","\u003csection id=\"section-64\" class=\"doc-section\"\u003e","\u003ch1\u003e64. Utilities_Reference\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/reference/utilities_reference.md\u003c/div\u003e","","\u003ch2\u003eUtilities Reference\u003c/h2\u003e","","\u003ch3\u003eWhat This Is\u003c/h3\u003e","\u003cp\u003eEssential utility functions for Permut8 firmware development. Includes native system functions, math operations, string handling, and debugging tools.\u003c/p\u003e","","\u003ch3\u003eNative Functions\u003c/h3\u003e","","\u003ch4\u003eMemory Operations\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","read(int offset, int frameCount, pointer values)","write(int offset, int frameCount, pointer values)","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eRead from delay memory:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","array buffer[2];  // For stereo pair","read(1000, 1, buffer);  // Read 1 frame at offset 1000","int leftSample = buffer[0];","int rightSample = buffer[1];","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eWrite to delay memory:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","array samples[2] = {signal[0], signal[1]};","write(clock, 1, samples);  // Write current samples at clock position","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eFrame format:\u003c/strong\u003e Interleaved stereo (left, right, left, right...)\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eRange:\u003c/strong\u003e -2047 to 2047 (12-bit signed)\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eAuto-wrapping:\u003c/strong\u003e Offsets automatically wrap to delay line size\u003c/p\u003e","","\u003ch4\u003eControl Flow\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","yield()  // Return control to audio engine","abort()  // Kill firmware, restore normal operation","\u003c/code\u003e\u003c/pre\u003e","","\u003ch5\u003eyield() - Real-time Cooperative Processing\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003ePurpose\u003c/strong\u003e: Returns control to the Permut8 audio engine while preserving function state.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eReal-time Behavior\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eTiming\u003c/strong\u003e: Must be called every sample period (20.8渭s at 48kHz)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eState preservation\u003c/strong\u003e: Local variables and function position maintained\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAudio I/O\u003c/strong\u003e: \u003ccode\u003esignal[]\u003c/code\u003e array updated by hardware before next cycle\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eParameter updates\u003c/strong\u003e: \u003ccode\u003eparams[]\u003c/code\u003e array refreshed with current knob/switch values\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCritical Usage Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    loop {","        // Process exactly one audio sample per yield","        signal[0] = processLeft(signal[0]);","        signal[1] = processRight(signal[1]);","","        yield();  // REQUIRED: Return control every sample","    }","}","","// WRONG: This will cause audio dropouts","function process() {","    int i;","    for (i = 0 to 1000) {","        // Processing 1000 samples without yield = 20ms gap!","        signal[0] = signal[0] \u0026gt;\u0026gt; 1;","        // yield(); // MISSING - audio engine will timeout","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003ePerformance Notes\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eMore efficient than function returns (preserves call stack)\u003c/li\u003e","\u003cli\u003eEnables infinite loops without stack overflow\u003c/li\u003e","\u003cli\u003eEssential for real-time audio processing constraints\u003c/li\u003e","","\u003ch5\u003eabort() - Emergency Firmware Termination\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003ePurpose\u003c/strong\u003e: Immediately terminates firmware and restores default Permut8 operation.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eWhen to Use\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eFatal errors\u003c/strong\u003e: Division by zero, array bounds violations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eEmergency stop\u003c/strong\u003e: User safety in runaway feedback scenarios\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDevelopment debugging\u003c/strong\u003e: Quick exit when testing dangerous code\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eUsage Scenarios\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    // Safety check for runaway feedback","    if (signal[0] \u0026gt; 4000 || signal[0] \u0026lt; -4000) {","        trace(\"EMERGENCY: Audio overflow detected!\");","        abort();  // Immediately stop firmware","    }","","    // Emergency user override (both switches pressed)","    int switches = (int)params[SWITCHES_PARAM_INDEX];","    if ((switches \u0026amp; 0x03) == 0x03) {","        trace(\"User emergency stop activated\");","        abort();  // User requested immediate stop","    }","","    yield();","}","","function safeDivide(float a, float b)","returns float result {","    if ((b \u0026lt; SMALL_FLOAT \u0026amp;\u0026amp; b \u0026gt; -SMALL_FLOAT)) {","        trace(\"ERROR: Division by zero prevented\");","        abort();  // Terminate rather than crash","    }","    result = a / b;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003ePost-abort Behavior\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eFirmware immediately stops executing\u003c/li\u003e","\u003cli\u003ePermut8 returns to default parameter processing\u003c/li\u003e","\u003cli\u003eAll audio routing restored to normal operation\u003c/li\u003e","\u003cli\u003ePlugin must be reloaded to restart custom firmware\u003c/li\u003e","","\u003ch4\u003eDebugging\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","trace(pointer string)  // Output debug message","\u003c/code\u003e\u003c/pre\u003e","","\u003ch5\u003etrace() - Debug Output and Development Logging\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003ePurpose\u003c/strong\u003e: Outputs debug messages to Permut8 console for development and troubleshooting.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eConsole Access\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eOpen Permut8 plugin in DAW\u003c/li\u003e","\u003cli\u003eClick console button (bottom right of plugin)\u003c/li\u003e","\u003cli\u003eTrace messages appear in real-time console window\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eDevelopment Workflows\u003c/strong\u003e:\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003e1. Parameter Monitoring\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function update() {","    array buffer[64];","    array message[128];","","    // Monitor knob changes","    strcpy(message, \"Knob1=\");","    strcat(message, intToString((int)params[OPERAND_1_HIGH_PARAM_INDEX], 10, 1, buffer));","    strcat(message, \" Knob2=\");","    strcat(message, intToString((int)params[OPERAND_1_LOW_PARAM_INDEX], 10, 1, buffer));","    trace(message);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003e2. Audio Processing Debug\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int debugCounter = 0;","","function process() {","    debugCounter = debugCounter + 1;","","    // Trace every 4800 samples (10x per second at 48kHz)","    if ((debugCounter % 4800) == 0) {","        array msg[128];","        array temp[32];","","        strcpy(msg, \"L=\");","        strcat(msg, intToString(signal[0], 10, 1, temp));","        strcat(msg, \" R=\");","        strcat(msg, intToString(signal[1], 10, 1, temp));","        trace(msg);","    }","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003e3. State Machine Debugging\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int currentState = 0;","global int lastState = -1;","","function process() {","    // Only trace on state changes","    if (currentState != lastState) {","        array stateMsg[64];","        array numBuf[16];","","        strcpy(stateMsg, \"State change: \");","        strcat(stateMsg, intToString(lastState, 10, 1, numBuf));","        strcat(stateMsg, \" -\u0026gt; \");","        strcat(stateMsg, intToString(currentState, 10, 1, numBuf));","        trace(stateMsg);","","        lastState = currentState;","    }","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003e4. Error Condition Tracing\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function checkAudioLevels() {","    if (signal[0] \u0026gt; 2047 || signal[0] \u0026lt; -2047) {","        trace(\"WARNING: Left channel clipping detected\");","    }","    if (signal[1] \u0026gt; 2047 || signal[1] \u0026lt; -2047) {","        trace(\"WARNING: Right channel clipping detected\");","    }","}","","function validateParameters() {","    int switches = (int)params[SWITCHES_PARAM_INDEX];","    if (switches \u0026gt; 255) {","        trace(\"ERROR: Invalid switch parameter value\");","        abort();","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003e5. Performance Profiling\u003c/strong\u003e:\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int processingTime = 0;","global int maxProcessingTime = 0;","","function process() {","    int startTime = clock;","","    // Your processing code here","    doAudioProcessing();","","    processingTime = clock - startTime;","    if (processingTime \u0026gt; maxProcessingTime) {","        maxProcessingTime = processingTime;","        array perfMsg[64];","        array timeBuf[16];","","        strcpy(perfMsg, \"New max processing time: \");","        strcat(perfMsg, intToString(maxProcessingTime, 10, 1, timeBuf));","        trace(perfMsg);","    }","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003ePerformance Considerations\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eString operations in trace() can be expensive\u003c/li\u003e","\u003cli\u003eUse trace() sparingly in \u003ccode\u003eprocess()\u003c/code\u003e function\u003c/li\u003e","\u003cli\u003eBatch multiple values into single trace() call\u003c/li\u003e","\u003cli\u003eConsider using counters to limit trace frequency\u003c/li\u003e","\u003cli\u003eRemove trace() calls in production firmware for best performance\u003c/li\u003e","","\u003ch3\u003eMath Utilities\u003c/h3\u003e","","\u003ch4\u003e锔 Math Function Compatibility\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eAdvanced math functions may not be available in all Impala implementations:\u003c/strong\u003e\u003c/p\u003e","\u003cli\u003e\u003ccode\u003esin()\u003c/code\u003e, \u003ccode\u003ecos()\u003c/code\u003e, \u003ccode\u003etan()\u003c/code\u003e - Check availability, use lookup tables if needed\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eexp()\u003c/code\u003e, \u003ccode\u003elog()\u003c/code\u003e, \u003ccode\u003esqrt()\u003c/code\u003e, \u003ccode\u003epow()\u003c/code\u003e - May require fixed-point alternatives\u003c/li\u003e","\u003cli\u003eFor guaranteed compatibility, use integer math and lookup tables\u003c/li\u003e","","\u003ch4\u003eTrigonometric Functions\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// These functions may not be available in basic Impala:","float cos(float x)    // Cosine - use lookup table alternative","float sin(float x)    // Sine - use lookup table alternative","float tan(float x)    // Tangent - use lookup table alternative","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eGenerate oscillator (compatible version):\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int TWO_PI_SCALED = 6283;  // 2 * 1000 for fixed-point math","global int phase = 0;            // Integer phase 0-999","","function process() {","    // Create triangle wave (guaranteed to work)","    int sineOut;","    if (phase \u0026lt; 500) {","        sineOut = (phase * 4094) / 500 - 2047;  // Rising edge","    } else {","        sineOut = 2047 - ((phase - 500) * 4094) / 500;  // Falling edge","    }","","    signal[0] = sineOut;","    signal[1] = sineOut;","","    // Advance phase (440Hz at 48kHz approximation)","    phase += 9;  // Approximation for 440Hz","    if (phase \u0026gt;= 1000) phase = 0;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eExponential and Logarithmic\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// These functions may not be available in basic Impala:","float exp(float x)     // e^x - use fixed-point approximation","float log(float x)     // Natural log - use lookup table","float log2(float x)    // Base-2 log - use lookup table","float log10(float x)   // Base-10 log - use lookup table","float pow(float x, float y) // x^y - use repeated multiplication","float sqrt(float x)    // Square root - use approximation","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eExponential envelope (compatible version):\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int envelope = 1000;  // Fixed-point: 1000 = 1.0","","function process() {","    // Fixed-point exponential decay approximation","    envelope = (envelope * 999) \u0026gt;\u0026gt; 10;  // Decay rate approximation","","    int enveloped = (signal[0] * envelope) \u0026gt;\u0026gt; 10;","    signal[0] = enveloped;","    signal[1] = enveloped;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eNumber Manipulation\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// These functions may not be available in basic Impala:","float floor(float x)   // Round down - use integer division","float ceil(float x)    // Round up - use integer math","float round(float x)   // Round to nearest - use (x + 0.5) cast","float trunc(float x)   // Remove fractional part - use ftoi()","float fmod(float x, float y) // Floating point modulo - use % operator","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eQuantize to steps:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","float quantize(float input, int steps) {","    return round(input * itof(steps)) / itof(steps);","}","","// Usage: quantize knob to 8 steps","float knobValue = itof((int)params[OPERAND_1_HIGH_PARAM_INDEX]) / 255.0;","float stepped = quantize(knobValue, 8);","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eMin/Max Functions\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","float minFloat(float a, float b)","float maxFloat(float a, float b)","int minInt(int a, int b)","int maxInt(int a, int b)","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eClipping:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function clipSample(int sample)","returns int clipped {","    clipped = maxInt(-2047, minInt(2047, sample));","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eRandom Number Generation\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","int xorShiftRandom()  // Returns random integer","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eSetup random seed:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function init() {","    // Use instance for unique seed per plugin","    xorShiftRandomSeedX = instance * 1234567;","    xorShiftRandomSeedY = instance * 7654321;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eRandom effects:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process() {","    // Random bit crushing","    int randomBits = (xorShiftRandom() \u0026amp; 0xFF) + 1;  // 1-256","    int reduction = 8 - (randomBits \u0026gt;\u0026gt; 5);           // 1-8 bits","","    signal[0] = signal[0] \u0026gt;\u0026gt; reduction \u0026lt;\u0026lt; reduction;","    signal[1] = signal[1] \u0026gt;\u0026gt; reduction \u0026lt;\u0026lt; reduction;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eString Utilities\u003c/h3\u003e","","\u003ch4\u003eBasic String Operations\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","int strlen(pointer s)                    // String length","pointer strcpy(pointer dest, pointer src) // Copy string","pointer strcat(pointer dest, pointer src) // Concatenate","int strcmp(pointer s1, pointer s2)       // Compare strings","int strncmp(pointer s1, pointer s2, int n) // Compare n chars","pointer stpcpy(pointer dest, pointer src)  // Copy, return end pointer","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eNumber Conversion\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","pointer intToString(int i, int radix, int minLength, pointer buffer)","pointer floatToString(float f, int precision, pointer buffer)","pointer stringToFloat(pointer string, pointer result)","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eDebug parameter values:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function update() {","    array buffer[64];","    array message[128];","","    strcpy(message, \"Knob 1: \");","    strcat(message, intToString((int)params[OPERAND_1_HIGH_PARAM_INDEX], 10, 1, buffer));","    trace(message);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eDebug Tracing\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","void traceInt(pointer text, int value)","void traceInts(pointer text, int count, pointer values)","void traceFloat(pointer text, float value)","void traceFloats(pointer text, int count, pointer values)","void error(pointer message)  // Trace message and abort","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eTrace arrays:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function update() {","    traceInts(\"All params: \", PARAM_COUNT, params);","    traceFloat(\"Current gain: \", currentGain);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eInteger Math Alternatives\u003c/h3\u003e","","\u003ch4\u003eSafe Utility Functions\u003c/h4\u003e","\u003cp\u003eFor guaranteed compatibility, use these integer-based implementations:\u003c/p\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Integer absolute value","function intAbs(int value) returns int result {","    if (value \u0026lt; 0) {","        result = -value;","    } else {","        result = value;","    }","}","","// Integer square root approximation","function intSqrt(int x) returns int result {","    if (x \u0026lt;= 1) return x;","","    int guess = x \u0026gt;\u0026gt; 1;  // Start with x/2","    int i;","    for (i = 0 to 8) {  // 8 iterations for convergence","        guess = (guess + x / guess) \u0026gt;\u0026gt; 1;","    }","    result = guess;","}","","// Fixed-point sine approximation (input: 0-999, output: -1000 to 1000)","function intSine(int angle) returns int result {","    angle = angle % 1000;  // Wrap to 0-999","","    if (angle \u0026lt; 250) {  // 0-90 degrees","        result = (angle * 4000) / 250;  // Linear approximation","    } else if (angle \u0026lt; 500) {  // 90-180 degrees","        result = 1000 - ((angle - 250) * 4000) / 250;","    } else if (angle \u0026lt; 750) {  // 180-270 degrees","        result = -((angle - 500) * 4000) / 250;","    } else {  // 270-360 degrees","        result = -1000 + ((angle - 750) * 4000) / 250;","    }","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eLookup Tables\u003c/h3\u003e","","\u003ch4\u003eExponential Response Tables\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","readonly array EIGHT_BIT_EXP_TABLE[256] = { /* 256 values */ };","readonly array SEVEN_BIT_EXP_TABLE[128] = { /* 128 values */ };","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eThese provide the same exponential curves used by built-in Permut8 operators.\u003c/strong\u003e\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eExponential parameter scaling:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function update() {","    int knobRaw = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","    int expValue = (int)EIGHT_BIT_EXP_TABLE[knobRaw];","","    // expValue now ranges from 0x0 to 0xFFFF with exponential curve","    global delayTime = expValue;","","    // LED feedback shows exponential response","    displayLEDs[0] = expValue \u0026gt;\u0026gt; 8;  // High byte for LED display","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003e7-bit version for finer control:\u003c/strong\u003e\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function update() {","    int knobRaw = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","    int index = knobRaw \u0026gt;\u0026gt; 1;  // Convert 8-bit to 7-bit index","    int expValue = (int)SEVEN_BIT_EXP_TABLE[index];","","    global feedbackAmount = expValue;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eMathematical Constants\u003c/h3\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Fixed-point mathematical constants (scaled by 1000)","const int LOG2_SCALED = 693;           // ln(2) * 1000","const int LOG2R_SCALED = 1443;         // 1/ln(2) * 1000","const int LOG10R_SCALED = 434;         // 1/ln(10) * 1000","const int E_SCALED = 2718;             // e * 1000","const int HALF_PI_SCALED = 1571;       // /2 * 1000","const int PI_SCALED = 3142;            //  * 1000","const int TWO_PI_SCALED = 6283;        // 2 * 1000","const int COS_EPSILON_SCALED = 1;      // Small value for comparisons","\u003c/code\u003e\u003c/pre\u003e","","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","// Fixed-point threshold constants","const int EPSILON_SCALED = 1;          // Smallest comparison value","const int SMALL_SCALED = 10;           // Small threshold * 1000000","const int LARGE_SCALED = 10000000;     // Large threshold scaled","const int HUGE_SCALED = 2000000000;    // Large integer value","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003ePerformance Tips\u003c/h3\u003e","","\u003ch4\u003eEfficient Cosine Tables\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int COS_TABLE_BITS = 10;","const int COS_TABLE_SIZE = (1 \u0026lt;\u0026lt; COS_TABLE_BITS);","global array cosTable[COS_TABLE_SIZE + 1];","","function init() {","    int i;","    for (i = 0 to COS_TABLE_SIZE) {","        cosTable[i] = ftoi(cos((TWO_PI_SCALED / itof(COS_TABLE_SIZE * 1000)) * itof(i)) * 2047.0);","    }","    cosTable[COS_TABLE_SIZE] = cosTable[0];  // Wrap for interpolation","}","","function fastCos(int phase)","returns int result {","    int index = phase \u0026gt;\u0026gt; (16 - COS_TABLE_BITS);","    int fract = phase \u0026amp; ((1 \u0026lt;\u0026lt; (16 - COS_TABLE_BITS)) - 1);","    int c0 = cosTable[index];","    int c1 = cosTable[index + 1];","","    result = c0 + (((c1 - c0) * fract) \u0026gt;\u0026gt; (16 - COS_TABLE_BITS));","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eBatch String Operations\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function buildStatusMessage(array buffer[256]) {","    pointer p = buffer;","","    p = stpcpy(p, \"Delay: \");","    p = stpcpy(p, intToString(currentDelay, 10, 1, tempBuffer));","    p = stpcpy(p, \" Feedback: \");","    p = stpcpy(p, floatToString(currentFeedback, 2, tempBuffer));","","    trace(buffer);","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eError Handling\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function safeDivide(float a, float b)","returns float result {","    if ((b \u0026lt; SMALL_FLOAT \u0026amp;\u0026amp; b \u0026gt; -SMALL_FLOAT)) {","        error(\"Division by zero detected\");","    }","    result = a / b;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eCommon Patterns\u003c/h3\u003e","","\u003ch4\u003eParameter-Driven Oscillator (Compatible Version)\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int oscPhase = 0;","global int oscFreq = 9;  // Frequency increment","","function update() {","    // Convert knob to frequency increment (1Hz - 1000Hz)","    int freqIndex = (int)params[OPERAND_1_HIGH_PARAM_INDEX];","    int expValue = (int)EIGHT_BIT_EXP_TABLE[freqIndex];","    oscFreq = 1 + (expValue \u0026gt;\u0026gt; 7);  // Scale to 1-500 increment range","}","","function process() {","    // Generate triangle wave","    int oscOut;","    if (oscPhase \u0026lt; 500) {","        oscOut = (oscPhase * 4094) / 500 - 2047;","    } else {","        oscOut = 2047 - ((oscPhase - 500) * 4094) / 500;","    }","","    signal[0] = (signal[0] + oscOut) \u0026gt;\u0026gt; 1;  // Mix with input","    signal[1] = (signal[1] + oscOut) \u0026gt;\u0026gt; 1;","","    oscPhase += oscFreq;","    if (oscPhase \u0026gt;= 1000) oscPhase -= 1000;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eRandom Modulation (Compatible Version)\u003c/h4\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int randomCounter = 0;","global int currentRandom = 256;  // Fixed-point: 256 = 1.0","","function process() {","    // Update random value every 1000 samples","    randomCounter = randomCounter + 1;","    if (randomCounter \u0026gt;= 1000) {","        randomCounter = 0;","        currentRandom = (xorShiftRandom() \u0026amp; 0xFF) + 1;  // 1-256 range","    }","","    // Apply random modulation to input (fixed-point)","    signal[0] = (signal[0] * currentRandom) \u0026gt;\u0026gt; 8;","    signal[1] = (signal[1] * currentRandom) \u0026gt;\u0026gt; 8;","","    yield();","}","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eKey Points\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eBuffer sizes\u003c/strong\u003e: String buffers need adequate space (64-256 chars typical)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCompatibility\u003c/strong\u003e: Use integer math for guaranteed compatibility across Impala implementations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTables\u003c/strong\u003e: Pre-compute expensive operations (sin/cos) in lookup tables for performance\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFloat functions\u003c/strong\u003e: Verify availability before using advanced math functions\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eError handling\u003c/strong\u003e: Always check for division by zero and domain errors\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTracing\u003c/strong\u003e: Use debug functions extensively during development\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSeeding\u003c/strong\u003e: Initialize random seeds with unique values per instance\u003c/li\u003e","\u003c/section\u003e","","\u003csection id=\"section-65\" class=\"doc-section\"\u003e","\u003ch1\u003e65. Navigation\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/index/navigation.md\u003c/div\u003e","","\u003ch2\u003eNavigation \u0026 Use Case Index - Module 1\u003c/h2\u003e","\u003ch3\u003eQuick Navigation for Permut8 Firmware Development\u003c/h3\u003e","","\u003cp\u003e\u003cem\u003ePart 1 of 4 - Navigation and Use Case Scenarios\u003c/em\u003e\u003c/p\u003e","","\u003ch4\u003e **QUICK START - New Developers**\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eFoundation Path (Complete beginners start here):\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003eQUICKSTART.md\u003c/strong\u003e - Complete beginner guide with firmware concepts (30 min)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003ehow-dsp-affects-sound.md\u003c/strong\u003e - Understand how code creates audio effects (20 min)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003egetting-audio-in-and-out.md\u003c/strong\u003e - Foundation I/O tutorial (10 minutes to working audio)\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003esimplest-distortion.md\u003c/strong\u003e - Your first audio effect from scratch (15 min)\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eDevelopment Path (Ready to build real plugins):\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eaudio-engineering-for-programmers.md\u003c/strong\u003e - Professional concepts in programming terms (25 min)\u003c/p\u003e","\u003cp\u003e6. \u003cstrong\u003emod-vs-full-architecture-guide.md\u003c/strong\u003e - Choose the right approach for your plugin\u003c/p\u003e","\u003cp\u003e7. \u003cstrong\u003ecore_language_reference.md\u003c/strong\u003e - Essential language features you need immediately\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eBuilding Real Plugins:\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003e8. \u003cstrong\u003emake-a-delay.md\u003c/strong\u003e - Your first real audio effect (delay line basics)\u003c/p\u003e","\u003cp\u003e9. \u003cstrong\u003eread-knobs.md\u003c/strong\u003e - Connect user controls to your code\u003c/p\u003e","\u003cp\u003e10. \u003cstrong\u003ebuild-your-first-filter.md\u003c/strong\u003e - Step-by-step filter construction\u003c/p\u003e","\u003cp\u003e11. \u003cstrong\u003eadd-controls-to-effects.md\u003c/strong\u003e - Professional parameter control patterns\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eProfessional Development:\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003e12. \u003cstrong\u003ecomplete-development-workflow.md\u003c/strong\u003e - Professional development methodology\u003c/p\u003e","\u003cp\u003e13. \u003cstrong\u003edebug-your-plugin.md\u003c/strong\u003e - Essential debugging when things go wrong\u003c/p\u003e","\u003cp\u003e14. \u003cstrong\u003etest-your-plugin.md\u003c/strong\u003e - Validate your plugin works correctly\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eTime Investment\u003c/strong\u003e: 2-4 hours from zero to professional plugin development\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eFoundation Time\u003c/strong\u003e: 90 minutes for complete conceptual understanding (steps 1-4)\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **\"I WANT TO...\" USE CASE NAVIGATION**\u003c/h3\u003e","","\u003ch4\u003e**\"I want to understand how code affects sound\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: New to audio programming, need fundamental DSP understanding\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSolution Path\u003c/strong\u003e: Foundation Audio Concepts\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eStart\u003c/strong\u003e: \u003ccode\u003ehow-dsp-affects-sound.md\u003c/code\u003e - Understand numberssound relationship (20 min)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eI/O\u003c/strong\u003e: \u003ccode\u003egetting-audio-in-and-out.md\u003c/code\u003e - 10-minute path to working audio\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFirst Effect\u003c/strong\u003e: \u003ccode\u003esimplest-distortion.md\u003c/code\u003e - Build your first audio effect (15 min)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProfessional\u003c/strong\u003e: \u003ccode\u003eaudio-engineering-for-programmers.md\u003c/code\u003e - Essential concepts (25 min)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eArchitecture\u003c/strong\u003e: \u003ccode\u003emod-vs-full-architecture-guide.md\u003c/code\u003e - Choose the right approach\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eExpected Results\u003c/strong\u003e: Complete understanding of DSP fundamentals with working first effect in 90 minutes\u003c/p\u003e","","\u003ch4\u003e**\"I want to get audio working in my plugin\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: Ready for I/O implementation, need working audio setup\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSolution Path\u003c/strong\u003e: Foundation Audio Implementation\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eFoundation\u003c/strong\u003e: \u003ccode\u003ehow-dsp-affects-sound.md\u003c/code\u003e - Understand the fundamentals first (20 min)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eI/O\u003c/strong\u003e: \u003ccode\u003egetting-audio-in-and-out.md\u003c/code\u003e - 10-minute path to working audio\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eArchitecture\u003c/strong\u003e: \u003ccode\u003emod-vs-full-architecture-guide.md\u003c/code\u003e - Choose the right approach\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eParameters\u003c/strong\u003e: \u003ccode\u003eread-knobs.md\u003c/code\u003e - Connect controls to audio\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eVisual\u003c/strong\u003e: \u003ccode\u003econtrol-leds.md\u003c/code\u003e - Add LED feedback\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eWorkflow\u003c/strong\u003e: \u003ccode\u003ecomplete-development-workflow.md\u003c/code\u003e - Professional development process\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eExpected Results\u003c/strong\u003e: Working audio plugin with proper I/O and basic controls in 45 minutes\u003c/p\u003e","","\u003ch4\u003e**\"I want to choose the right plugin architecture\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: Confused about Mod vs Full patches, need architectural guidance\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSolution Path\u003c/strong\u003e: Architecture Decision Framework\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eDecision\u003c/strong\u003e: \u003ccode\u003emod-vs-full-architecture-guide.md\u003c/code\u003e - Complete architectural guidance\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eUnderstanding\u003c/strong\u003e: \u003ccode\u003eprocessing-order.md\u003c/code\u003e - How the system processes audio\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMemory\u003c/strong\u003e: \u003ccode\u003ememory-layout.md\u003c/code\u003e - Memory organization differences\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePerformance\u003c/strong\u003e: \u003ccode\u003eoptimization-basics.md\u003c/code\u003e - Performance implications\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMigration\u003c/strong\u003e: Architecture guide includes conversion strategies\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eExpected Results\u003c/strong\u003e: Confident architectural decisions with clear migration paths\u003c/p\u003e","","\u003ch4\u003e**\"I want professional development practices\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: Need systematic development methodology and quality assurance\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSolution Path\u003c/strong\u003e: Professional Development Framework\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eFoundation\u003c/strong\u003e: \u003ccode\u003ecomplete-development-workflow.md\u003c/code\u003e - Complete professional methodology\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eQuality\u003c/strong\u003e: \u003ccode\u003edebug-your-plugin.md\u003c/code\u003e - Systematic troubleshooting and testing\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eArchitecture\u003c/strong\u003e: \u003ccode\u003emod-vs-full-architecture-guide.md\u003c/code\u003e - Professional architectural decisions\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eIntegration\u003c/strong\u003e: \u003ccode\u003epreset-system.md\u003c/code\u003e - Professional plugin integration\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eOptimization\u003c/strong\u003e: Performance \u0026amp; Optimization theme - Professional efficiency techniques\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eExpected Results\u003c/strong\u003e: Enterprise-level development capabilities with systematic quality assurance\u003c/p\u003e","","\u003ch4\u003e**\"I want to make my code faster\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: Plugin uses too much CPU, audio dropouts, performance issues\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSolution Path\u003c/strong\u003e: Performance \u0026amp; Optimization Theme\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eStart\u003c/strong\u003e: \u003ccode\u003eoptimization-basics.md\u003c/code\u003e - Identify bottlenecks and measurement\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eEssential\u003c/strong\u003e: \u003ccode\u003elookup-tables.md\u003c/code\u003e - 10-50x speedup for math functions\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCore\u003c/strong\u003e: \u003ccode\u003efixed-point.md\u003c/code\u003e - 5-20x speedup replacing floating point\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAdvanced\u003c/strong\u003e: \u003ccode\u003ebatch-processing.md\u003c/code\u003e - 2-4x improvement through batching\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eExpert\u003c/strong\u003e: \u003ccode\u003eefficient-math.md\u003c/code\u003e - ARM-specific optimizations, 50-80% CPU reduction\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMemory\u003c/strong\u003e: \u003ccode\u003ememory-access.md\u003c/code\u003e - Cache optimization, 30-50% memory improvements\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePatterns\u003c/strong\u003e: \u003ccode\u003ememory-patterns.md\u003c/code\u003e - Data structure optimization, 200-500% gains\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eExpected Results\u003c/strong\u003e: 300-5000% performance improvements depending on techniques used\u003c/p\u003e","","\u003ch4\u003e**\"I want to understand how the system works\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: Confused about processing order, memory layout, patch types\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSolution Path\u003c/strong\u003e: System Architecture Theme\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eArchitecture\u003c/strong\u003e: \u003ccode\u003emod-vs-full-architecture-guide.md\u003c/code\u003e - Choose right patch type for your plugin\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFoundation\u003c/strong\u003e: \u003ccode\u003eprocessing-order.md\u003c/code\u003e - When your code runs, sample flow\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eStates\u003c/strong\u003e: \u003ccode\u003estate-management.md\u003c/code\u003e - How parameters and memory work together\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTypes\u003c/strong\u003e: \u003ccode\u003etypes-and-operators.md\u003c/code\u003e - Data types, operators, audio math\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eControl\u003c/strong\u003e: \u003ccode\u003econtrol-flow.md\u003c/code\u003e - Loops, conditions, function calls\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMemory\u003c/strong\u003e: \u003ccode\u003ememory-layout.md\u003c/code\u003e - Buffer organization, delay lines, arrays\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eComplete\u003c/strong\u003e: \u003ccode\u003ememory-model.md\u003c/code\u003e - Complete Impala memory management\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eExpected Results\u003c/strong\u003e: Deep system understanding enabling confident advanced development\u003c/p\u003e","","\u003ch4\u003e**\"I want external control over my plugin\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: Need MIDI, CV, preset integration, host automation\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSolution Path\u003c/strong\u003e: Integration \u0026amp; Control Theme\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eFoundation\u003c/strong\u003e: \u003ccode\u003epreset-system.md\u003c/code\u003e - Save/load plugin states reliably\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDynamic\u003c/strong\u003e: \u003ccode\u003emidi-learn.md\u003c/code\u003e - Real-time parameter mapping to MIDI controllers\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAdvanced\u003c/strong\u003e: \u003ccode\u003eparameter-morphing.md\u003c/code\u003e - Smooth parameter transitions and interpolation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eState\u003c/strong\u003e: \u003ccode\u003estate-recall.md\u003c/code\u003e - Consistent state management across sessions\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMapping\u003c/strong\u003e: \u003ccode\u003eparameter-mapping.md\u003c/code\u003e - Professional parameter design for hosts\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePresets\u003c/strong\u003e: \u003ccode\u003epreset-friendly.md\u003c/code\u003e - Design plugins that work well with preset systems\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAPI\u003c/strong\u003e: \u003ccode\u003ecore-functions.md\u003c/code\u003e - Complete API reference for system integration\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eExpected Results\u003c/strong\u003e: Professional plugin integration with DAWs, hardware controllers, preset systems\u003c/p\u003e","","\u003ch4\u003e**\"I want professional development techniques\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: Need enterprise patterns, real-time safety, complex projects\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSolution Path\u003c/strong\u003e: Advanced Development Theme\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eWorkflow\u003c/strong\u003e: \u003ccode\u003ecomplete-development-workflow.md\u003c/code\u003e - Professional development methodology\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eArchitecture\u003c/strong\u003e: \u003ccode\u003emod-vs-full-architecture-guide.md\u003c/code\u003e - Professional architectural decisions\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eExternal\u003c/strong\u003e: \u003ccode\u003emodulation-ready.md\u003c/code\u003e - CV/MIDI integration, modulation matrices\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSync\u003c/strong\u003e: \u003ccode\u003emidi-sync.md\u003c/code\u003e - MIDI clock, tempo sync, jitter compensation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eBuild\u003c/strong\u003e: \u003ccode\u003ebuild-directives.md\u003c/code\u003e - Compilation optimization, deployment\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eUtilities\u003c/strong\u003e: \u003ccode\u003eutility-functions.md\u003c/code\u003e - Math, debugging, profiling tools\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSafety\u003c/strong\u003e: \u003ccode\u003ereal-time-safety.md\u003c/code\u003e - Guaranteed real-time performance\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProjects\u003c/strong\u003e: \u003ccode\u003emulti-file-projects.md\u003c/code\u003e - Organize complex firmware across files\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDebug\u003c/strong\u003e: \u003ccode\u003edebugging-techniques.md\u003c/code\u003e - Professional debugging methodology\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eExpected Results\u003c/strong\u003e: Enterprise-level firmware development capabilities\u003c/p\u003e","","\u003ch4\u003e**\"I want complete language reference\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: Need authoritative documentation for all language features\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSolution Path\u003c/strong\u003e: Language Reference Theme\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eGlobals\u003c/strong\u003e: \u003ccode\u003eglobal-variables.md\u003c/code\u003e - System state and global variables\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eBuild\u003c/strong\u003e: \u003ccode\u003ecustom-build-tools.md\u003c/code\u003e - Professional build automation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSyntax\u003c/strong\u003e: \u003ccode\u003elanguage-syntax-reference.md\u003c/code\u003e - Complete language syntax guide\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLibrary\u003c/strong\u003e: \u003ccode\u003estandard-library-reference.md\u003c/code\u003e - All standard functions and APIs\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMemory\u003c/strong\u003e: \u003ccode\u003eadvanced-memory-management.md\u003c/code\u003e - Advanced memory techniques\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMeta\u003c/strong\u003e: \u003ccode\u003emetaprogramming-constructs.md\u003c/code\u003e - Advanced language constructs\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eExpected Results\u003c/strong\u003e: Complete language mastery and professional development workflows\u003c/p\u003e","","\u003ch4\u003e**\"I want to create audio effects\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: Need DSP algorithms, audio processing patterns\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSolution Path\u003c/strong\u003e: Audio Processing Cookbook\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eFoundation\u003c/strong\u003e: \u003ccode\u003ehow-dsp-affects-sound.md\u003c/code\u003e - Understand how code creates effects (20 min)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFirst Effect\u003c/strong\u003e: \u003ccode\u003esimplest-distortion.md\u003c/code\u003e - Progressive distortion from basic to professional (15 min)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProfessional Concepts\u003c/strong\u003e: \u003ccode\u003eaudio-engineering-for-programmers.md\u003c/code\u003e - Essential audio engineering (25 min)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eBasic Effects\u003c/strong\u003e: \u003ccode\u003emake-a-delay.md\u003c/code\u003e - Delay lines, circular buffers, feedback\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFilter\u003c/strong\u003e: \u003ccode\u003ebuild-your-first-filter.md\u003c/code\u003e - Step-by-step filter construction\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAdvanced Distortion\u003c/strong\u003e: \u003ccode\u003ewaveshaper-distortion.md\u003c/code\u003e - 5 distortion algorithms with lookup tables\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eModulation\u003c/strong\u003e: \u003ccode\u003echorus-effect.md\u003c/code\u003e - Stereo chorus with phase-offset LFOs\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAdvanced\u003c/strong\u003e: \u003ccode\u003egranular-synthesis.md\u003c/code\u003e - Grain-based texture synthesis\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePhasing\u003c/strong\u003e: \u003ccode\u003ephaser-effect.md\u003c/code\u003e - All-pass filter cascade with feedback\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eReference\u003c/strong\u003e: \u003ccode\u003eaudio_processing_reference.md\u003c/code\u003e - Core audio concepts and patterns\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eExpected Results\u003c/strong\u003e: Professional audio effect development with mathematical precision, starting from complete understanding\u003c/p\u003e","","\u003ch4\u003e**\"I want to control LEDs and visual feedback\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: Need visual indication of plugin state, parameter values\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSolution Path\u003c/strong\u003e: Visual Feedback Documentation\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eBasic\u003c/strong\u003e: \u003ccode\u003econtrol-leds.md\u003c/code\u003e - LED patterns, parameter visualization\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAdvanced\u003c/strong\u003e: All cookbook recipes include LED feedback patterns\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eIntegration\u003c/strong\u003e: \u003ccode\u003eadd-controls-to-effects.md\u003c/code\u003e - Combine visual feedback with audio\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProfessional\u003c/strong\u003e: Advanced Development docs include comprehensive LED strategies\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eExpected Results\u003c/strong\u003e: Professional visual feedback enhancing user experience\u003c/p\u003e","","\u003ch4\u003e**\"I want to sync to DAW tempo\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: Need tempo-based effects, beat synchronization\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSolution Path\u003c/strong\u003e: Timing and Synchronization\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eBasic\u003c/strong\u003e: \u003ccode\u003esync-to-tempo.md\u003c/code\u003e - Beat sync, tempo-based delays\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAdvanced\u003c/strong\u003e: \u003ccode\u003emidi-sync.md\u003c/code\u003e - Professional MIDI clock integration\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eReference\u003c/strong\u003e: \u003ccode\u003etiming_reference.md\u003c/code\u003e - Complete timing system documentation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eIntegration\u003c/strong\u003e: All tempo-based cookbook recipes demonstrate sync techniques\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eExpected Results\u003c/strong\u003e: Professional tempo synchronization for musical effects\u003c/p\u003e","","\u003ch4\u003e**\"I want to handle parameters properly\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eProblem\u003c/strong\u003e: Need parameter smoothing, validation, UI integration\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSolution Path\u003c/strong\u003e: Parameter Handling\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eBasic\u003c/strong\u003e: \u003ccode\u003eread-knobs.md\u003c/code\u003e - Basic parameter reading and scaling\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFoundation\u003c/strong\u003e: \u003ccode\u003eparameters_reference.md\u003c/code\u003e - Complete parameter system\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProfessional\u003c/strong\u003e: \u003ccode\u003eparameter-mapping.md\u003c/code\u003e - Advanced parameter design\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eIntegration\u003c/strong\u003e: \u003ccode\u003epreset-friendly.md\u003c/code\u003e - Parameter design for preset compatibility\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAdvanced\u003c/strong\u003e: \u003ccode\u003eparameter-morphing.md\u003c/code\u003e - Complex parameter control patterns\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eExpected Results\u003c/strong\u003e: Professional parameter handling rivaling commercial plugins\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **LEARNING PROGRESSION PATHS**\u003c/h3\u003e","","\u003ch4\u003e**Beginner  Intermediate (2-4 weeks)**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eGoal\u003c/strong\u003e: Create working audio effects with proper controls\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003ePath\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003eFoundation Concepts\u003c/strong\u003e (Week 1): QUICKSTART.md  how-dsp-affects-sound.md  getting-audio-in-and-out.md  simplest-distortion.md\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eProfessional Foundation\u003c/strong\u003e (Week 1-2): audio-engineering-for-programmers.md  mod-vs-full-architecture-guide.md  core_language_reference.md  complete-development-workflow.md\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eBasic Effects\u003c/strong\u003e (Week 2): make-a-delay.md, read-knobs.md, control-leds.md, sync-to-tempo.md\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eStep-by-step Development\u003c/strong\u003e (Week 2-3): build-your-first-filter.md, add-controls-to-effects.md\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eSystem Understanding\u003c/strong\u003e (Week 3-4): processing-order.md, state-management.md, types-and-operators.md\u003c/p\u003e","\u003cp\u003e6. \u003cstrong\u003eProfessional Practices\u003c/strong\u003e (Week 4): debug-your-plugin.md + optimization-basics.md, memory-patterns.md\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eValidation\u003c/strong\u003e: Can create custom audio effects with proper parameter control, visual feedback, and professional development practices\u003c/p\u003e","","\u003ch4\u003e**Intermediate  Advanced (4-6 weeks)**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eGoal\u003c/strong\u003e: Professional plugin development with optimization and integration\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003ePath\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. Complete System Architecture theme (Weeks 1-2)\u003c/p\u003e","\u003cp\u003e2. Performance \u0026amp; Optimization foundation: lookup-tables.md, fixed-point.md, batch-processing.md (Weeks 2-3)\u003c/p\u003e","\u003cp\u003e3. Integration \u0026amp; Control foundation: preset-system.md, midi-learn.md, parameter-mapping.md (Weeks 3-4)\u003c/p\u003e","\u003cp\u003e4. Advanced audio effects: granular-synthesis.md, waveshaper-distortion.md, chorus-effect.md (Weeks 4-5)\u003c/p\u003e","\u003cp\u003e5. Professional techniques: real-time-safety.md, debugging-techniques.md (Weeks 5-6)\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eValidation\u003c/strong\u003e: Can create optimized, professional plugins with external control integration\u003c/p\u003e","","\u003ch4\u003e**Advanced  Expert (6-8 weeks)**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eGoal\u003c/strong\u003e: Enterprise-level firmware development and language mastery\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003ePath\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. Complete Performance \u0026amp; Optimization theme (Weeks 1-2)\u003c/p\u003e","\u003cp\u003e2. Complete Integration \u0026amp; Control theme (Weeks 2-3)\u003c/p\u003e","\u003cp\u003e3. Complete Advanced Development theme (Weeks 3-5)\u003c/p\u003e","\u003cp\u003e4. Complete Language Reference theme (Weeks 5-7)\u003c/p\u003e","\u003cp\u003e5. Advanced debugging and profiling mastery (Weeks 7-8)\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eValidation\u003c/strong\u003e: Can lead firmware development teams, optimize at assembly level, create professional development workflows\u003c/p\u003e","","\u003ch4\u003e**Expert  Master (Ongoing)**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eGoal\u003c/strong\u003e: Contribute to firmware ecosystem, mentor others\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003ePath\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. Assembly \u0026amp; Advanced theme (Future: Sessions 19a-19c)\u003c/p\u003e","\u003cp\u003e2. Custom DSP algorithm development\u003c/p\u003e","\u003cp\u003e3. Performance engineering and real-time systems design\u003c/p\u003e","\u003cp\u003e4. Teaching and knowledge sharing within development teams\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e锔 **WORKFLOW-BASED NAVIGATION**\u003c/h3\u003e","","\u003ch4\u003e**Plugin Development Workflow**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eStandard Development Process\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003ePlanning\u003c/strong\u003e: Start with complete-development-workflow.md for professional methodology\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eArchitecture\u003c/strong\u003e: Choose approach using mod-vs-full-architecture-guide.md\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eFoundation\u003c/strong\u003e: Establish I/O using getting-audio-in-and-out.md\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eCore Logic\u003c/strong\u003e: Use relevant cookbook recipe as foundation\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eParameters\u003c/strong\u003e: Implement using read-knobs.md + parameter-mapping.md patterns\u003c/p\u003e","\u003cp\u003e6. \u003cstrong\u003eVisual Feedback\u003c/strong\u003e: Add LED control using control-leds.md patterns\u003c/p\u003e","\u003cp\u003e7. \u003cstrong\u003eTesting\u003c/strong\u003e: Follow debug-your-plugin.md + test-your-plugin.md methodology\u003c/p\u003e","\u003cp\u003e8. \u003cstrong\u003eOptimization\u003c/strong\u003e: Apply Performance \u0026amp; Optimization techniques as needed\u003c/p\u003e","\u003cp\u003e9. \u003cstrong\u003eIntegration\u003c/strong\u003e: Add preset support using Integration \u0026amp; Control patterns\u003c/p\u003e","","\u003ch4\u003e**Debugging Workflow**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eWhen Things Go Wrong\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003eImmediate\u003c/strong\u003e: debug-your-plugin.md for systematic debugging approach\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eAudio Issues\u003c/strong\u003e: audio_processing_reference.md for signal flow problems\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003ePerformance\u003c/strong\u003e: optimization-basics.md for CPU and memory analysis\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eParameters\u003c/strong\u003e: parameters_reference.md for control system issues\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eAdvanced\u003c/strong\u003e: debugging-techniques.md for complex problem solving\u003c/p\u003e","","\u003ch4\u003e**Optimization Workflow**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eMaking Code Faster\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003eMeasure\u003c/strong\u003e: optimization-basics.md for profiling and bottleneck identification\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eMath\u003c/strong\u003e: lookup-tables.md for mathematical function speedup\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eArithmetic\u003c/strong\u003e: fixed-point.md for replacing floating point operations\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eMemory\u003c/strong\u003e: memory-access.md for cache optimization\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eArchitecture\u003c/strong\u003e: batch-processing.md for algorithm restructuring\u003c/p\u003e","\u003cp\u003e6. \u003cstrong\u003eAdvanced\u003c/strong\u003e: efficient-math.md for ARM-specific optimizations\u003c/p\u003e","","\u003ch4\u003e**Integration Workflow**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eAdding External Control\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003eFoundation\u003c/strong\u003e: preset-system.md for state management\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eDynamic\u003c/strong\u003e: midi-learn.md for real-time controller mapping\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eProfessional\u003c/strong\u003e: parameter-mapping.md for host integration\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eAdvanced\u003c/strong\u003e: parameter-morphing.md for complex control schemes\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eSystem\u003c/strong\u003e: core-functions.md for complete API utilization\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **CONTENT ORGANIZATION BY COMPLEXITY**\u003c/h3\u003e","","\u003ch4\u003e**Level 1: Foundation (Essential for everyone)**\u003c/h4\u003e","\u003cli\u003eQUICKSTART.md - Absolute beginner guide with firmware concepts\u003c/li\u003e","\u003cli\u003ehow-dsp-affects-sound.md - Understand how code creates audio effects\u003c/li\u003e","\u003cli\u003egetting-audio-in-and-out.md - Foundation I/O tutorial\u003c/li\u003e","\u003cli\u003esimplest-distortion.md - Your first audio effect from scratch\u003c/li\u003e","\u003cli\u003eaudio-engineering-for-programmers.md - Professional concepts in programming terms\u003c/li\u003e","\u003cli\u003ecore_language_reference.md - Essential language features\u003c/li\u003e","\u003cli\u003emod-vs-full-architecture-guide.md - Critical architectural decisions\u003c/li\u003e","\u003cli\u003eread-knobs.md - Basic parameter control\u003c/li\u003e","\u003cli\u003econtrol-leds.md - Visual feedback basics\u003c/li\u003e","\u003cli\u003eprocessing-order.md - How the system works\u003c/li\u003e","\u003cli\u003eoptimization-basics.md - Performance fundamentals\u003c/li\u003e","","\u003ch4\u003e**Level 2: Development (Building real plugins)**\u003c/h4\u003e","\u003cli\u003ebuild-your-first-filter.md - Step-by-step development\u003c/li\u003e","\u003cli\u003eadd-controls-to-effects.md - Professional controls\u003c/li\u003e","\u003cli\u003edebug-your-plugin.md - Essential debugging\u003c/li\u003e","\u003cli\u003etest-your-plugin.md - Plugin validation\u003c/li\u003e","\u003cli\u003estate-management.md - System state understanding\u003c/li\u003e","\u003cli\u003etypes-and-operators.md - Data types and math\u003c/li\u003e","\u003cli\u003epreset-system.md - Save/load functionality\u003c/li\u003e","","\u003ch4\u003e**Level 3: Professional (Commercial-quality development)**\u003c/h4\u003e","\u003cli\u003ePerformance \u0026amp; Optimization theme (9 documents)\u003c/li\u003e","\u003cli\u003eIntegration \u0026amp; Control theme (6 documents)\u003c/li\u003e","\u003cli\u003eAdvanced audio effects cookbook (4 recipes)\u003c/li\u003e","\u003cli\u003emulti-file-projects.md - Complex project organization\u003c/li\u003e","\u003cli\u003ereal-time-safety.md - Guaranteed performance\u003c/li\u003e","\u003cli\u003eparameter-mapping.md - Professional parameter design\u003c/li\u003e","","\u003ch4\u003e**Level 4: Expert (Enterprise development)**\u003c/h4\u003e","\u003cli\u003eAdvanced Development theme (7 documents)\u003c/li\u003e","\u003cli\u003eLanguage Reference theme (6 documents)\u003c/li\u003e","\u003cli\u003edebugging-techniques.md - Master-level debugging\u003c/li\u003e","\u003cli\u003eadvanced-memory-management.md - Memory optimization\u003c/li\u003e","\u003cli\u003emetaprogramming-constructs.md - Advanced language features\u003c/li\u003e","","\u003ch4\u003e**Level 5: Master (System-level expertise)**\u003c/h4\u003e","\u003cli\u003eAssembly \u0026amp; Advanced theme (Future: Sessions 19a-19c)\u003c/li\u003e","\u003cli\u003eCustom optimization techniques\u003c/li\u003e","\u003cli\u003eFirmware architecture design\u003c/li\u003e","\u003cli\u003eTeam leadership and mentoring\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **FINDING CONTENT BY TECHNICAL AREA**\u003c/h3\u003e","","\u003ch4\u003e**Audio Processing \u0026 DSP**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eCore\u003c/strong\u003e: audio_processing_reference.md, architecture_patterns.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eBasic Effects\u003c/strong\u003e: make-a-delay.md, build-your-first-filter.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAdvanced Effects\u003c/strong\u003e: granular-synthesis.md, waveshaper-distortion.md, chorus-effect.md, phaser-effect.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eOptimization\u003c/strong\u003e: efficient-math.md, lookup-tables.md, fixed-point.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eReference\u003c/strong\u003e: standard-library-reference.md (mathematical functions)\u003c/li\u003e","","\u003ch4\u003e**System Architecture \u0026 Memory**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eFoundation\u003c/strong\u003e: processing-order.md, state-management.md, memory-layout.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAdvanced\u003c/strong\u003e: memory-model.md, advanced-memory-management.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eOptimization\u003c/strong\u003e: memory-patterns.md, memory-access.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProfessional\u003c/strong\u003e: multi-file-projects.md, build-directives.md\u003c/li\u003e","","\u003ch4\u003e**Performance \u0026 Optimization**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eFundamentals\u003c/strong\u003e: optimization-basics.md, batch-processing.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMathematical\u003c/strong\u003e: lookup-tables.md, fixed-point.md, efficient-math.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMemory\u003c/strong\u003e: memory-patterns.md, memory-access.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eReference\u003c/strong\u003e: All performance documents include cycle-accurate measurements\u003c/li\u003e","","\u003ch4\u003e**External Integration**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eMIDI\u003c/strong\u003e: midi-learn.md, midi-sync.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePresets\u003c/strong\u003e: preset-system.md, preset-friendly.md, state-recall.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eParameters\u003c/strong\u003e: parameter-mapping.md, parameter-morphing.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAPI\u003c/strong\u003e: core-functions.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eModulation\u003c/strong\u003e: modulation-ready.md\u003c/li\u003e","","\u003ch4\u003e**Development Tools \u0026 Workflow**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eBuild Systems\u003c/strong\u003e: custom-build-tools.md, build-directives.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDebugging\u003c/strong\u003e: debug-your-plugin.md, debugging-techniques.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTesting\u003c/strong\u003e: test-your-plugin.md, validation patterns throughout\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eUtilities\u003c/strong\u003e: utility-functions.md, development tool integration\u003c/li\u003e","","\u003ch4\u003e**Language Features**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eCore\u003c/strong\u003e: core_language_reference.md, language-syntax-reference.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAdvanced\u003c/strong\u003e: metaprogramming-constructs.md, advanced language constructs\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eGlobal Systems\u003c/strong\u003e: global-variables.md, system state management\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eReference\u003c/strong\u003e: standard-library-reference.md, complete API coverage\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **QUICK DECISION GUIDES**\u003c/h3\u003e","","\u003ch4\u003e**\"What patch type should I use?\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eQuick Decision\u003c/strong\u003e: mod-vs-full.md\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eMod Patch\u003c/strong\u003e: Replacing operators, use operate1/2(), memory positions\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFull Patch\u003c/strong\u003e: Replacing engine, use process(), raw samples (-2047 to 2047)\u003c/li\u003e","","\u003ch4\u003e**\"My plugin is too slow, what do I optimize first?\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eQuick Priority\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003eMath functions\u003c/strong\u003e  lookup-tables.md (10-50x speedup)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eFloating point\u003c/strong\u003e  fixed-point.md (5-20x speedup)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eMemory access\u003c/strong\u003e  memory-access.md (30-50% improvement)\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eAlgorithm structure\u003c/strong\u003e  batch-processing.md (2-4x improvement)\u003c/p\u003e","","\u003ch4\u003e**\"How do I add MIDI control?\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eQuick Path\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003eBasic\u003c/strong\u003e  midi-learn.md (dynamic parameter mapping)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eSync\u003c/strong\u003e  midi-sync.md (tempo and clock synchronization)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eAdvanced\u003c/strong\u003e  modulation-ready.md (modulation matrices)\u003c/p\u003e","","\u003ch4\u003e**\"My plugin doesn't work, where do I start debugging?\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eQuick Debugging\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003eSystematic approach\u003c/strong\u003e  debug-your-plugin.md\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eAudio problems\u003c/strong\u003e  audio_processing_reference.md\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eParameter issues\u003c/strong\u003e  parameters_reference.md\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eAdvanced problems\u003c/strong\u003e  debugging-techniques.md\u003c/p\u003e","","\u003ch4\u003e**\"How do I make my plugin preset-friendly?\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eQuick Integration\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003eState management\u003c/strong\u003e  preset-system.md\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eParameter design\u003c/strong\u003e  preset-friendly.md\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eProfessional mapping\u003c/strong\u003e  parameter-mapping.md\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **CONTENT SUMMARY BY SESSION**\u003c/h3\u003e","","\u003ch4\u003e**Foundation Sessions (4-11)**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eSession 4\u003c/strong\u003e: QUICKSTART.md, core_language_reference.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSession 5\u003c/strong\u003e: Basic cookbook (4 recipes)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSession 6\u003c/strong\u003e: parameters_reference.md, utilities_reference.md, memory_management.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSession 8\u003c/strong\u003e: timing_reference.md, file structure optimization\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSession 10\u003c/strong\u003e: audio_processing_reference.md, architecture_patterns.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSession 12\u003c/strong\u003e: Step-by-step tutorials (4) + Advanced recipes (4)\u003c/li\u003e","","\u003ch4\u003e**Performance Sessions (14a-14c)**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eSession 14a\u003c/strong\u003e: batch-processing.md, lookup-tables.md, fixed-point.md, memory-patterns.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSession 14b\u003c/strong\u003e: efficient-math.md, memory-access.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSession 14c\u003c/strong\u003e: optimization-basics.md\u003c/li\u003e","","\u003ch4\u003e**System Architecture Sessions (15a-15c)**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eSession 15a\u003c/strong\u003e: processing-order.md, state-management.md, types-and-operators.md, control-flow.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSession 15b\u003c/strong\u003e: mod-vs-full.md, memory-layout.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSession 15c\u003c/strong\u003e: memory-model.md\u003c/li\u003e","","\u003ch4\u003e**Integration \u0026 Control Sessions (16a-16c)**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eSession 16a\u003c/strong\u003e: preset-system.md, midi-learn.md, parameter-morphing.md, state-recall.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSession 16b\u003c/strong\u003e: parameter-mapping.md, preset-friendly.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSession 16c\u003c/strong\u003e: core-functions.md\u003c/li\u003e","","\u003ch4\u003e**Advanced Development Sessions (17a-17c)**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eSession 17a\u003c/strong\u003e: modulation-ready.md, midi-sync.md, build-directives.md, utility-functions.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSession 17b\u003c/strong\u003e: real-time-safety.md, multi-file-projects.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSession 17c\u003c/strong\u003e: debugging-techniques.md\u003c/li\u003e","","\u003ch4\u003e**Language Reference Sessions (18a-18b)**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eSession 18a\u003c/strong\u003e: global-variables.md, custom-build-tools.md, language-syntax-reference.md, standard-library-reference.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSession 18b\u003c/strong\u003e: advanced-memory-management.md, metaprogramming-constructs.md\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003cp\u003e\u003cem\u003eThis is Module 1 of 4 in the complete content index system. Continue with Module 2 for detailed theme documentation, Module 3 for language and foundation references, and Module 4 for cross-references and advanced navigation.\u003c/em\u003e\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eTotal Documentation\u003c/strong\u003e: 44,000+ words across 50+ documents\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eDevelopment Time Saved\u003c/strong\u003e: Weeks to months of firmware development learning\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eQuality Level\u003c/strong\u003e: Professional enterprise-grade documentation with quantified performance improvements\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-66\" class=\"doc-section\"\u003e","\u003ch1\u003e66. Cross References\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/index/cross-references.md\u003c/div\u003e","","\u003ch2\u003eCross-References \u0026 Advanced Navigation - Module 4\u003c/h2\u003e","\u003ch3\u003eTroubleshooting, Connections \u0026 Master Navigation\u003c/h3\u003e","","\u003cp\u003e\u003cem\u003ePart 4 of 4 - Cross-References, Troubleshooting Guides \u0026amp; Advanced Navigation\u003c/em\u003e\u003c/p\u003e","","\u003ch4\u003e **MODULE OVERVIEW**\u003c/h4\u003e","","\u003cp\u003eThis final module provides advanced navigation, troubleshooting guides, cross-references between all themes, and master-level content organization:\u003c/p\u003e","","\u003cli\u003e\u003cstrong\u003eTroubleshooting Navigation\u003c/strong\u003e - Problem-solution mapping for common issues\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCross-Theme Integration\u003c/strong\u003e - How knowledge builds across all themes\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAdvanced Navigation Patterns\u003c/strong\u003e - Expert-level content discovery\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eContent by Complexity\u003c/strong\u003e - Progressive skill development paths\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMaster Content Organization\u003c/strong\u003e - Complete project overview and status\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eIntegration Scope\u003c/strong\u003e: All 50+ documents, 44,000+ words, complete development ecosystem\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eNavigation Impact\u003c/strong\u003e: Expert-level content discovery and problem-solving efficiency\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **TROUBLESHOOTING NAVIGATION**\u003c/h3\u003e","","\u003ch4\u003e**\"I'm new to audio programming and don't know where to start\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eComplete Beginner Learning Path\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003eunderstand firmware\u003c/strong\u003e  QUICKSTART.md (30-min introduction with firmware concepts)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eunderstand DSP\u003c/strong\u003e  how-dsp-affects-sound.md (20-min foundation: how code creates effects)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eaudio basics\u003c/strong\u003e  getting-audio-in-and-out.md (10-minute foundation I/O tutorial)\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003efirst effect\u003c/strong\u003e  simplest-distortion.md (15-min progressive distortion tutorial)\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eprofessional concepts\u003c/strong\u003e  audio-engineering-for-programmers.md (25-min essential concepts)\u003c/p\u003e","\u003cp\u003e6. \u003cstrong\u003echoose approach\u003c/strong\u003e  mod-vs-full-architecture-guide.md (Architectural decision guidance)\u003c/p\u003e","\u003cp\u003e7. \u003cstrong\u003eprofessional process\u003c/strong\u003e  complete-development-workflow.md (Systematic development methodology)\u003c/p\u003e","\u003cp\u003e8. \u003cstrong\u003ewhen problems arise\u003c/strong\u003e  debug-your-plugin.md (Essential troubleshooting skills)\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eExpected Result\u003c/strong\u003e: Complete conceptual foundation with working first effect and professional development readiness\u003c/p\u003e","","\u003ch4\u003e**\"I can't decide between Mod and Full patches\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eArchitectural Decision Support\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003edecision framework\u003c/strong\u003e  mod-vs-full-architecture-guide.md (Complete architectural guidance)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003esystem understanding\u003c/strong\u003e  processing-order.md (Processing architecture implications)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eperformance implications\u003c/strong\u003e  optimization-basics.md (Performance characteristics)\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003emigration strategies\u003c/strong\u003e  Architecture guide includes conversion approaches\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eExpected Result\u003c/strong\u003e: Confident architectural decision with clear implementation path\u003c/p\u003e","","\u003ch4\u003e**\"My plugin doesn't compile\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eImmediate Solutions\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003ebasic syntax errors\u003c/strong\u003e  language-syntax-reference.md (Section: Common Syntax Errors)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003emissing includes\u003c/strong\u003e  core_language_reference.md (Section: Essential Includes)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003ebuild system issues\u003c/strong\u003e  custom-build-tools.md (Section: Compilation Troubleshooting)\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003emulti-file problems\u003c/strong\u003e  multi-file-projects.md (Section: Build Integration)\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eAdvanced Debugging\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eComplex build issues\u003c/strong\u003e  debugging-techniques.md (Section: Build System Debugging)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLinker errors\u003c/strong\u003e  build-directives.md (Section: Advanced Linking)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTemplate/generic issues\u003c/strong\u003e  metaprogramming-constructs.md (Section: Generic Programming Debugging)\u003c/li\u003e","","\u003ch4\u003e**\"My plugin produces no sound\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eSignal Flow Debugging\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003eunderstand audio fundamentals\u003c/strong\u003e  how-dsp-affects-sound.md (How code affects sound - basic troubleshooting)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eaudio I/O basics\u003c/strong\u003e  getting-audio-in-and-out.md (Foundation audio troubleshooting)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003ebasic signal flow\u003c/strong\u003e  audio_processing_reference.md (Section: Signal Path Troubleshooting)\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eprocessing order\u003c/strong\u003e  processing-order.md (Section: Common Processing Mistakes)\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003epatch type confusion\u003c/strong\u003e  mod-vs-full-architecture-guide.md (Section: Patch Type Debugging)\u003c/p\u003e","\u003cp\u003e6. \u003cstrong\u003eparameter connection\u003c/strong\u003e  parameters_reference.md (Section: Audio Parameter Integration)\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eAdvanced Audio Debugging\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003ecomplex signal routing\u003c/strong\u003e  debugging-techniques.md (Section: Audio Signal Debugging)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ereal-time processing\u003c/strong\u003e  real-time-safety.md (Section: Real-Time Audio Troubleshooting)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ememory layout issues\u003c/strong\u003e  memory-layout.md (Section: Audio Buffer Debugging)\u003c/li\u003e","","\u003ch4\u003e**\"My plugin produces distorted/bad audio\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eAudio Quality Issues\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003eclipping and range\u003c/strong\u003e  audio_processing_reference.md (Section: Audio Range Management)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eparameter scaling\u003c/strong\u003e  parameter-mapping.md (Section: Audio Parameter Scaling)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003efixed-point overflow\u003c/strong\u003e  fixed-point.md (Section: Overflow Prevention)\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003efilter instability\u003c/strong\u003e  build-your-first-filter.md (Section: Filter Stability)\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eAdvanced Audio Quality\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003esophisticated distortion\u003c/strong\u003e  waveshaper-distortion.md (Section: Distortion Quality Control)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ealiasing and artifacts\u003c/strong\u003e  efficient-math.md (Section: Audio Artifact Prevention)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003einterpolation quality\u003c/strong\u003e  lookup-tables.md (Section: Interpolation Techniques)\u003c/li\u003e","","\u003ch4\u003e**\"My plugin is too slow/causes dropouts\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003ePerformance Optimization Priority\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003eidentify bottlenecks\u003c/strong\u003e  optimization-basics.md (Section: Performance Profiling)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003emathematical functions\u003c/strong\u003e  lookup-tables.md (10-50x speedup)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003efloating-point operations\u003c/strong\u003e  fixed-point.md (5-20x speedup)\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003ememory access patterns\u003c/strong\u003e  memory-access.md (30-50% improvement)\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eAdvanced Performance\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003ecache optimization\u003c/strong\u003e  memory-patterns.md (200-500% improvement)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ebatch processing\u003c/strong\u003e  batch-processing.md (2-4x improvement)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eARM-specific optimization\u003c/strong\u003e  efficient-math.md (50-80% CPU reduction)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ereal-time guarantees\u003c/strong\u003e  real-time-safety.md (Guaranteed performance)\u003c/li\u003e","","\u003ch4\u003e**\"I want to understand how distortion works\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eProgressive Distortion Learning\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003efundamental concepts\u003c/strong\u003e  how-dsp-affects-sound.md (How changing numbers changes sound)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003efirst distortion\u003c/strong\u003e  simplest-distortion.md (Progressive distortion from basic to professional)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eprofessional concepts\u003c/strong\u003e  audio-engineering-for-programmers.md (Gain compensation, smoothing, professional practices)\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eadvanced techniques\u003c/strong\u003e  waveshaper-distortion.md (Mathematical distortion algorithms)\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eExpected Result\u003c/strong\u003e: Complete understanding from basic multiplication to professional distortion algorithms\u003c/p\u003e","","\u003ch4\u003e**\"I don't understand audio engineering concepts as a programmer\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eAudio Engineering Bridge\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003efoundational DSP\u003c/strong\u003e  how-dsp-affects-sound.md (Codesound relationship)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eprogramming translation\u003c/strong\u003e  audio-engineering-for-programmers.md (Audio concepts in programming terms)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003epractical application\u003c/strong\u003e  simplest-distortion.md (Apply concepts to working effect)\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eprofessional techniques\u003c/strong\u003e  Complete audio effects cookbook with professional practices\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eExpected Result\u003c/strong\u003e: Audio engineering concepts accessible through programming knowledge\u003c/p\u003e","","\u003ch4\u003e**\"My parameters don't work properly\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eParameter System Issues\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003ebasic parameter reading\u003c/strong\u003e  read-knobs.md (Section: Parameter Reading Basics)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eparameter scaling\u003c/strong\u003e  parameters_reference.md (Section: Scaling and Validation)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003esmooth parameter updates\u003c/strong\u003e  state-management.md (Section: Parameter Smoothing)\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eprofessional smoothing\u003c/strong\u003e  audio-engineering-for-programmers.md (Parameter smoothing concepts)\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003epreset integration\u003c/strong\u003e  preset-system.md (Section: Parameter State Management)\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eAdvanced Parameter Control\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eprofessional mapping\u003c/strong\u003e  parameter-mapping.md (Host integration and scaling)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003edynamic control\u003c/strong\u003e  midi-learn.md (Real-time parameter assignment)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003emorphing and interpolation\u003c/strong\u003e  parameter-morphing.md (Advanced parameter control)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003epreset compatibility\u003c/strong\u003e  preset-friendly.md (Parameter design for presets)\u003c/li\u003e","","\u003ch4\u003e**\"My MIDI/external control doesn't work\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Issues\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003ebasic MIDI\u003c/strong\u003e  midi-learn.md (Section: MIDI Controller Integration)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003etempo sync\u003c/strong\u003e  sync-to-tempo.md (Section: Basic Tempo Synchronization)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003epreset handling\u003c/strong\u003e  preset-system.md (Section: External Preset Control)\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003estate management\u003c/strong\u003e  state-recall.md (Section: External State Control)\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eAdvanced Integration\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eprofessional MIDI sync\u003c/strong\u003e  midi-sync.md (MIDI clock and jitter compensation)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003emodulation matrices\u003c/strong\u003e  modulation-ready.md (CV and advanced control)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ehost integration\u003c/strong\u003e  core-functions.md (Complete API utilization)\u003c/li\u003e","","\u003ch4\u003e**\"My LEDs don't work or look wrong\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eVisual Feedback Issues\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003ebasic LED control\u003c/strong\u003e  control-leds.md (Section: LED Control Basics)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eLED patterns\u003c/strong\u003e  All cookbook recipes (Section: Visual Feedback Integration)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eparameter visualization\u003c/strong\u003e  add-controls-to-effects.md (Section: Parameter-LED Integration)\u003c/p\u003e","","\u003ch4\u003e**\"My plugin works but code is messy/unmaintainable\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eCode Organization\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003eprofessional workflow\u003c/strong\u003e  complete-development-workflow.md (Systematic development methodology)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003ebasic architecture\u003c/strong\u003e  architecture_patterns.md (Section: Code Organization Patterns)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003earchitectural decisions\u003c/strong\u003e  mod-vs-full-architecture-guide.md (Foundation architectural planning)\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003emulti-file organization\u003c/strong\u003e  multi-file-projects.md (Professional project structure)\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eadvanced patterns\u003c/strong\u003e  metaprogramming-constructs.md (Generic programming patterns)\u003c/p\u003e","\u003cp\u003e6. \u003cstrong\u003edebugging preparation\u003c/strong\u003e  debugging-techniques.md (Section: Preventive Code Design)\u003c/p\u003e","","\u003ch4\u003e**\"I need to debug complex problems\"**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eMaster-Level Debugging\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003e1. \u003cstrong\u003esystematic approach\u003c/strong\u003e  debug-your-plugin.md (Basic debugging methodology)\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eprofessional workflow\u003c/strong\u003e  complete-development-workflow.md (Preventive development practices)\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eprofessional debugging\u003c/strong\u003e  debugging-techniques.md (Master-level debugging)\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eperformance debugging\u003c/strong\u003e  optimization-basics.md (Performance problem solving)\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003ememory debugging\u003c/strong\u003e  advanced-memory-management.md (Memory issue debugging)\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **CROSS-THEME INTEGRATION MATRIX**\u003c/h3\u003e","","\u003ch4\u003e**Performance Optimization  All Other Themes**\u003c/h4\u003e","","\u003ch5\u003e**Performance  System Architecture**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Points\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eMemory Layout Optimization\u003c/strong\u003e: memory-layout.md  memory-patterns.md  memory-access.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProcessing Order Optimization\u003c/strong\u003e: processing-order.md  batch-processing.md  efficient-math.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSystem Understanding for Performance\u003c/strong\u003e: memory-model.md enables targeted optimization in lookup-tables.md\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eLearning Progression\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003eSystem Architecture (understanding)  Performance Optimization (improvement)  Advanced Development (professional implementation)\u003c/p\u003e","","\u003ch5\u003e**Performance  Integration \u0026 Control**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Points\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eParameter Performance\u003c/strong\u003e: parameter-mapping.md  fixed-point.md (parameter processing optimization)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePreset Performance\u003c/strong\u003e: preset-system.md  memory-patterns.md (state management optimization)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eReal-Time Control\u003c/strong\u003e: midi-learn.md  real-time-safety.md (guaranteed control response)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eProfessional Pattern\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003eIntegration requirements drive Performance optimization needs, Performance techniques enable advanced Integration capabilities\u003c/p\u003e","","\u003ch5\u003e**Performance  Advanced Development**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Points\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eReal-Time Safety\u003c/strong\u003e: All Performance techniques support real-time-safety.md guarantees\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProfessional Tools\u003c/strong\u003e: utility-functions.md  optimization-basics.md (measurement and validation)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eBuild Optimization\u003c/strong\u003e: build-directives.md integrates Performance compilation techniques\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eEnterprise Integration\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003ePerformance optimization becomes systematic through Advanced Development methodology\u003c/p\u003e","","\u003ch5\u003e**Performance  Language Reference**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Points\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eLanguage Optimization\u003c/strong\u003e: language-syntax-reference.md  efficient-math.md (language-level optimization)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMemory Language Features\u003c/strong\u003e: advanced-memory-management.md integrates all Performance memory techniques\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eBuild Integration\u003c/strong\u003e: custom-build-tools.md automates Performance optimization workflows\u003c/li\u003e","","\u003ch4\u003e**System Architecture  All Other Themes**\u003c/h4\u003e","","\u003ch5\u003e**Architecture  Integration \u0026 Control**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Points\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eState Architecture\u003c/strong\u003e: state-management.md  preset-system.md  parameter-morphing.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMemory Architecture\u003c/strong\u003e: memory-layout.md enables efficient preset-friendly.md implementations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProcessing Architecture\u003c/strong\u003e: processing-order.md determines optimal parameter-mapping.md strategies\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eProfessional Foundation\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003eArchitecture understanding is prerequisite for professional Integration techniques\u003c/p\u003e","","\u003ch5\u003e**Architecture  Advanced Development**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Points\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eMulti-File Architecture\u003c/strong\u003e: memory-model.md  multi-file-projects.md (scaling architecture principles)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSafety Architecture\u003c/strong\u003e: control-flow.md  real-time-safety.md (architectural real-time safety)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDebug Architecture\u003c/strong\u003e: types-and-operators.md  debugging-techniques.md (type-aware debugging)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eEnterprise Architecture\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003eSystem Architecture principles scale to Advanced Development complexity\u003c/p\u003e","","\u003ch5\u003e**Architecture  Language Reference**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Points\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eMemory Architecture\u003c/strong\u003e: memory-model.md  advanced-memory-management.md (complete memory mastery)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eType Architecture\u003c/strong\u003e: types-and-operators.md  language-syntax-reference.md (complete type understanding)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eGlobal Architecture\u003c/strong\u003e: All Architecture docs  global-variables.md (system-wide state management)\u003c/li\u003e","","\u003ch4\u003e**Integration \u0026 Control  Advanced Development**\u003c/h4\u003e","","\u003ch5\u003e**External Control Integration**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Points\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eProfessional MIDI\u003c/strong\u003e: midi-learn.md  midi-sync.md (basic  professional MIDI integration)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eModulation Systems\u003c/strong\u003e: parameter-morphing.md  modulation-ready.md (parameter  modulation control)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eEnterprise Integration\u003c/strong\u003e: preset-system.md  multi-file-projects.md (scaling integration complexity)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eProfessional Progression\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003eIntegration \u0026amp; Control provides foundation, Advanced Development provides professional implementation\u003c/p\u003e","","\u003ch5\u003e**State Management Integration**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Points\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eAdvanced State\u003c/strong\u003e: state-recall.md  real-time-safety.md (safe state management)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProfessional Presets\u003c/strong\u003e: preset-friendly.md  utility-functions.md (preset development tools)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDebug Integration\u003c/strong\u003e: core-functions.md  debugging-techniques.md (API debugging)\u003c/li\u003e","","\u003ch4\u003e**Language Reference  All Themes**\u003c/h4\u003e","","\u003ch5\u003e**Language Enables All Professional Techniques**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eFoundation Integration\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003ePerformance Language\u003c/strong\u003e: All Performance docs optimized through language-syntax-reference.md\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eArchitecture Language\u003c/strong\u003e: advanced-memory-management.md enables sophisticated Architecture patterns\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eIntegration Language\u003c/strong\u003e: metaprogramming-constructs.md enables flexible Integration patterns\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAdvanced Language\u003c/strong\u003e: All Language Reference supports Advanced Development complexity\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eProfessional Language Usage\u003c/strong\u003e:\u003c/p\u003e","\u003cp\u003eComplete Language Reference enables optimal implementation of all professional techniques across all themes\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **CONTENT BY COMPLEXITY PROGRESSION**\u003c/h3\u003e","","\u003ch4\u003e**Level 1: Essential Foundation (Week 1-2)**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eMust-Have Knowledge\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eQUICKSTART.md\u003c/strong\u003e - Immediate success and confidence\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ecore_language_reference.md\u003c/strong\u003e - Essential language subset\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003emake-a-delay.md\u003c/strong\u003e - First real audio effect\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eread-knobs.md\u003c/strong\u003e - Basic user interface\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003econtrol-leds.md\u003c/strong\u003e - Visual feedback basics\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eValidation\u003c/strong\u003e: Can create simple working plugins with basic controls\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTime Investment\u003c/strong\u003e: 10-20 hours\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eNext Level Readiness\u003c/strong\u003e: Comfortable with basic development workflow\u003c/p\u003e","","\u003ch4\u003e**Level 2: Development Competency (Week 2-4)**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eBuilding Practical Skills\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eparameters_reference.md\u003c/strong\u003e - Professional parameter handling\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eaudio_processing_reference.md\u003c/strong\u003e - Audio quality understanding\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ebuild-your-first-filter.md\u003c/strong\u003e - Step-by-step DSP development\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eadd-controls-to-effects.md\u003c/strong\u003e - Control system integration\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003edebug-your-plugin.md\u003c/strong\u003e - Essential debugging methodology\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eValidation\u003c/strong\u003e: Can create working audio effects with proper controls and debugging capability\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTime Investment\u003c/strong\u003e: 20-30 hours\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eNext Level Readiness\u003c/strong\u003e: Confident with basic plugin development\u003c/p\u003e","","\u003ch4\u003e**Level 3: System Understanding (Week 4-6)**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eArchitectural Knowledge\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eprocessing-order.md\u003c/strong\u003e - System processing understanding\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003estate-management.md\u003c/strong\u003e - Professional state handling\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003etypes-and-operators.md\u003c/strong\u003e - Data type mastery\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ememory-layout.md\u003c/strong\u003e - Memory organization understanding\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003emod-vs-full.md\u003c/strong\u003e - Architectural decision making\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eValidation\u003c/strong\u003e: Understands system architecture and can make informed design decisions\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTime Investment\u003c/strong\u003e: 15-25 hours\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eNext Level Readiness\u003c/strong\u003e: Ready for performance optimization and advanced techniques\u003c/p\u003e","","\u003ch4\u003e**Level 4: Professional Development (Week 6-10)**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003ePerformance and Integration\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eoptimization-basics.md\u003c/strong\u003e  \u003cstrong\u003elookup-tables.md\u003c/strong\u003e  \u003cstrong\u003efixed-point.md\u003c/strong\u003e (Performance foundation)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003epreset-system.md\u003c/strong\u003e  \u003cstrong\u003eparameter-mapping.md\u003c/strong\u003e  \u003cstrong\u003emidi-learn.md\u003c/strong\u003e (Integration foundation)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAdvanced cookbook recipes\u003c/strong\u003e (granular-synthesis.md, waveshaper-distortion.md)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003etest-your-plugin.md\u003c/strong\u003e - Quality assurance methodology\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eValidation\u003c/strong\u003e: Can create optimized, professionally integrated plugins\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTime Investment\u003c/strong\u003e: 30-50 hours\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eNext Level Readiness\u003c/strong\u003e: Ready for enterprise-level development\u003c/p\u003e","","\u003ch4\u003e**Level 5: Advanced Professional (Week 10-16)**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eEnterprise Capabilities\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eComplete Performance theme\u003c/strong\u003e (memory-patterns.md, efficient-math.md, memory-access.md, batch-processing.md)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eComplete Integration theme\u003c/strong\u003e (parameter-morphing.md, preset-friendly.md, core-functions.md)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAdvanced Development foundation\u003c/strong\u003e (real-time-safety.md, multi-file-projects.md)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLanguage Reference foundation\u003c/strong\u003e (language-syntax-reference.md, standard-library-reference.md)\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eValidation\u003c/strong\u003e: Can lead plugin development with performance and integration expertise\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTime Investment\u003c/strong\u003e: 50-80 hours\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eNext Level Readiness\u003c/strong\u003e: Ready for enterprise development and language mastery\u003c/p\u003e","","\u003ch4\u003e**Level 6: Enterprise Development (Week 16-24)**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eMaster-Level Capabilities\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eComplete Advanced Development theme\u003c/strong\u003e (modulation-ready.md, midi-sync.md, build-directives.md, utility-functions.md, debugging-techniques.md)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eComplete Language Reference theme\u003c/strong\u003e (global-variables.md, custom-build-tools.md, advanced-memory-management.md, metaprogramming-constructs.md)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProfessional workflow integration\u003c/strong\u003e across all themes\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eValidation\u003c/strong\u003e: Can architect complex firmware systems and mentor development teams\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTime Investment\u003c/strong\u003e: 60-100 hours\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eNext Level Readiness\u003c/strong\u003e: Master-level expertise ready for assembly optimization and system-level work\u003c/p\u003e","","\u003ch4\u003e**Level 7: Master Expertise (Ongoing)**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eSystem-Level Mastery\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eAssembly \u0026amp; Advanced theme\u003c/strong\u003e (Future: Sessions 19a-19c)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCustom optimization techniques\u003c/strong\u003e and algorithm development\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTeam leadership\u003c/strong\u003e and knowledge sharing\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eEcosystem contribution\u003c/strong\u003e and advanced research\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eProfessional Impact\u003c/strong\u003e: Can lead firmware development organizations and contribute to firmware development ecosystem\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **ADVANCED NAVIGATION PATTERNS**\u003c/h3\u003e","","\u003ch4\u003e**Use Case Navigation Matrix**\u003c/h4\u003e","","\u003ch5\u003e**Audio Effect Development**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eBasic Effects\u003c/strong\u003e: make-a-delay.md  build-your-first-filter.md  Advanced cookbook recipes\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eEffect Optimization\u003c/strong\u003e: Audio basics  Performance theme  Advanced Development\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eEffect Integration\u003c/strong\u003e: Basic effects  Integration theme  Professional deployment\u003c/p\u003e","","\u003ch5\u003e**Parameter Control Development**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eBasic Control\u003c/strong\u003e: read-knobs.md  parameters_reference.md  parameter-mapping.md\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eAdvanced Control\u003c/strong\u003e: Basic control  parameter-morphing.md  modulation-ready.md\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Control\u003c/strong\u003e: Advanced control  Integration theme  Enterprise Development\u003c/p\u003e","","\u003ch5\u003e**Performance-Critical Development**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003ePerformance Analysis\u003c/strong\u003e: optimization-basics.md  Performance theme  real-time-safety.md\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eMemory Optimization\u003c/strong\u003e: memory_management.md  memory-patterns.md  memory-access.md  advanced-memory-management.md\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eMathematical Optimization\u003c/strong\u003e: lookup-tables.md  fixed-point.md  efficient-math.md\u003c/p\u003e","","\u003ch5\u003e**Enterprise Development**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProject Architecture\u003c/strong\u003e: architecture_patterns.md  multi-file-projects.md  metaprogramming-constructs.md\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Workflow\u003c/strong\u003e: custom-build-tools.md  debugging-techniques.md  Advanced Development theme\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTeam Development\u003c/strong\u003e: All themes integrated through Language Reference professional workflows\u003c/p\u003e","","\u003ch4\u003e**Problem-Solution Navigation**\u003c/h4\u003e","","\u003ch5\u003e**Performance Problems**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eCPU Usage\u003c/strong\u003e: optimization-basics.md  Performance theme (prioritized by measurement)\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eMemory Usage\u003c/strong\u003e: memory_management.md  memory-patterns.md  advanced-memory-management.md\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eReal-Time Violations\u003c/strong\u003e: real-time-safety.md  Performance theme  Advanced Development\u003c/p\u003e","","\u003ch5\u003e**Integration Problems**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eHost Compatibility\u003c/strong\u003e: parameter-mapping.md  Integration theme  core-functions.md\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eMIDI Integration\u003c/strong\u003e: midi-learn.md  midi-sync.md  modulation-ready.md\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003ePreset Systems\u003c/strong\u003e: preset-system.md  preset-friendly.md  state-recall.md\u003c/p\u003e","","\u003ch5\u003e**Development Problems**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eCode Organization\u003c/strong\u003e: architecture_patterns.md  multi-file-projects.md  Advanced Development\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eDebugging Challenges\u003c/strong\u003e: debug-your-plugin.md  debugging-techniques.md  utility-functions.md\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eBuild Issues\u003c/strong\u003e: custom-build-tools.md  build-directives.md  Language Reference\u003c/p\u003e","","\u003ch4\u003e**Skill Development Paths**\u003c/h4\u003e","","\u003ch5\u003e**Audio Engineer  Firmware Developer**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eAudio Foundation\u003c/strong\u003e: audio_processing_reference.md  Basic cookbook  Advanced cookbook\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSystem Understanding\u003c/strong\u003e: System Architecture theme  Performance optimization\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Skills\u003c/strong\u003e: Integration theme  Advanced Development theme\u003c/p\u003e","","\u003ch5\u003e**Software Developer  Audio Firmware**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eAudio Concepts\u003c/strong\u003e: QUICKSTART.md  audio_processing_reference.md  Basic cookbook\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eReal-Time Understanding\u003c/strong\u003e: timing_reference.md  real-time-safety.md  Performance theme\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eDomain Integration\u003c/strong\u003e: Integration theme  Advanced Development theme\u003c/p\u003e","","\u003ch5\u003e**Firmware Developer  Audio Specialist**\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eAudio DSP\u003c/strong\u003e: Basic cookbook  Advanced cookbook  Performance optimization\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Audio\u003c/strong\u003e: Integration theme  Advanced Development theme\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eExpert Level\u003c/strong\u003e: Complete Language Reference  Assembly \u0026amp; Advanced (Future)\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **MASTER CONTENT ORGANIZATION**\u003c/h3\u003e","","\u003ch4\u003e**Complete Documentation Status**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eThemes Complete\u003c/strong\u003e: 5 of 6 major themes (83% complete)\u003c/p\u003e","\u003cli\u003e \u003cstrong\u003ePerformance \u0026amp; Optimization\u003c/strong\u003e (9 docs) - Complete professional performance engineering\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eSystem Architecture\u003c/strong\u003e (7 docs) - Complete system understanding\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eIntegration \u0026amp; Control\u003c/strong\u003e (6 docs) - Complete external integration\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eAdvanced Development\u003c/strong\u003e (7 docs) - Complete enterprise development\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eLanguage Reference\u003c/strong\u003e (6 docs) - Complete language mastery\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eAssembly \u0026amp; Advanced\u003c/strong\u003e (Future: 3 docs) - Only remaining technical area\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eFoundation Complete\u003c/strong\u003e: All essential materials available\u003c/p\u003e","\u003cli\u003e \u003cstrong\u003eGetting Started\u003c/strong\u003e (QUICKSTART + core language)\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eBasic Development\u003c/strong\u003e (Parameters, audio, timing, memory)\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eLearning Bridge\u003c/strong\u003e (Step-by-step tutorials + cookbook recipes)\u003c/li\u003e","\u003cli\u003e \u003cstrong\u003eProfessional Foundation\u003c/strong\u003e (All prerequisite knowledge available)\u003c/li\u003e","","\u003ch4\u003e**Word Count and Scope**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eCurrent Documentation\u003c/strong\u003e: 44,000+ words across 50+ documents\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Examples\u003c/strong\u003e: 750+ working code implementations\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eCoverage Scope\u003c/strong\u003e: Complete firmware development ecosystem\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eQuality Level\u003c/strong\u003e: Enterprise-grade with quantified performance improvements\u003c/p\u003e","","\u003ch4\u003e**Remaining Work**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eSessions Remaining\u003c/strong\u003e: 4 focused sessions to complete project\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eSession 19a\u003c/strong\u003e: gazl-assembly-introduction.md (Assembly basics)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSession 19b\u003c/strong\u003e: impala-gazl-integration.md (Mixed language development)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSession 19c\u003c/strong\u003e: assembly-optimization-patterns.md (Assembly optimization)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSession 20\u003c/strong\u003e: Basic HTML navigation system\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eFinal Project Scope\u003c/strong\u003e: ~60,000 words, complete professional firmware development documentation\u003c/p\u003e","","\u003ch4\u003e**Project Impact Assessment**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eDevelopment Time Savings\u003c/strong\u003e: Months to years of learning and development time\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Quality\u003c/strong\u003e: Commercial-grade documentation with quantified improvements\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eEcosystem Completeness\u003c/strong\u003e: Complete development pathway from beginner to master\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Capability\u003c/strong\u003e: Enterprise-level firmware development skills\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **CONTENT MAINTENANCE AND UPDATES**\u003c/h3\u003e","","\u003ch4\u003e**Living Documentation Approach**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eRegular Updates\u003c/strong\u003e: Documentation designed for ongoing improvement and expansion\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eCommunity Integration\u003c/strong\u003e: Framework for community contributions and knowledge sharing\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eVersion Management\u003c/strong\u003e: Structured approach to documentation versioning and compatibility\u003c/p\u003e","","\u003ch4\u003e**Quality Assurance**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eExample Validation\u003c/strong\u003e: All code examples tested and validated for correctness\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003ePerformance Verification\u003c/strong\u003e: All performance claims backed by measurement and testing\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Review\u003c/strong\u003e: Enterprise-level documentation quality standards maintained\u003c/p\u003e","","\u003ch4\u003e**Expansion Framework**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eNew Theme Integration\u003c/strong\u003e: Framework established for adding new themes (Assembly \u0026amp; Advanced)\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eAdvanced Topics\u003c/strong\u003e: Structure supporting advanced topics and specialized development areas\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Development\u003c/strong\u003e: Pathway for ongoing professional skill development\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **FINAL NAVIGATION SUMMARY**\u003c/h3\u003e","","\u003ch4\u003e**Quick Start Navigation**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eNew Users\u003c/strong\u003e: QUICKSTART.md  Module 1 (\"I want to...\" scenarios)  Foundation materials\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eReturning Users\u003c/strong\u003e: Module 2 (Theme documentation)  Module 3 (Language Reference)  Module 4 (This module)\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eExpert Users\u003c/strong\u003e: Direct theme access  Cross-reference integration  Advanced navigation patterns\u003c/p\u003e","","\u003ch4\u003e**Problem-Solving Navigation**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eImmediate Problems\u003c/strong\u003e: Troubleshooting section (this module)  Specific document sections\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eDevelopment Problems\u003c/strong\u003e: Use case scenarios (Module 1)  Theme progression (Module 2)\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLearning Problems\u003c/strong\u003e: Learning progression paths  Foundation to Professional bridges\u003c/p\u003e","","\u003ch4\u003e**Professional Development Navigation**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eSkill Building\u003c/strong\u003e: Complexity progression (Level 1-7)  Theme integration  Master expertise\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eEnterprise Development\u003c/strong\u003e: Advanced Development theme  Language Reference  Professional workflows\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTeam Leadership\u003c/strong\u003e: Complete theme mastery  Advanced navigation patterns  Ecosystem contribution\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003cp\u003e\u003cem\u003eThis completes Module 4 of 4 in the complete content index system. The four modules together provide comprehensive navigation for all 44,000+ words of professional firmware development documentation.\u003c/em\u003e\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMaster Index System Complete\u003c/strong\u003e: 4 modules providing complete navigation and discovery\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Development Path\u003c/strong\u003e: Clear progression from beginner to master expertise\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eEnterprise Documentation\u003c/strong\u003e: Complete ecosystem supporting professional firmware development teams\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **COMPLETE INDEX SYSTEM SUMMARY**\u003c/h3\u003e","","\u003ch4\u003e**Module Integration Overview**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eModule 1\u003c/strong\u003e: Navigation \u0026amp; Use Cases (Quick start, \"I want to...\" scenarios, learning paths)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eModule 2\u003c/strong\u003e: Theme Documentation (Performance, Architecture, Integration, Advanced Development)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eModule 3\u003c/strong\u003e: Language \u0026amp; Foundation (Language Reference, essential foundation, learning materials)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eModule 4\u003c/strong\u003e: Cross-References \u0026amp; Advanced Navigation (Troubleshooting, integration, complexity progression)\u003c/li\u003e","","\u003ch4\u003e**Total System Scope**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eDocuments Indexed\u003c/strong\u003e: 50+ comprehensive documents\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eWord Count\u003c/strong\u003e: 44,000+ words of professional documentation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCode Examples\u003c/strong\u003e: 750+ working implementations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDevelopment Scope\u003c/strong\u003e: Complete firmware development ecosystem\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProfessional Impact\u003c/strong\u003e: Enterprise-level capability development\u003c/li\u003e","","\u003ch4\u003e**Usage Instructions**\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003eJoin all 4 modules\u003c/strong\u003e into single master-content-index.md file\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003eStart with Module 1\u003c/strong\u003e for quick navigation and use case scenarios\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003eUse Module 2\u003c/strong\u003e for detailed theme documentation and professional development\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003eReference Module 3\u003c/strong\u003e for language mastery and foundation materials\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003eApply Module 4\u003c/strong\u003e for troubleshooting, cross-references, and advanced navigation\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eResult\u003c/strong\u003e: Complete master content index enabling efficient discovery and navigation of professional firmware development documentation ecosystem.\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-67\" class=\"doc-section\"\u003e","\u003ch1\u003e67. Themes\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/index/themes.md\u003c/div\u003e","","\u003ch2\u003eTheme Documentation Index - Module 2\u003c/h2\u003e","\u003ch3\u003ePerformance, Architecture, Integration \u0026 Advanced Development\u003c/h3\u003e","","\u003cp\u003e\u003cem\u003ePart 2 of 4 - Major Theme Documentation (Sessions 14-17)\u003c/em\u003e\u003c/p\u003e","","\u003ch4\u003e **THEME OVERVIEW**\u003c/h4\u003e","","\u003cp\u003eThis module covers the four major professional development themes that transform basic firmware skills into enterprise-level capabilities:\u003c/p\u003e","","\u003cli\u003e\u003cstrong\u003ePerformance \u0026amp; Optimization\u003c/strong\u003e (9 documents) - Make code 300-5000% faster\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSystem Architecture\u003c/strong\u003e (7 documents) - Deep system understanding\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eIntegration \u0026amp; Control\u003c/strong\u003e (6 documents) - Professional external integration\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAdvanced Development\u003c/strong\u003e (7 documents) - Enterprise development techniques\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eTotal Coverage\u003c/strong\u003e: 29 documents, 33,100+ words, 250+ code examples\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eDevelopment Impact\u003c/strong\u003e: Complete transition from beginner to professional firmware engineer\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **PERFORMANCE \u0026 OPTIMIZATION THEME**\u003c/h3\u003e","\u003cp\u003e\u003cem\u003eSessions 14a-14c: 9 Documents, Quantified 300-5000% Improvements\u003c/em\u003e\u003c/p\u003e","","\u003ch4\u003e**Theme Purpose**\u003c/h4\u003e","\u003cp\u003eTransform CPU-intensive firmware into optimized, real-time safe code through systematic performance engineering. Every technique includes cycle-accurate measurements and quantified improvements.\u003c/p\u003e","","\u003ch4\u003e** PERFORMANCE FOUNDATION (Session 14a)**\u003c/h4\u003e","","\u003ch5\u003e**batch-processing.md** (3,200 words, 15+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Function call overhead and cache inefficiency\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTechnique\u003c/strong\u003e: Process multiple samples in single function calls\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003ePerformance Gain\u003c/strong\u003e: 2-4x improvement (150-300% speedup)\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eBatch delay line processing (4 samples per call)\u003c/li\u003e","\u003cli\u003eLoop unrolling for consistent timing\u003c/li\u003e","\u003cli\u003eCache-friendly data access patterns\u003c/li\u003e","\u003cli\u003eReduced function call overhead from 50+ cycles to 15+ cycles per batch\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Stereo delay with batch processing reducing CPU by 60%\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eReal-Time Benefit\u003c/strong\u003e: Consistent performance under varying load conditions\u003c/p\u003e","","\u003ch5\u003e**lookup-tables.md** (4,100 words, 20+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Expensive mathematical computations (sin, exp, log)\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTechnique\u003c/strong\u003e: Pre-calculated table approximations with interpolation\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003ePerformance Gain\u003c/strong\u003e: 10-50x improvement (1000-5000% speedup)\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eLinear interpolation for smooth transitions\u003c/li\u003e","\u003cli\u003ePower-of-2 table sizing for efficient indexing\u003c/li\u003e","\u003cli\u003eRange-specific optimization (audio vs control rate)\u003c/li\u003e","\u003cli\u003eMemory vs accuracy trade-offs\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Sine wave oscillator with 99.9% accuracy at 40x speed improvement\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eReal-Time Benefit\u003c/strong\u003e: Mathematical functions become single-cycle operations\u003c/p\u003e","","\u003ch5\u003e**fixed-point.md** (3,900 words, 18+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Floating-point arithmetic overhead on integer processors\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTechnique\u003c/strong\u003e: Q15/Q12 fixed-point arithmetic with overflow protection\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003ePerformance Gain\u003c/strong\u003e: 5-20x improvement (400-2000% speedup)\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eQ15 format for audio samples (-1.0 to +1.0 range)\u003c/li\u003e","\u003cli\u003eQ12 format for extended parameter ranges\u003c/li\u003e","\u003cli\u003e64-bit intermediate calculations preventing overflow\u003c/li\u003e","\u003cli\u003eBit-shift operations replacing division\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Crossfading mixer with 16.16 fixed-point precision\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eReal-Time Benefit\u003c/strong\u003e: Deterministic arithmetic performance without floating-point unit\u003c/p\u003e","","\u003ch5\u003e**memory-patterns.md** (3,800 words, 16+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Inefficient memory layouts causing cache misses\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTechnique\u003c/strong\u003e: Cache-aware data structures and access patterns\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003ePerformance Gain\u003c/strong\u003e: 200-500% improvement through cache optimization\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eSequential vs random access optimization (1 vs 3-5 cycles per sample)\u003c/li\u003e","\u003cli\u003ePower-of-2 buffer sizing with masking operations\u003c/li\u003e","\u003cli\u003eMemory pool allocation preventing fragmentation\u003c/li\u003e","\u003cli\u003eInterleaved vs separate stereo channel organization\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Delay line with circular buffer masking achieving single-cycle access\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eReal-Time Benefit\u003c/strong\u003e: Predictable memory access timing under all conditions\u003c/p\u003e","","\u003ch4\u003e** PERFORMANCE ADVANCED (Session 14b)**\u003c/h4\u003e","","\u003ch5\u003e**efficient-math.md** (4,500 words, 25+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Mathematical operations consuming excessive CPU cycles\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTechnique\u003c/strong\u003e: ARM Cortex-M4 specific optimizations and fast approximations\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003ePerformance Gain\u003c/strong\u003e: 50-80% reduction in mathematical processing overhead\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003ePolynomial sine approximation (99.9% accuracy, 4x speed)\u003c/li\u003e","\u003cli\u003eBitwise power-of-2 operations (single-cycle divisions)\u003c/li\u003e","\u003cli\u003eARM cycle counter integration for measurement\u003c/li\u003e","\u003cli\u003eSIMD processing for parallel operations\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Sine oscillator with polynomial approximation achieving 4x speedup\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eReal-Time Benefit\u003c/strong\u003e: Complex mathematical operations within real-time budgets\u003c/p\u003e","","\u003ch5\u003e**memory-access.md** (4,100 words, 20+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Memory access patterns causing cache misses and stalls\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTechnique\u003c/strong\u003e: Cache architecture optimization and memory hierarchy usage\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003ePerformance Gain\u003c/strong\u003e: 30-50% improvement in memory-intensive operations\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eSequential vs random access performance analysis\u003c/li\u003e","\u003cli\u003eData structure optimization for cache lines\u003c/li\u003e","\u003cli\u003eMemory pool allocation strategies\u003c/li\u003e","\u003cli\u003eSRAM, Flash, and Cache utilization optimization\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Stereo delay with cache-optimized buffer organization\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eReal-Time Benefit\u003c/strong\u003e: Consistent memory performance regardless of access patterns\u003c/p\u003e","","\u003ch4\u003e** PERFORMANCE MASTERY (Session 14c)**\u003c/h4\u003e","","\u003ch5\u003e**optimization-basics.md** (4,200 words, 22+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Identifying performance bottlenecks and measuring improvements\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eTechnique\u003c/strong\u003e: Systematic profiling, bottleneck identification, and optimization methodology\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003ePerformance Gain\u003c/strong\u003e: Framework for achieving 300-5000% improvements systematically\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eARM DWT cycle counter integration for accurate measurement\u003c/li\u003e","\u003cli\u003eBottleneck identification using profiling techniques\u003c/li\u003e","\u003cli\u003eOptimization priority matrix (impact vs effort)\u003c/li\u003e","\u003cli\u003ePerformance regression testing frameworks\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Complete optimization workflow from profiling to validation\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eReal-Time Benefit\u003c/strong\u003e: Systematic approach ensuring optimizations provide real-world improvements\u003c/p\u003e","","\u003ch4\u003e** Performance Theme Integration**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eLearning Path\u003c/strong\u003e: optimization-basics  lookup-tables/fixed-point  memory-patterns  efficient-math  memory-access  batch-processing\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Progression\u003c/strong\u003e: Measurement  Core techniques  Advanced optimization  System-level tuning\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eExpected Outcome\u003c/strong\u003e: 300-5000% performance improvements with cycle-accurate validation\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e锔 **SYSTEM ARCHITECTURE THEME**\u003c/h3\u003e","\u003cp\u003e\u003cem\u003eSessions 15a-15c: 7 Documents, Complete System Understanding\u003c/em\u003e\u003c/p\u003e","","\u003ch4\u003e**Theme Purpose**\u003c/h4\u003e","\u003cp\u003eEstablish deep understanding of Permut8 processing architecture, memory models, and system behavior. Foundation for all advanced development work.\u003c/p\u003e","","\u003ch4\u003e** ARCHITECTURE FOUNDATION (Session 15a)**\u003c/h4\u003e","","\u003ch5\u003e**processing-order.md** (3,800 words, 18+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Confusion about when code executes and sample flow\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Complete understanding of Permut8 processing pipeline\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eSample-by-sample vs block processing models\u003c/li\u003e","\u003cli\u003eoperate1/operate2 timing for mod patches\u003c/li\u003e","\u003cli\u003eprocess() execution flow for full patches\u003c/li\u003e","\u003cli\u003eInterrupt handling and real-time guarantees\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Timing-critical effects with precise sample synchronization\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSystem Benefit\u003c/strong\u003e: Confident real-time programming with predictable execution timing\u003c/p\u003e","","\u003ch5\u003e**state-management.md** (4,200 words, 20+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Parameter changes causing audio artifacts or instability\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Professional state management preventing audio glitches\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eParameter smoothing techniques preventing zipper noise\u003c/li\u003e","\u003cli\u003eState consistency across parameter changes\u003c/li\u003e","\u003cli\u003eAtomic operations for thread-safe updates\u003c/li\u003e","\u003cli\u003eState validation and error recovery\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Parameter smoothing system eliminating audio artifacts\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSystem Benefit\u003c/strong\u003e: Professional-quality parameter handling rivaling commercial plugins\u003c/p\u003e","","\u003ch5\u003e**types-and-operators.md** (4,100 words, 19+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Data type confusion and inappropriate operator usage\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Complete mastery of Impala type system and audio math\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eFixed-point vs floating-point usage patterns\u003c/li\u003e","\u003cli\u003eAudio sample representation and range management\u003c/li\u003e","\u003cli\u003eBit manipulation for parameter scaling\u003c/li\u003e","\u003cli\u003eType conversion best practices\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Sample-accurate audio processing with proper type handling\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSystem Benefit\u003c/strong\u003e: Bug-free audio processing with optimal performance characteristics\u003c/p\u003e","","\u003ch5\u003e**control-flow.md** (3,700 words, 17+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Inefficient loops and conditional execution in real-time code\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Real-time safe control structures and branching\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eReal-time safe loop constructs\u003c/li\u003e","\u003cli\u003eConditional execution minimizing worst-case timing\u003c/li\u003e","\u003cli\u003eFunction call overhead management\u003c/li\u003e","\u003cli\u003eCooperative multitasking with yield()\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Real-time safe sample processing with guaranteed timing\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSystem Benefit\u003c/strong\u003e: Deterministic execution performance meeting real-time deadlines\u003c/p\u003e","","\u003ch4\u003e**锔 ARCHITECTURE DECISIONS (Session 15b)**\u003c/h4\u003e","","\u003ch5\u003e**mod-vs-full.md** (4,400 words, 25+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Choosing appropriate patch type for specific applications\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Strategic decision-making for patch architecture\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eMod patch: operator replacement, memory positions, operate1/2()\u003c/li\u003e","\u003cli\u003eFull patch: complete engine replacement, raw samples, process()\u003c/li\u003e","\u003cli\u003ePerformance implications and memory usage patterns\u003c/li\u003e","\u003cli\u003eUse case decision matrix\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Identical effect implemented as both mod and full patch\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSystem Benefit\u003c/strong\u003e: Optimal patch type selection maximizing performance and functionality\u003c/p\u003e","","\u003ch5\u003e**memory-layout.md** (4,300 words, 21+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Inefficient memory organization and buffer management\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Professional memory layout design for audio applications\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eDelay line organization and circular buffer management\u003c/li\u003e","\u003cli\u003eAudio buffer alignment and cache optimization\u003c/li\u003e","\u003cli\u003eParameter storage and access patterns\u003c/li\u003e","\u003cli\u003eMemory fragmentation prevention\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Multi-delay effect with optimized memory layout\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSystem Benefit\u003c/strong\u003e: Efficient memory usage enabling complex effects within memory constraints\u003c/p\u003e","","\u003ch4\u003e** ARCHITECTURE MASTERY (Session 15c)**\u003c/h4\u003e","","\u003ch5\u003e**memory-model.md** (6,200 words, 35+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Complex memory management and advanced allocation strategies\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Complete mastery of Impala memory management system\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eStack vs heap allocation strategies\u003c/li\u003e","\u003cli\u003eDynamic memory management in real-time contexts\u003c/li\u003e","\u003cli\u003eMemory pool design and allocation algorithms\u003c/li\u003e","\u003cli\u003eGarbage collection avoidance techniques\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Complex multi-effect plugin with sophisticated memory management\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSystem Benefit\u003c/strong\u003e: Enterprise-level memory management enabling complex firmware architecture\u003c/p\u003e","","\u003ch4\u003e** Architecture Theme Integration**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eLearning Path\u003c/strong\u003e: processing-order  state-management  types-and-operators  control-flow  mod-vs-full  memory-layout  memory-model\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Progression\u003c/strong\u003e: Basic understanding  Professional patterns  Advanced memory management\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eExpected Outcome\u003c/strong\u003e: Deep system knowledge enabling confident advanced development\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **INTEGRATION \u0026 CONTROL THEME**\u003c/h3\u003e","\u003cp\u003e\u003cem\u003eSessions 16a-16c: 6 Documents, Professional External Integration\u003c/em\u003e\u003c/p\u003e","","\u003ch4\u003e**Theme Purpose**\u003c/h4\u003e","\u003cp\u003eEnable professional plugin integration with DAWs, hardware controllers, and preset systems. Transform isolated plugins into professionally integrated instruments.\u003c/p\u003e","","\u003ch4\u003e**锔 INTEGRATION FOUNDATION (Session 16a)**\u003c/h4\u003e","","\u003ch5\u003e**preset-system.md** (3,600 words, 18+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Unreliable plugin state saving and loading\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Gained\u003c/strong\u003e: Professional preset handling with validation\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eComplete state serialization and deserialization\u003c/li\u003e","\u003cli\u003ePreset validation preventing corrupted states\u003c/li\u003e","\u003cli\u003eVersion compatibility and migration strategies\u003c/li\u003e","\u003cli\u003eError recovery for damaged preset data\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Complete preset system with validation and error handling\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Benefit\u003c/strong\u003e: Professional preset functionality matching commercial plugin standards\u003c/p\u003e","","\u003ch5\u003e**midi-learn.md** (3,900 words, 20+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Static parameter control limiting expressive performance\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Gained\u003c/strong\u003e: Dynamic real-time parameter mapping to MIDI controllers\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eReal-time MIDI controller assignment\u003c/li\u003e","\u003cli\u003eParameter range mapping and scaling\u003c/li\u003e","\u003cli\u003eMIDI learn workflow integration\u003c/li\u003e","\u003cli\u003eMultiple controller handling and conflict resolution\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Dynamic parameter mapping system with real-time assignment\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Benefit\u003c/strong\u003e: Expressive real-time control rivaling professional hardware\u003c/p\u003e","","\u003ch5\u003e**parameter-morphing.md** (4,100 words, 22+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Abrupt parameter changes causing musical discontinuities\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Gained\u003c/strong\u003e: Smooth parameter transitions and advanced interpolation\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eMulti-parameter morphing with crossfading\u003c/li\u003e","\u003cli\u003eTemporal parameter automation\u003c/li\u003e","\u003cli\u003eSpline interpolation for smooth transitions\u003c/li\u003e","\u003cli\u003eGesture-based parameter control\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Multi-parameter morphing system for expressive control\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Benefit\u003c/strong\u003e: Musical parameter control enabling expressive performance\u003c/p\u003e","","\u003ch5\u003e**state-recall.md** (3,800 words, 19+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Inconsistent plugin behavior across sessions\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Gained\u003c/strong\u003e: Reliable state management and session continuity\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eComplete state capture and restoration\u003c/li\u003e","\u003cli\u003eSession-specific vs global state management\u003c/li\u003e","\u003cli\u003eState change tracking and undo functionality\u003c/li\u003e","\u003cli\u003eRecovery from invalid states\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Complete state management system with undo capability\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Benefit\u003c/strong\u003e: Professional session management with reliable state continuity\u003c/p\u003e","","\u003ch4\u003e** INTEGRATION PROFESSIONAL (Session 16b)**\u003c/h4\u003e","","\u003ch5\u003e**parameter-mapping.md** (2,900 words, 15+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Poor parameter design limiting host integration and usability\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Gained\u003c/strong\u003e: Professional parameter design for optimal host compatibility\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eStandard parameter types (continuous, frequency, time, level)\u003c/li\u003e","\u003cli\u003eHost automation compatibility and scaling\u003c/li\u003e","\u003cli\u003eParameter validation and range management\u003c/li\u003e","\u003cli\u003eMusical parameter response curves\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Professional parameter mapping with host automation support\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Benefit\u003c/strong\u003e: Seamless DAW integration with intuitive parameter behavior\u003c/p\u003e","","\u003ch5\u003e**preset-friendly.md** (3,100 words, 20+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Plugins that work poorly with preset systems\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Gained\u003c/strong\u003e: Plugin design optimized for preset workflow compatibility\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003ePreset-aware parameter design\u003c/li\u003e","\u003cli\u003eState consistency across preset changes\u003c/li\u003e","\u003cli\u003ePreset morphing and interpolation support\u003c/li\u003e","\u003cli\u003ePreset management workflow optimization\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Preset-optimized plugin design with smooth transitions\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Benefit\u003c/strong\u003e: Professional preset integration enabling creative workflow enhancement\u003c/p\u003e","","\u003ch4\u003e** INTEGRATION MASTERY (Session 16c)**\u003c/h4\u003e","","\u003ch5\u003e**core-functions.md** (4,800 words, 28+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Limited understanding of available system APIs\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Gained\u003c/strong\u003e: Complete API mastery for advanced system integration\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eComplete core function reference with usage patterns\u003c/li\u003e","\u003cli\u003eSystem integration techniques and best practices\u003c/li\u003e","\u003cli\u003eAdvanced API usage for complex functionality\u003c/li\u003e","\u003cli\u003ePerformance considerations for API calls\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Advanced plugin utilizing complete system API capabilities\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eIntegration Benefit\u003c/strong\u003e: Full system capability utilization for professional functionality\u003c/p\u003e","","\u003ch4\u003e** Integration Theme Integration**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eLearning Path\u003c/strong\u003e: preset-system  midi-learn  parameter-morphing  state-recall  parameter-mapping  preset-friendly  core-functions\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Progression\u003c/strong\u003e: Basic integration  Professional patterns  Complete API mastery\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eExpected Outcome\u003c/strong\u003e: Professional external integration capabilities matching commercial plugin standards\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **ADVANCED DEVELOPMENT THEME**\u003c/h3\u003e","\u003cp\u003e\u003cem\u003eSessions 17a-17c: 7 Documents, Enterprise Development Techniques\u003c/em\u003e\u003c/p\u003e","","\u003ch4\u003e**Theme Purpose**\u003c/h4\u003e","\u003cp\u003eEstablish enterprise-level development capabilities including external control integration, real-time safety guarantees, complex project organization, and professional debugging methodology.\u003c/p\u003e","","\u003ch4\u003e** ADVANCED FOUNDATION (Session 17a)**\u003c/h4\u003e","","\u003ch5\u003e**modulation-ready.md** (3,200 words, 15+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Limited external control and modulation capabilities\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eCapability Gained\u003c/strong\u003e: Professional external control integration with CV/MIDI\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eModulation matrix design and implementation\u003c/li\u003e","\u003cli\u003eCV input processing and scaling\u003c/li\u003e","\u003cli\u003eExpressive control mapping for musical performance\u003c/li\u003e","\u003cli\u003eReal-time modulation with smooth parameter updates\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Complete modulation matrix with CV and MIDI integration\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Benefit\u003c/strong\u003e: Professional external control capabilities rivaling hardware synthesizers\u003c/p\u003e","","\u003ch5\u003e**midi-sync.md** (4,100 words, 18+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Poor tempo synchronization and MIDI clock handling\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eCapability Gained\u003c/strong\u003e: Professional MIDI synchronization with jitter compensation\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eMIDI clock processing and tempo estimation\u003c/li\u003e","\u003cli\u003eJitter compensation for stable tempo sync\u003c/li\u003e","\u003cli\u003eBeat-accurate effect synchronization\u003c/li\u003e","\u003cli\u003eTransport control integration\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Tempo-synchronized delay with MIDI clock integration\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Benefit\u003c/strong\u003e: Professional timing synchronization for musical applications\u003c/p\u003e","","\u003ch5\u003e**build-directives.md** (3,900 words, 17+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Inefficient compilation and deployment processes\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eCapability Gained\u003c/strong\u003e: Professional build automation and optimization control\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eCompilation optimization flags and performance control\u003c/li\u003e","\u003cli\u003eAutomated build processes and testing integration\u003c/li\u003e","\u003cli\u003eMemory optimization and size constraints\u003c/li\u003e","\u003cli\u003eDeployment automation and version management\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Complete build system with optimization and automation\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Benefit\u003c/strong\u003e: Enterprise development workflow with professional build management\u003c/p\u003e","","\u003ch5\u003e**utility-functions.md** (4,800 words, 20+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Lack of development utilities and debugging tools\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eCapability Gained\u003c/strong\u003e: Complete development toolkit for professional workflows\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eMathematical utility functions for DSP development\u003c/li\u003e","\u003cli\u003eDebugging and profiling tool integration\u003c/li\u003e","\u003cli\u003ePerformance measurement and validation frameworks\u003c/li\u003e","\u003cli\u003eTesting utilities and automated validation\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Complete development utility library with testing framework\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Benefit\u003c/strong\u003e: Professional development toolkit enabling efficient firmware creation\u003c/p\u003e","","\u003ch4\u003e** ADVANCED ENTERPRISE (Session 17b)**\u003c/h4\u003e","","\u003ch5\u003e**real-time-safety.md** (4,200 words, 15+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Inconsistent real-time performance and timing guarantees\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eCapability Gained\u003c/strong\u003e: Guaranteed real-time performance with measurable safety margins\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eWorst-case execution time analysis and measurement\u003c/li\u003e","\u003cli\u003eReal-time safe programming patterns and constraints\u003c/li\u003e","\u003cli\u003ePriority inversion prevention and resource management\u003c/li\u003e","\u003cli\u003ePerformance monitoring and safety validation\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Real-time safe effect with guaranteed timing performance\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Benefit\u003c/strong\u003e: Enterprise-level real-time guarantees for critical applications\u003c/p\u003e","","\u003ch5\u003e**multi-file-projects.md** (4,400 words, 10+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Complex projects becoming unmanageable in single files\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eCapability Gained\u003c/strong\u003e: Professional project organization across multiple files\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eModule separation and interface design\u003c/li\u003e","\u003cli\u003eHeader file organization and dependency management\u003c/li\u003e","\u003cli\u003eBuild system integration for multi-file projects\u003c/li\u003e","\u003cli\u003eCode organization patterns for team development\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Complex multi-effect plugin organized across multiple files\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Benefit\u003c/strong\u003e: Enterprise project organization enabling team development and maintenance\u003c/p\u003e","","\u003ch4\u003e** ADVANCED MASTERY (Session 17c)**\u003c/h4\u003e","","\u003ch5\u003e**debugging-techniques.md** (8,500 words, 35+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Inefficient debugging processes and complex problem solving\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eCapability Gained\u003c/strong\u003e: Master-level debugging methodology for complex firmware challenges\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eSystematic debugging process with problem classification\u003c/li\u003e","\u003cli\u003eEvidence collection and hypothesis testing methodology\u003c/li\u003e","\u003cli\u003eMulti-domain debugging (software, hardware, performance)\u003c/li\u003e","\u003cli\u003eTeam coordination and knowledge sharing for complex issues\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Complete debugging workflow for complex multi-domain problems\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Benefit\u003c/strong\u003e: Master-level debugging expertise enabling confident handling of any firmware challenge\u003c/p\u003e","","\u003ch4\u003e** Advanced Development Theme Integration**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eLearning Path\u003c/strong\u003e: modulation-ready  midi-sync  build-directives  utility-functions  real-time-safety  multi-file-projects  debugging-techniques\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Progression\u003c/strong\u003e: Professional integration  Enterprise processes  Master-level debugging\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eExpected Outcome\u003c/strong\u003e: Complete enterprise development capability with professional debugging mastery\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **INTER-THEME CONNECTIONS**\u003c/h3\u003e","","\u003ch4\u003e**Performance  Architecture**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eMemory optimization\u003c/strong\u003e techniques from Performance apply to Architecture memory models\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSystem understanding\u003c/strong\u003e from Architecture enables targeted Performance improvements\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCache optimization\u003c/strong\u003e requires both Architecture knowledge and Performance techniques\u003c/li\u003e","","\u003ch4\u003e**Architecture  Integration**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eState management\u003c/strong\u003e from Architecture enables reliable Integration patterns\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eMemory layout\u003c/strong\u003e understanding required for efficient Integration implementations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSystem APIs\u003c/strong\u003e from Integration build on Architecture foundation knowledge\u003c/li\u003e","","\u003ch4\u003e**Integration  Advanced Development**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eExternal control\u003c/strong\u003e from Integration enhanced by Advanced Development modulation matrices\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProfessional patterns\u003c/strong\u003e from Advanced Development improve Integration reliability\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eReal-time safety\u003c/strong\u003e from Advanced Development ensures Integration performance guarantees\u003c/li\u003e","","\u003ch4\u003e**Performance  Advanced Development**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eOptimization techniques\u003c/strong\u003e from Performance enable Advanced Development real-time safety\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProfiling tools\u003c/strong\u003e from Advanced Development measure Performance improvements\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eEnterprise patterns\u003c/strong\u003e from Advanced Development organize Performance optimization efforts\u003c/li\u003e","","\u003ch4\u003e**All Themes  Language Reference**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eLanguage mastery\u003c/strong\u003e enables optimal implementation of all theme techniques\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAdvanced constructs\u003c/strong\u003e support sophisticated implementations across all themes\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eBuild tools\u003c/strong\u003e from Language Reference enhance development workflows in all themes\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **THEME COMPLETION METRICS**\u003c/h3\u003e","","\u003ch4\u003e**Performance \u0026 Optimization Theme**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eDocuments\u003c/strong\u003e: 9 comprehensive references\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eWord Count\u003c/strong\u003e: ~32,000 words\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCode Examples\u003c/strong\u003e: 150+ working implementations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePerformance Gains\u003c/strong\u003e: 300-5000% improvements with cycle-accurate measurement\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSkill Level\u003c/strong\u003e: Professional performance engineering\u003c/li\u003e","","\u003ch4\u003e**System Architecture Theme**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eDocuments\u003c/strong\u003e: 7 foundational references\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eWord Count\u003c/strong\u003e: ~30,000 words\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCode Examples\u003c/strong\u003e: 155+ system implementations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eKnowledge Depth\u003c/strong\u003e: Complete system understanding from processing to memory\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSkill Level\u003c/strong\u003e: Professional system architecture design\u003c/li\u003e","","\u003ch4\u003e**Integration \u0026 Control Theme**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eDocuments\u003c/strong\u003e: 6 professional references\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eWord Count\u003c/strong\u003e: ~26,000 words\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCode Examples\u003c/strong\u003e: 142+ integration patterns\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eIntegration Scope\u003c/strong\u003e: Complete external control and preset system capabilities\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSkill Level\u003c/strong\u003e: Professional plugin integration matching commercial standards\u003c/li\u003e","","\u003ch4\u003e**Advanced Development Theme**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eDocuments\u003c/strong\u003e: 7 enterprise references\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eWord Count\u003c/strong\u003e: ~33,100 words\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCode Examples\u003c/strong\u003e: 150+ professional patterns\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDevelopment Scope\u003c/strong\u003e: Complete enterprise development from modulation to debugging\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSkill Level\u003c/strong\u003e: Master-level professional firmware development\u003c/li\u003e","","\u003ch4\u003e**Combined Theme Impact**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eTotal Documentation\u003c/strong\u003e: 29 documents, 121,100+ words\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTotal Examples\u003c/strong\u003e: 597+ professional code implementations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSkill Transformation\u003c/strong\u003e: Beginner  Professional  Enterprise  Master level capabilities\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDevelopment Capability\u003c/strong\u003e: Complete professional firmware development ecosystem\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003cp\u003e\u003cem\u003eThis is Module 2 of 4 in the complete content index system. Continue with Module 3 for Language Reference and Foundation documentation, and Module 4 for cross-references and advanced navigation.\u003c/em\u003e\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eTheme Documentation Status\u003c/strong\u003e: 4 of 5 major themes complete\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Development Impact\u003c/strong\u003e: Complete transformation from basic to enterprise-level capabilities\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eNext Theme\u003c/strong\u003e: Assembly \u0026amp; Advanced (Sessions 19a-19c) - Only remaining technical area\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-68\" class=\"doc-section\"\u003e","\u003ch1\u003e68. Language Foundation\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/index/language-foundation.md\u003c/div\u003e","","\u003ch2\u003eLanguage Reference \u0026 Foundation Index - Module 3\u003c/h2\u003e","\u003ch3\u003eComplete Language Documentation \u0026 Development Foundation\u003c/h3\u003e","","\u003cp\u003e\u003cem\u003ePart 3 of 4 - Language Reference Theme \u0026amp; Foundation Materials\u003c/em\u003e\u003c/p\u003e","","\u003ch4\u003e **MODULE OVERVIEW**\u003c/h4\u003e","","\u003cp\u003eThis module covers the authoritative language documentation and essential foundation materials that enable all firmware development:\u003c/p\u003e","","\u003cli\u003e\u003cstrong\u003eLanguage Reference Theme\u003c/strong\u003e (6 documents) - Complete language mastery and build tooling\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFoundation Materials\u003c/strong\u003e (13 documents) - Essential development foundation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLearning Materials\u003c/strong\u003e (8 documents) - Step-by-step tutorials and cookbook recipes\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCore References\u003c/strong\u003e (6 documents) - API, timing, audio processing, and architecture\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eTotal Coverage\u003c/strong\u003e: 33 documents, 60,000+ words, 400+ code examples\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eDevelopment Impact\u003c/strong\u003e: Complete language mastery and solid development foundation\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **LANGUAGE REFERENCE THEME**\u003c/h3\u003e","\u003cp\u003e\u003cem\u003eSessions 18a-18b: 6 Documents, Complete Language Mastery\u003c/em\u003e\u003c/p\u003e","","\u003ch4\u003e**Theme Purpose**\u003c/h4\u003e","\u003cp\u003eProvide authoritative, comprehensive documentation for all Impala language features, build tooling, and advanced programming constructs. Enables professional development workflows and complete language mastery.\u003c/p\u003e","","\u003ch4\u003e** LANGUAGE FOUNDATION (Session 18a)**\u003c/h4\u003e","","\u003ch5\u003e**global-variables.md** (4,200 words, 25+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Confusion about global system state and variable scope\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Complete understanding of global variables and system state management\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eSystem global variables (params[], signal[], positions[], displayLEDs[], clock)\u003c/li\u003e","\u003cli\u003eGlobal variable scope and lifetime management\u003c/li\u003e","\u003cli\u003eState persistence across function calls and processing cycles\u003c/li\u003e","\u003cli\u003eGlobal variable initialization and reset behavior\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Global state management for complex multi-effect plugins\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLanguage Benefit\u003c/strong\u003e: Professional global variable usage preventing state management bugs\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eCritical Global Variables Covered\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003ccode\u003eparams[8]\u003c/code\u003e - Parameter array (0-255 range, real-time safe access)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003esignal[2]\u003c/code\u003e - Audio input/output arrays (-2047 to 2047 range)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003epositions[8]\u003c/code\u003e - Fixed-point position variables (20-bit, 4 fractional)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003edisplayLEDs[]\u003c/code\u003e - LED control array (8-bit shift register patterns)\u003c/li\u003e","\u003cli\u003e\u003ccode\u003eclock\u003c/code\u003e - System timing variable (0-65535 range, beat synchronization)\u003c/li\u003e","","\u003ch5\u003e**custom-build-tools.md** (6,500 words, 35+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Manual build processes limiting development efficiency\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Professional build automation and CI/CD integration\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eCMake integration for complex project builds\u003c/li\u003e","\u003cli\u003ePython automation scripts for development workflows\u003c/li\u003e","\u003cli\u003eContinuous integration pipelines for firmware projects\u003c/li\u003e","\u003cli\u003eAutomated testing and validation frameworks\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Complete CI/CD pipeline with automated testing and deployment\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLanguage Benefit\u003c/strong\u003e: Enterprise development workflows with professional automation\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eBuild Tool Integration\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eCMake Support\u003c/strong\u003e: Multi-file project compilation with dependency management\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePython Scripts\u003c/strong\u003e: Automated code generation, testing, and validation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCI/CD Pipelines\u003c/strong\u003e: GitHub Actions integration for automated builds\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTesting Frameworks\u003c/strong\u003e: Automated unit testing and regression testing\u003c/li\u003e","","\u003ch5\u003e**language-syntax-reference.md** (7,800 words, 45+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Incomplete understanding of language syntax and structure\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Authoritative reference for all Impala language syntax\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eComplete syntax specification with EBNF grammar\u003c/li\u003e","\u003cli\u003eAudio-specific language extensions and operators\u003c/li\u003e","\u003cli\u003eReal-time programming constraints and safe patterns\u003c/li\u003e","\u003cli\u003eLanguage-level optimization techniques\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Complete syntax usage covering all language constructs\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLanguage Benefit\u003c/strong\u003e: Authoritative syntax reference enabling confident language usage\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eSyntax Coverage\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eData Types\u003c/strong\u003e: Fixed-point, floating-point, arrays, function pointers\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eOperators\u003c/strong\u003e: Arithmetic, bitwise, logical, audio-specific operations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eControl Structures\u003c/strong\u003e: Loops, conditionals, function definitions\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAudio Extensions\u003c/strong\u003e: Sample-accurate processing, real-time safe constructs\u003c/li\u003e","","\u003ch5\u003e**standard-library-reference.md** (8,000 words, 50+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Limited knowledge of available standard library functions\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Complete standard library API with usage patterns\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eMathematical functions optimized for audio processing\u003c/li\u003e","\u003cli\u003eUtility functions for common DSP operations\u003c/li\u003e","\u003cli\u003eSystem interface functions for hardware integration\u003c/li\u003e","\u003cli\u003ePerformance characteristics and real-time safety guidelines\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Professional usage of complete standard library capabilities\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLanguage Benefit\u003c/strong\u003e: Full utilization of available language and system capabilities\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eLibrary Categories Covered\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eMathematical Functions\u003c/strong\u003e: sin, cos, sqrt, pow, log with performance data\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAudio Utilities\u003c/strong\u003e: Interpolation, scaling, clipping, mixing functions\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSystem Functions\u003c/strong\u003e: Memory management, timing, hardware interface\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDSP Functions\u003c/strong\u003e: Filters, oscillators, envelope generators\u003c/li\u003e","","\u003ch4\u003e** LANGUAGE ADVANCED (Session 18b)**\u003c/h4\u003e","","\u003ch5\u003e**advanced-memory-management.md** (4,500 words, 30+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Complex memory management for sophisticated firmware\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Advanced memory techniques with real-time considerations\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eReal-time safe memory allocation strategies\u003c/li\u003e","\u003cli\u003eMemory pool design and custom allocators\u003c/li\u003e","\u003cli\u003eCache optimization and memory access patterns\u003c/li\u003e","\u003cli\u003eAdvanced debugging techniques for memory issues\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Complex plugin with sophisticated memory management\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLanguage Benefit\u003c/strong\u003e: Enterprise-level memory management for complex applications\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eAdvanced Memory Techniques\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eMemory Pools\u003c/strong\u003e: Fixed-size allocation preventing fragmentation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCache Optimization\u003c/strong\u003e: Memory layout for optimal cache performance\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eReal-Time Safety\u003c/strong\u003e: Allocation strategies avoiding real-time violations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eDebugging Support\u003c/strong\u003e: Memory tracking and leak detection\u003c/li\u003e","","\u003ch5\u003e**metaprogramming-constructs.md** (4,800 words, 25+ examples)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Limited code reuse and generic programming capabilities\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Advanced language constructs for sophisticated development\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eGeneric programming patterns and template-like constructs\u003c/li\u003e","\u003cli\u003eConditional compilation for feature control\u003c/li\u003e","\u003cli\u003eFunction pointers and callback patterns\u003c/li\u003e","\u003cli\u003eCode generation tools and macro systems\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Generic DSP library with configurable algorithms\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLanguage Benefit\u003c/strong\u003e: Advanced programming techniques for complex firmware architecture\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMetaprogramming Features\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eGeneric Programming\u003c/strong\u003e: Type-agnostic algorithms and data structures\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eConditional Compilation\u003c/strong\u003e: Feature flags and platform-specific code\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eFunction Pointers\u003c/strong\u003e: Dynamic behavior and plugin architecture\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCode Generation\u003c/strong\u003e: Automated code creation for repetitive patterns\u003c/li\u003e","","\u003ch4\u003e** Language Reference Theme Integration**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eLearning Path\u003c/strong\u003e: global-variables  standard-library-reference  language-syntax-reference  custom-build-tools  advanced-memory-management  metaprogramming-constructs\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Progression\u003c/strong\u003e: System understanding  API mastery  Syntax mastery  Build automation  Advanced techniques\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eExpected Outcome\u003c/strong\u003e: Complete language mastery with professional development workflows\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eLanguage Reference Impact\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eFoundation (18a)\u003c/strong\u003e: Complete language ecosystem (26,500+ words, 155+ examples)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAdvanced (18b)\u003c/strong\u003e: Sophisticated programming techniques (9,300+ words, 55+ examples)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTotal Coverage\u003c/strong\u003e: 35,800+ words of authoritative language documentation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProfessional Capability\u003c/strong\u003e: Enterprise-level language mastery and build automation\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e锔 **FOUNDATION MATERIALS**\u003c/h3\u003e","\u003cp\u003e\u003cem\u003eSessions 4-6, 8, 10: 13 Documents, Essential Development Foundation\u003c/em\u003e\u003c/p\u003e","","\u003ch4\u003e**Theme Purpose**\u003c/h4\u003e","\u003cp\u003eProvide essential foundation knowledge and basic development capabilities. These materials establish the fundamental skills needed before advancing to professional themes.\u003c/p\u003e","","\u003ch4\u003e** GETTING STARTED (Session 4)**\u003c/h4\u003e","","\u003ch5\u003e**QUICKSTART.md** (Core beginner guide)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Complete beginners need immediate working example\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Working firmware development in 30 minutes\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eBasic plugin structure and compilation\u003c/li\u003e","\u003cli\u003eParameter reading and audio processing basics\u003c/li\u003e","\u003cli\u003eLED control and visual feedback\u003c/li\u003e","\u003cli\u003eEssential development workflow\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Complete working delay effect with parameter control\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eFoundation Benefit\u003c/strong\u003e: Immediate success enabling confident progression to advanced topics\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eQUICKSTART Coverage\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003e\u003cstrong\u003eProject Setup\u003c/strong\u003e: File structure, compilation, deployment\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eBasic Audio\u003c/strong\u003e: Input processing, delay lines, output generation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eParameter Control\u003c/strong\u003e: Knob reading, parameter scaling, real-time updates\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eVisual Feedback\u003c/strong\u003e: LED patterns indicating plugin state\u003c/li\u003e","","\u003ch5\u003e**core_language_reference.md** (Essential language features)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Need immediate access to most important language features\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Core language subset sufficient for basic development\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eEssential data types and operators\u003c/li\u003e","\u003cli\u003eBasic control structures and functions\u003c/li\u003e","\u003cli\u003eAudio processing fundamentals\u003c/li\u003e","\u003cli\u003eReal-time programming basics\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Essential patterns used in majority of firmware development\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eFoundation Benefit\u003c/strong\u003e: Focused learning enabling quick productive development\u003c/p\u003e","","\u003ch4\u003e**锔 CORE REFERENCES (Sessions 6, 8, 10)**\u003c/h4\u003e","","\u003ch5\u003e**parameters_reference.md** (Complete parameter system, Session 6)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Parameter handling confusion and poor user experience\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Professional parameter management and user interface design\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eParameter scaling and range management\u003c/li\u003e","\u003cli\u003eReal-time parameter updates without audio artifacts\u003c/li\u003e","\u003cli\u003eParameter validation and error handling\u003c/li\u003e","\u003cli\u003eUser interface design for intuitive control\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Professional parameter system with smooth updates and validation\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eFoundation Benefit\u003c/strong\u003e: Professional parameter handling from the beginning\u003c/p\u003e","","\u003ch5\u003e**utilities_reference.md** (Development utilities, Session 6)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Lack of development tools and helper functions\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Complete utility toolkit for efficient development\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eMathematical utilities for DSP development\u003c/li\u003e","\u003cli\u003eDebugging and testing helper functions\u003c/li\u003e","\u003cli\u003eMemory management utilities\u003c/li\u003e","\u003cli\u003ePerformance measurement tools\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Utility library supporting efficient firmware development\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eFoundation Benefit\u003c/strong\u003e: Professional development toolkit from early development stages\u003c/p\u003e","","\u003ch5\u003e**memory_management.md** (Memory fundamentals, Session 6)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Memory allocation confusion and inefficient usage\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Professional memory management patterns\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eStack vs heap allocation strategies\u003c/li\u003e","\u003cli\u003eBuffer management for audio processing\u003c/li\u003e","\u003cli\u003eMemory layout optimization\u003c/li\u003e","\u003cli\u003eReal-time safe allocation patterns\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Memory-efficient audio processing with proper allocation\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eFoundation Benefit\u003c/strong\u003e: Professional memory usage preventing common pitfalls\u003c/p\u003e","","\u003ch5\u003e**timing_reference.md** (Timing systems, Session 8)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Timing confusion and synchronization issues\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Complete timing system understanding\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eSample-accurate timing and synchronization\u003c/li\u003e","\u003cli\u003eClock management and tempo tracking\u003c/li\u003e","\u003cli\u003eReal-time scheduling and cooperative multitasking\u003c/li\u003e","\u003cli\u003ePerformance timing and measurement\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Tempo-synchronized effects with precise timing\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eFoundation Benefit\u003c/strong\u003e: Professional timing understanding enabling musical applications\u003c/p\u003e","","\u003ch5\u003e**audio_processing_reference.md** (Audio fundamentals, Session 10)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Audio processing confusion and poor signal quality\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Professional audio processing foundation\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eAudio signal representation and range management\u003c/li\u003e","\u003cli\u003eDigital signal processing fundamentals\u003c/li\u003e","\u003cli\u003eAudio quality considerations and artifact prevention\u003c/li\u003e","\u003cli\u003eProfessional audio processing patterns\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: High-quality audio processing with artifact prevention\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eFoundation Benefit\u003c/strong\u003e: Professional audio quality from the beginning\u003c/p\u003e","","\u003ch5\u003e**architecture_patterns.md** (System patterns, Session 10)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Poor code organization and architectural decisions\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKnowledge Gained\u003c/strong\u003e: Professional firmware architecture patterns\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Concepts\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eModular architecture design\u003c/li\u003e","\u003cli\u003eComponent separation and interface design\u003c/li\u003e","\u003cli\u003eScalable firmware patterns\u003c/li\u003e","\u003cli\u003eMaintainable code organization\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Well-architected firmware with clear separation of concerns\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eFoundation Benefit\u003c/strong\u003e: Professional architecture patterns preventing technical debt\u003c/p\u003e","","\u003ch4\u003e** Foundation Materials Integration**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eLearning Path\u003c/strong\u003e: QUICKSTART  core_language_reference  parameters_reference  utilities_reference  memory_management  timing_reference  audio_processing_reference  architecture_patterns\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Progression\u003c/strong\u003e: Basic functionality  Core language  Professional fundamentals  System understanding\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eExpected Outcome\u003c/strong\u003e: Solid foundation enabling confident advancement to professional themes\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **LEARNING MATERIALS**\u003c/h3\u003e","\u003cp\u003e\u003cem\u003eSession 5, 12: 8 Documents, Step-by-Step Development\u003c/em\u003e\u003c/p\u003e","","\u003ch4\u003e**Theme Purpose**\u003c/h4\u003e","\u003cp\u003eBridge the gap between foundation knowledge and professional development through guided tutorials and practical cookbook recipes.\u003c/p\u003e","","\u003ch4\u003e** BASIC COOKBOOK RECIPES (Session 5)**\u003c/h4\u003e","","\u003ch5\u003e**make-a-delay.md** (Delay line fundamentals)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Understanding audio buffering and delay line management\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Gained\u003c/strong\u003e: Circular buffer management and audio delay implementation\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eCircular buffer with masking for efficient addressing\u003c/li\u003e","\u003cli\u003eFeedback control and stability management\u003c/li\u003e","\u003cli\u003eReal-time buffer updates without artifacts\u003c/li\u003e","\u003cli\u003eMemory-efficient delay line organization\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Professional delay effect with feedback control and clean audio\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLearning Benefit\u003c/strong\u003e: Essential audio buffering skills used in majority of effects\u003c/p\u003e","","\u003ch5\u003e**read-knobs.md** (Parameter control basics)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Connecting user interface to plugin functionality\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Gained\u003c/strong\u003e: Professional parameter reading and scaling techniques\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eParameter range scaling and validation\u003c/li\u003e","\u003cli\u003eReal-time parameter updates with smoothing\u003c/li\u003e","\u003cli\u003eNon-linear parameter response curves\u003c/li\u003e","\u003cli\u003eParameter change detection and handling\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Professional parameter control system with smooth response\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLearning Benefit\u003c/strong\u003e: Essential user interface skills for professional plugins\u003c/p\u003e","","\u003ch5\u003e**control-leds.md** (Visual feedback basics)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Providing user feedback about plugin state\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Gained\u003c/strong\u003e: LED control and visual design patterns\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eLED patterns indicating plugin state and activity\u003c/li\u003e","\u003cli\u003eParameter visualization through LED intensity\u003c/li\u003e","\u003cli\u003eStatus indication and error reporting\u003c/li\u003e","\u003cli\u003eEfficient LED update patterns\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Professional visual feedback system enhancing user experience\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLearning Benefit\u003c/strong\u003e: Essential user interface skills for professional plugins\u003c/p\u003e","","\u003ch5\u003e**sync-to-tempo.md** (Timing synchronization basics)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Creating musically useful tempo-based effects\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Gained\u003c/strong\u003e: Tempo synchronization and beat-accurate processing\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eBeat detection and tempo tracking\u003c/li\u003e","\u003cli\u003eSample-accurate beat synchronization\u003c/li\u003e","\u003cli\u003eTempo-based parameter automation\u003c/li\u003e","\u003cli\u003eMusical timing and subdivision handling\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Tempo-synchronized delay with musical timing\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLearning Benefit\u003c/strong\u003e: Essential timing skills for musical applications\u003c/p\u003e","","\u003ch4\u003e** STEP-BY-STEP TUTORIALS (Session 12)**\u003c/h4\u003e","","\u003ch5\u003e**build-your-first-filter.md** (Filter construction tutorial)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Understanding DSP filter design and implementation\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Gained\u003c/strong\u003e: Complete filter development from concept to implementation\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eFilter mathematics and coefficient calculation\u003c/li\u003e","\u003cli\u003eBiquad filter implementation with stability\u003c/li\u003e","\u003cli\u003eReal-time filter parameter updates\u003c/li\u003e","\u003cli\u003eFilter response analysis and validation\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Professional filter with real-time parameter control\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLearning Benefit\u003c/strong\u003e: Essential DSP skills transferable to all audio processing\u003c/p\u003e","","\u003ch5\u003e**add-controls-to-effects.md** (Control integration tutorial)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Integrating user controls with audio processing\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Gained\u003c/strong\u003e: Professional control system design and implementation\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eParameter-to-processing mapping strategies\u003c/li\u003e","\u003cli\u003eReal-time control updates without artifacts\u003c/li\u003e","\u003cli\u003eMultiple parameter coordination\u003c/li\u003e","\u003cli\u003eControl system validation and testing\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Complete effect with professional control integration\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLearning Benefit\u003c/strong\u003e: Essential integration skills for professional plugin development\u003c/p\u003e","","\u003ch5\u003e**debug-your-plugin.md** (Debugging methodology tutorial)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Systematic debugging when development problems occur\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Gained\u003c/strong\u003e: Professional debugging methodology and problem-solving\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eSystematic problem identification and isolation\u003c/li\u003e","\u003cli\u003eEvidence collection and hypothesis testing\u003c/li\u003e","\u003cli\u003eTool usage for debugging assistance\u003c/li\u003e","\u003cli\u003ePrevention strategies reducing future bugs\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Complete debugging workflow for common plugin problems\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLearning Benefit\u003c/strong\u003e: Essential debugging skills preventing development roadblocks\u003c/p\u003e","","\u003ch5\u003e**test-your-plugin.md** (Testing methodology tutorial)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Validating plugin functionality and quality\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Gained\u003c/strong\u003e: Professional testing methodology and quality assurance\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eSystematic testing procedures and validation\u003c/li\u003e","\u003cli\u003eAutomated testing frameworks and continuous validation\u003c/li\u003e","\u003cli\u003ePerformance testing and quality metrics\u003c/li\u003e","\u003cli\u003eUser acceptance testing and feedback integration\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Complete testing framework with automated validation\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLearning Benefit\u003c/strong\u003e: Essential quality assurance skills for professional development\u003c/p\u003e","","\u003ch4\u003e** ADVANCED COOKBOOK RECIPES (Session 12)**\u003c/h4\u003e","","\u003ch5\u003e**granular-synthesis.md** (Advanced texture synthesis)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Creating complex textures and soundscapes\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Gained\u003c/strong\u003e: Advanced DSP techniques for grain-based synthesis\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eGrain scheduling and envelope shaping\u003c/li\u003e","\u003cli\u003eMulti-grain coordination and management\u003c/li\u003e","\u003cli\u003eReal-time grain parameter control\u003c/li\u003e","\u003cli\u003eAdvanced audio processing mathematics\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Professional granular synthesizer with real-time control\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLearning Benefit\u003c/strong\u003e: Advanced DSP skills demonstrating sophisticated audio processing\u003c/p\u003e","","\u003ch5\u003e**waveshaper-distortion.md** (Advanced distortion algorithms)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Creating musical distortion and harmonic enhancement\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Gained\u003c/strong\u003e: Lookup table optimization and non-linear processing\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eMultiple distortion algorithms with lookup tables\u003c/li\u003e","\u003cli\u003eReal-time algorithm switching and morphing\u003c/li\u003e","\u003cli\u003ePerformance optimization for real-time processing\u003c/li\u003e","\u003cli\u003eMusical parameter design for distortion effects\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Professional distortion with 5 algorithms and morphing\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLearning Benefit\u003c/strong\u003e: Advanced optimization and algorithm design skills\u003c/p\u003e","","\u003ch5\u003e**chorus-effect.md** (Advanced modulation processing)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Creating width and movement in audio signals\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Gained\u003c/strong\u003e: LFO design and stereo processing techniques\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003ePhase-offset LFO design for stereo width\u003c/li\u003e","\u003cli\u003eModulation depth control and musical response\u003c/li\u003e","\u003cli\u003eHigh-frequency damping for natural sound\u003c/li\u003e","\u003cli\u003eStereo processing and imaging techniques\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Professional stereo chorus with natural sound character\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLearning Benefit\u003c/strong\u003e: Advanced modulation and stereo processing skills\u003c/p\u003e","","\u003ch5\u003e**phaser-effect.md** (Advanced filter modulation)\u003c/h5\u003e","\u003cp\u003e\u003cstrong\u003eProblem Solved\u003c/strong\u003e: Creating sweeping filter effects and movement\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Gained\u003c/strong\u003e: All-pass filter design and cascade management\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eKey Patterns\u003c/strong\u003e:\u003c/p\u003e","\u003cli\u003eAll-pass filter mathematics and implementation\u003c/li\u003e","\u003cli\u003eFilter cascade coordination and management\u003c/li\u003e","\u003cli\u003eModulation coupling and feedback control\u003c/li\u003e","\u003cli\u003ePerformance optimization for multiple filters\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eCode Example Focus\u003c/strong\u003e: Professional phaser with smooth modulation and feedback\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLearning Benefit\u003c/strong\u003e: Advanced filter design and modulation coupling skills\u003c/p\u003e","","\u003ch4\u003e** Learning Materials Integration**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eLearning Path\u003c/strong\u003e: Basic cookbook  Step-by-step tutorials  Advanced cookbook recipes\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Progression\u003c/strong\u003e: Basic patterns  Complete development workflow  Advanced DSP techniques\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eExpected Outcome\u003c/strong\u003e: Confident development capabilities with professional workflow understanding\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **FOUNDATION TO PROFESSIONAL PROGRESSION**\u003c/h3\u003e","","\u003ch4\u003e**Foundation  Performance Optimization**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eConnection\u003c/strong\u003e: Foundation memory management enables Performance optimization techniques\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProgression\u003c/strong\u003e: memory_management.md  memory-patterns.md  memory-access.md\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Bridge\u003c/strong\u003e: Basic memory usage  Advanced optimization  Professional cache optimization\u003c/p\u003e","","\u003ch4\u003e**Foundation  System Architecture**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eConnection\u003c/strong\u003e: Foundation timing and audio processing enables Architecture understanding\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProgression\u003c/strong\u003e: timing_reference.md + audio_processing_reference.md  processing-order.md  memory-model.md\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Bridge\u003c/strong\u003e: Basic timing  System timing  Complete architecture understanding\u003c/p\u003e","","\u003ch4\u003e**Foundation  Integration \u0026 Control**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eConnection\u003c/strong\u003e: Foundation parameter handling enables Integration techniques\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProgression\u003c/strong\u003e: parameters_reference.md  parameter-mapping.md  preset-friendly.md\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Bridge\u003c/strong\u003e: Basic parameters  Professional mapping  Complete integration\u003c/p\u003e","","\u003ch4\u003e**Foundation  Advanced Development**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eConnection\u003c/strong\u003e: Foundation utilities enable Advanced Development toolkit\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProgression\u003c/strong\u003e: utilities_reference.md  utility-functions.md  debugging-techniques.md\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eSkill Bridge\u003c/strong\u003e: Basic tools  Professional toolkit  Master-level debugging\u003c/p\u003e","","\u003ch4\u003e**Language Reference  All Themes**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eConnection\u003c/strong\u003e: Language mastery enables optimal implementation across all themes\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eIntegration\u003c/strong\u003e: Language Reference provides authoritative foundation for all professional techniques\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Bridge\u003c/strong\u003e: Complete language knowledge  Optimal technique implementation\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **FOUNDATION \u0026 LANGUAGE METRICS**\u003c/h3\u003e","","\u003ch4\u003e**Language Reference Theme (Sessions 18a-18b)**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eDocuments\u003c/strong\u003e: 6 authoritative references\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eWord Count\u003c/strong\u003e: 35,800+ words\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCode Examples\u003c/strong\u003e: 210+ language demonstrations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCoverage Scope\u003c/strong\u003e: Complete language ecosystem from syntax to build automation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSkill Level\u003c/strong\u003e: Complete language mastery with professional development workflows\u003c/li\u003e","","\u003ch4\u003e**Foundation Materials (Sessions 4-6, 8, 10)**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eDocuments\u003c/strong\u003e: 13 essential references\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eWord Count\u003c/strong\u003e: ~28,000 words\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCode Examples\u003c/strong\u003e: 180+ foundational patterns\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCoverage Scope\u003c/strong\u003e: Complete development foundation from beginner to professional-ready\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSkill Level\u003c/strong\u003e: Professional foundation enabling confident theme advancement\u003c/li\u003e","","\u003ch4\u003e**Learning Materials (Sessions 5, 12)**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eDocuments\u003c/strong\u003e: 8 guided tutorials and recipes\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eWord Count\u003c/strong\u003e: ~32,000 words\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCode Examples\u003c/strong\u003e: 120+ practical implementations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eCoverage Scope\u003c/strong\u003e: Complete learning bridge from foundation to advanced development\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSkill Level\u003c/strong\u003e: Confident development with professional workflow understanding\u003c/li\u003e","","\u003ch4\u003e**Combined Foundation \u0026 Language Impact**\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eTotal Documentation\u003c/strong\u003e: 27 documents, 95,800+ words\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eTotal Examples\u003c/strong\u003e: 510+ practical implementations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eLearning Bridge\u003c/strong\u003e: Foundation  Professional themes seamlessly connected\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eProfessional Capability\u003c/strong\u003e: Complete language mastery with solid development foundation\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003e **USAGE RECOMMENDATIONS**\u003c/h3\u003e","","\u003ch4\u003e**New Developers (0-2 weeks experience)**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eStart Here\u003c/strong\u003e: QUICKSTART.md  core_language_reference.md  Basic cookbook recipes\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eFoundation Building\u003c/strong\u003e: parameters_reference.md  audio_processing_reference.md\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eNext Steps\u003c/strong\u003e: Step-by-step tutorials  System Architecture theme\u003c/p\u003e","","\u003ch4\u003e**Intermediate Developers (2-8 weeks experience)**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eLanguage Mastery\u003c/strong\u003e: language-syntax-reference.md  standard-library-reference.md\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eAdvanced Learning\u003c/strong\u003e: Advanced cookbook recipes  Performance optimization foundation\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Skills\u003c/strong\u003e: custom-build-tools.md  Advanced Development foundation\u003c/p\u003e","","\u003ch4\u003e**Advanced Developers (8+ weeks experience)**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eComplete Reference\u003c/strong\u003e: global-variables.md  advanced-memory-management.md  metaprogramming-constructs.md\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Workflow\u003c/strong\u003e: Complete Language Reference theme integration\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eMaster-Level Skills\u003c/strong\u003e: All themes supported by complete language foundation\u003c/p\u003e","","\u003ch4\u003e**Language Reference Priority**\u003c/h4\u003e","\u003cp\u003e\u003cstrong\u003eImmediate Needs\u003c/strong\u003e: global-variables.md + standard-library-reference.md\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Development\u003c/strong\u003e: custom-build-tools.md + language-syntax-reference.md\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eAdvanced Techniques\u003c/strong\u003e: advanced-memory-management.md + metaprogramming-constructs.md\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003cp\u003e\u003cem\u003eThis is Module 3 of 4 in the complete content index system. Continue with Module 4 for cross-references, troubleshooting guides, and advanced navigation patterns.\u003c/em\u003e\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eFoundation \u0026amp; Language Status\u003c/strong\u003e: Complete foundation with authoritative language reference\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eProfessional Development Impact\u003c/strong\u003e: Solid foundation enabling confident advancement to all professional themes\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLanguage Mastery\u003c/strong\u003e: Complete ecosystem from syntax to enterprise build automation\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-69\" class=\"doc-section\"\u003e","\u003ch1\u003e69. Master Index\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/index/master-index.md\u003c/div\u003e","","\u003ch2\u003ePermut8 Firmware Development - Master Index\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eComplete reference index for all production documentation\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eQuick Start Guides\u003c/h3\u003e","","\u003ch4\u003eEssential Learning Path\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003e[QUICKSTART](../user-guides/QUICKSTART.md)\u003c/strong\u003e - 30-minute introduction to Permut8 firmware development\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Mod vs Full Architecture Guide](../user-guides/tutorials/mod-vs-full-architecture-guide.md)\u003c/strong\u003e - Choose the right firmware type\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Getting Audio In and Out](../user-guides/tutorials/getting-audio-in-and-out.md)\u003c/strong\u003e - Foundation I/O tutorial (10 minutes)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Complete Development Workflow](../user-guides/tutorials/complete-development-workflow.md)\u003c/strong\u003e - Professional workflow methodology\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Debug Your Plugin](../user-guides/tutorials/debug-your-plugin.md)\u003c/strong\u003e - Systematic troubleshooting guide\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Understanding Impala Fundamentals](../user-guides/tutorials/understanding-impala-fundamentals.md)\u003c/strong\u003e - Core language concepts [\u003cem\u003eArchived\u003c/em\u003e]\u003c/li\u003e","","\u003ch4\u003eArchitecture Decisions\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003e[Mod vs Full Architecture Guide](../user-guides/tutorials/mod-vs-full-architecture-guide.md)\u003c/strong\u003e - Essential architectural foundation\u003c/li\u003e","","\u003ch3\u003eLanguage Reference\u003c/h3\u003e","","\u003ch4\u003eCore Language\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003e[Core Language Reference](../language/core_language_reference.md)\u003c/strong\u003e - Complete Impala language specification\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Language Syntax Reference](../language/language-syntax-reference.md)\u003c/strong\u003e - Syntax rules and patterns\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Types and Operators](../language/types-and-operators.md)\u003c/strong\u003e - Data types and operations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Core Functions](../language/core-functions.md)\u003c/strong\u003e - Built-in function reference\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Standard Library Reference](../language/standard-library-reference.md)\u003c/strong\u003e - Standard library functions\u003c/li\u003e","","\u003ch4\u003eGlossary and Terms\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003e[Glossary](glossary.md)\u003c/strong\u003e - Complete terminology reference (100+ terms)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Language Foundation](language-foundation.md)\u003c/strong\u003e - Language ecosystem navigation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Themes](themes.md)\u003c/strong\u003e - Professional theme organization\u003c/li\u003e","","\u003ch3\u003eCookbook Recipes\u003c/h3\u003e","","\u003ch4\u003eFundamentals\u003c/h4\u003e","\u003cp\u003eEssential building blocks for all firmware development:\u003c/p\u003e","","\u003cli\u003e\u003cstrong\u003e[Basic Filter](../user-guides/cookbook/fundamentals/basic-filter.md)\u003c/strong\u003e - Digital filter implementation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Envelope Basics](../user-guides/cookbook/fundamentals/envelope-basics.md)\u003c/strong\u003e - ADSR envelope control\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Gain and Volume](../user-guides/cookbook/fundamentals/gain-and-volume.md)\u003c/strong\u003e - Volume control with smoothing\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Switches and Modes](../user-guides/cookbook/fundamentals/switches-and-modes.md)\u003c/strong\u003e - Discrete control patterns\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Stereo Processing](../user-guides/cookbook/fundamentals/stereo-processing.md)\u003c/strong\u003e - Mid-side and stereo effects\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Parameter Mapping](../user-guides/cookbook/fundamentals/parameter-mapping.md)\u003c/strong\u003e - Parameter scaling and curves\u003c/li\u003e","","\u003ch4\u003eAudio Effects\u003c/h4\u003e","\u003cp\u003eComplete working effects with full source code:\u003c/p\u003e","","\u003cli\u003e\u003cstrong\u003e[Bitcrusher](../user-guides/cookbook/audio-effects/bitcrusher.md)\u003c/strong\u003e - Digital distortion effect\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Chorus Effect](../user-guides/cookbook/audio-effects/chorus-effect.md)\u003c/strong\u003e - Modulated delay chorus\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Basic Compressor](../user-guides/cookbook/audio-effects/compressor-basic.md)\u003c/strong\u003e - Dynamic range compression\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Granular Synthesis](../user-guides/cookbook/audio-effects/granular-synthesis.md)\u003c/strong\u003e - Particle-based synthesis\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Make a Delay](../user-guides/cookbook/audio-effects/make-a-delay.md)\u003c/strong\u003e - Digital delay with feedback\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Phaser Effect](../user-guides/cookbook/audio-effects/phaser-effect.md)\u003c/strong\u003e - All-pass filter phasing\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Pitch Shifter](../user-guides/cookbook/audio-effects/pitch-shifter.md)\u003c/strong\u003e - Real-time pitch manipulation\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Waveshaper Distortion](../user-guides/cookbook/audio-effects/waveshaper-distortion.md)\u003c/strong\u003e - Nonlinear distortion\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Multi-band Compressor](../user-guides/cookbook/audio-effects/multi-band-compressor.md)\u003c/strong\u003e - Frequency-split compression\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Simple Reverb](../user-guides/cookbook/audio-effects/reverb-simple.md)\u003c/strong\u003e - Basic reverberation\u003c/li\u003e","","\u003ch3\u003eIntegration Systems\u003c/h3\u003e","","\u003ch4\u003eWorking Implementations\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003e[Preset System](../integration/preset-system.md)\u003c/strong\u003e - Complete preset management (Impala syntax)\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[State Recall - Simplified](../integration/state-recall-simplified.md)\u003c/strong\u003e - Essential state management\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[MIDI Learn - Simplified](../integration/midi-learn-simplified.md)\u003c/strong\u003e - Dynamic CC assignment\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[MIDI Sync - Simplified](../integration/midi-sync-simplified.md)\u003c/strong\u003e - Clock synchronization\u003c/li\u003e","","\u003ch4\u003eReference Implementations\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003e[State Recall](../integration/state-recall.md)\u003c/strong\u003e - Advanced state management concepts\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[MIDI Learn](../integration/midi-learn.md)\u003c/strong\u003e - Advanced MIDI learn concepts\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[MIDI Sync](../integration/midi-sync.md)\u003c/strong\u003e - Advanced synchronization concepts\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Parameter Morphing](../integration/parameter-morphing.md)\u003c/strong\u003e - Dynamic parameter control\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Preset Friendly](../integration/preset-friendly.md)\u003c/strong\u003e - Preset design patterns\u003c/li\u003e","","\u003ch3\u003eArchitecture Reference\u003c/h3\u003e","","\u003ch4\u003eMemory and Processing\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003e[Memory Model](../architecture/memory-model.md)\u003c/strong\u003e - Static memory allocation patterns\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Memory Layout](../architecture/memory-layout.md)\u003c/strong\u003e - Memory organization and optimization\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Processing Order](../architecture/processing-order.md)\u003c/strong\u003e - Audio pipeline architecture\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[State Management](../architecture/state-management.md)\u003c/strong\u003e - Persistent state patterns\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Architecture Patterns](../architecture/architecture_patterns.md)\u003c/strong\u003e - Design pattern collection\u003c/li\u003e","","\u003ch3\u003ePerformance Optimization\u003c/h3\u003e","","\u003ch4\u003eMemory and Speed\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003e[Optimization Basics](../performance/optimization-basics.md)\u003c/strong\u003e - Essential optimization techniques\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Memory Patterns](../performance/memory-patterns.md)\u003c/strong\u003e - Efficient memory usage\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Efficient Math](../performance/efficient-math.md)\u003c/strong\u003e - Mathematical optimizations\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Fixed Point](../performance/fixed-point.md)\u003c/strong\u003e - Fixed-point arithmetic\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Lookup Tables](../performance/lookup-tables.md)\u003c/strong\u003e - Precomputed value tables\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Memory Access](../performance/memory-access.md)\u003c/strong\u003e - Cache-friendly access patterns\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Batch Processing](../performance/batch-processing.md)\u003c/strong\u003e - Block-based processing\u003c/li\u003e","","\u003ch3\u003eAssembly Integration\u003c/h3\u003e","","\u003ch4\u003eGAZL Assembly\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003e[GAZL Assembly Introduction](../assembly/gazl-assembly-introduction.md)\u003c/strong\u003e - Assembly language basics\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[GAZL Debugging and Profiling](../assembly/gazl-debugging-profiling.md)\u003c/strong\u003e - Debug assembly code\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[GAZL Integration Production](../assembly/gazl-integration-production.md)\u003c/strong\u003e - Production deployment\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[GAZL Optimization](../assembly/gazl-optimization.md)\u003c/strong\u003e - Assembly optimization techniques\u003c/li\u003e","","\u003ch3\u003eAPI Reference\u003c/h3\u003e","","\u003ch4\u003eComplete API Documentation\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003e[Parameters Reference](../reference/parameters_reference.md)\u003c/strong\u003e - Parameter system API\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Audio Processing Reference](../reference/audio_processing_reference.md)\u003c/strong\u003e - Audio API functions\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Memory Management](../reference/memory_management.md)\u003c/strong\u003e - Memory API reference\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Utilities Reference](../reference/utilities_reference.md)\u003c/strong\u003e - Utility function API\u003c/li\u003e","","\u003ch3\u003eNavigation Tools\u003c/h3\u003e","","\u003ch4\u003eFinding Information\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003e[Navigation](navigation.md)\u003c/strong\u003e - Master navigation hub\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Cross References](cross-references.md)\u003c/strong\u003e - Troubleshooting and cross-links\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003e[Master Index](master-index.md)\u003c/strong\u003e - This complete index\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eBy Development Stage\u003c/h3\u003e","","\u003ch4\u003eBeginner (Start Here)\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003e[QUICKSTART](../user-guides/QUICKSTART.md)\u003c/strong\u003e - Essential first steps\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003e[Mod vs Full Architecture Guide](../user-guides/tutorials/mod-vs-full-architecture-guide.md)\u003c/strong\u003e - Choose architecture type\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003e[Getting Audio In and Out](../user-guides/tutorials/getting-audio-in-and-out.md)\u003c/strong\u003e - Foundation I/O tutorial\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003e[Basic Filter](../user-guides/cookbook/fundamentals/basic-filter.md)\u003c/strong\u003e - First real effect\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003e[Gain and Volume](../user-guides/cookbook/fundamentals/gain-and-volume.md)\u003c/strong\u003e - Parameter control\u003c/p\u003e","\u003cp\u003e6. \u003cstrong\u003e[Make a Delay](../user-guides/cookbook/audio-effects/make-a-delay.md)\u003c/strong\u003e - First complex effect\u003c/p\u003e","","\u003ch4\u003eIntermediate\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003e[Complete Development Workflow](../user-guides/tutorials/complete-development-workflow.md)\u003c/strong\u003e - Professional methodology\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003e[Debug Your Plugin](../user-guides/tutorials/debug-your-plugin.md)\u003c/strong\u003e - Essential troubleshooting skills\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003e[Envelope Basics](../user-guides/cookbook/fundamentals/envelope-basics.md)\u003c/strong\u003e - Time-based control\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003e[Stereo Processing](../user-guides/cookbook/fundamentals/stereo-processing.md)\u003c/strong\u003e - Multi-channel audio\u003c/p\u003e","\u003cp\u003e5. \u003cstrong\u003e[Parameter Mapping](../user-guides/cookbook/fundamentals/parameter-mapping.md)\u003c/strong\u003e - Advanced control\u003c/p\u003e","\u003cp\u003e6. \u003cstrong\u003e[Preset System](../integration/preset-system.md)\u003c/strong\u003e - State management\u003c/p\u003e","","\u003ch4\u003eAdvanced\u003c/h4\u003e","\u003cp\u003e1. \u003cstrong\u003e[Memory Patterns](../performance/memory-patterns.md)\u003c/strong\u003e - Optimization techniques\u003c/p\u003e","\u003cp\u003e2. \u003cstrong\u003e[GAZL Assembly](../assembly/gazl-assembly-introduction.md)\u003c/strong\u003e - Low-level programming\u003c/p\u003e","\u003cp\u003e3. \u003cstrong\u003e[MIDI Sync](../integration/midi-sync-simplified.md)\u003c/strong\u003e - External synchronization\u003c/p\u003e","\u003cp\u003e4. \u003cstrong\u003e[Architecture Patterns](../architecture/architecture_patterns.md)\u003c/strong\u003e - System design\u003c/p\u003e","","\u003ch3\u003eBy Use Case\u003c/h3\u003e","","\u003ch4\u003eAudio Effects Development\u003c/h4\u003e","\u003cli\u003eStart with \u003cstrong\u003e[Cookbook Fundamentals](#fundamentals)\u003c/strong\u003e\u003c/li\u003e","\u003cli\u003eProgress to \u003cstrong\u003e[Audio Effects](#audio-effects)\u003c/strong\u003e\u003c/li\u003e","\u003cli\u003eOptimize with \u003cstrong\u003e[Performance](#performance-optimization)\u003c/strong\u003e\u003c/li\u003e","","\u003ch4\u003eSystem Integration\u003c/h4\u003e","\u003cli\u003eBegin with \u003cstrong\u003e[Integration Systems](#integration-systems)\u003c/strong\u003e\u003c/li\u003e","\u003cli\u003eStudy \u003cstrong\u003e[Architecture Reference](#architecture-reference)\u003c/strong\u003e\u003c/li\u003e","\u003cli\u003eImplement with \u003cstrong\u003e[API Reference](#api-reference)\u003c/strong\u003e\u003c/li\u003e","","\u003ch4\u003ePerformance Critical Applications\u003c/h4\u003e","\u003cli\u003eMaster \u003cstrong\u003e[Memory Model](../architecture/memory-model.md)\u003c/strong\u003e\u003c/li\u003e","\u003cli\u003eApply \u003cstrong\u003e[Performance Optimization](#performance-optimization)\u003c/strong\u003e\u003c/li\u003e","\u003cli\u003eConsider \u003cstrong\u003e[Assembly Integration](#assembly-integration)\u003c/strong\u003e\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eFile Status Legend\u003c/h3\u003e","","\u003cli\u003e\u003cstrong\u003eNo marker\u003c/strong\u003e - Production ready (A/A+ grade)\u003c/li\u003e","\u003cli\u003e*\u003cem\u003e[\u003c/em\u003eArchived\u003cem\u003e]\u003c/em\u003e* - High-quality content in archive (not production)\u003c/li\u003e","\u003cli\u003e*\u003cem\u003e[\u003c/em\u003eMissing\u003cem\u003e]\u003c/em\u003e* - Critical gap identified in analysis\u003c/li\u003e","","\u003cp\u003e\u003cstrong\u003eTotal Production Files\u003c/strong\u003e: 64 documents\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eQuality Standard\u003c/strong\u003e: A/A+ grades (90%+ quality scores)\u003c/p\u003e","\u003cp\u003e\u003cstrong\u003eLast Updated\u003c/strong\u003e: January 11, 2025\u003c/p\u003e","\u003c/section\u003e","","\u003csection id=\"section-70\" class=\"doc-section\"\u003e","\u003ch1\u003e70. Glossary\u003c/h1\u003e","\u003cdiv class=\"source-info\"\u003eSource: source/content/index/glossary.md\u003c/div\u003e","","\u003ch2\u003ePermut8 Firmware Development Glossary\u003c/h2\u003e","","\u003cp\u003e\u003cem\u003eComplete terminology reference for embedded audio programming with Impala\u003c/em\u003e\u003c/p\u003e","","\u003ch3\u003eFoundation Concepts\u003c/h3\u003e","","\u003ch4\u003eDSP and Audio Fundamentals\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eDigital Signal Processing (DSP)\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eReal-time manipulation of audio using mathematical algorithms. In Permut8, DSP means changing numbers that represent audio samples to create effects.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eAudio samples\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eIndividual numbers representing speaker position at one moment in time. In Permut8: integers from -2047 to +2047 representing 12-bit audio precision.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eReal-time audio processing\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eProcessing audio samples immediately as they arrive, 44,100 times per second, with predictable timing constraints requiring yield() calls.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eCode-to-sound relationship\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eFundamental DSP concept: changing numbers in code immediately changes what listeners hear through speakers.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eSpeaker cone movement\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003ePhysical representation of audio samples: positive numbers push speaker out, negative numbers pull in, zero = silence.\u003c/p\u003e","","\u003ch3\u003eLanguage Foundation\u003c/h3\u003e","","\u003ch4\u003eCore Language Terms\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eImpala\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eReal-time audio programming language for embedded systems, specifically designed for Permut8 hardware. Optimized for predictable execution with static memory allocation and cooperative multitasking.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eReal-time constraints\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eTiming requirements for audio processing requiring predictable execution with no dynamic memory allocation. Every operation must complete within one audio sample period.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eStatic allocation\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eMemory management using fixed-size arrays with no dynamic allocation (no malloc/free). All memory is allocated at compile time for predictable behavior.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eyield()\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eNative function that returns control to the audio engine every sample, essential for real-time processing. Must be called once per processing cycle.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","yield(); // Return control to host","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eextern native\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eDeclaration keyword for system-provided functions available from Permut8 hardware.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","extern native yield","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eData Types and Declarations\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003econst int\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eCompile-time constant declaration for immutable integer values.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int SAMPLE_RATE = 44100","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eglobal\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eKeyword for persistent variables that maintain state across processing cycles.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array signal[2]","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003elocals clause\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eFunction variable declaration section for temporary variables with function scope.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","function process()","locals int tempValue, int result","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003earray declaration\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eFixed-size array syntax with global or local scope for static memory allocation.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array audioBuffer[1024]","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eHardware Interface\u003c/h3\u003e","","\u003ch4\u003eCore Hardware Arrays\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003esignal[2]\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eGlobal audio I/O array for stereo processing (left/right channels). Audio samples range from -2047 to 2047.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array signal[2]  // [left, right] audio samples","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eparams[8]\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eGlobal parameter array for hardware knob values (0-255 range).\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array params[8]  // Knob values (0-255)","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003edisplayLEDs[4]\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eGlobal LED control array for visual feedback (8-bit brightness masks).\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array displayLEDs[4]  // LED control arrays","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eHardware Specifications\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003ePRAWN_FIRMWARE_PATCH_FORMAT\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eRequired firmware version constant (value: 2) for compatibility identification.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","const int PRAWN_FIRMWARE_PATCH_FORMAT = 2","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eAudio samples\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003e12-bit signed integers (-2047 to 2047) representing digital audio data. This range provides sufficient resolution for professional audio processing.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eParameter range\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eHardware control value range (0-255) from knobs and controls. Must be scaled to appropriate ranges for audio parameters.\u003c/p\u003e","","\u003ch3\u003eAudio Processing\u003c/h3\u003e","","\u003ch4\u003eAudio Generation\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eDigital oscillator\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eSoftware-based sound generator using mathematical waveforms. Creates audio by repeatedly outputting numbers at audio rate.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003ePhase accumulator\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eCounter (0-65535) representing position in waveform cycle for oscillator state tracking.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global int phase = 0  // Current position in the waveform","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003ePhase increment\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eAmount added to phase each sample, controlling oscillator frequency/pitch.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","phase = (phase + frequency) % 65536","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eWaveform Types\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eTriangle wave\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eLinear waveform creating smooth, warm sound character.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","if (phase \u0026lt; 32768) {","    amplitude = phase - 16384;","} else {","    amplitude = 49152 - phase;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eSquare wave\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eBinary waveform creating harsh, buzzy sound character.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","if (phase \u0026lt; 32768) {","    amplitude = 16384;","} else {","    amplitude = -16384;","}","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eSawtooth wave\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eLinear ramp waveform creating bright, buzzy sound with rich harmonic content.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","amplitude = (phase / 2) - 16384;  // Linear ramp","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eTime-Based Effects\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eCircular buffer\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eFixed-size array with wraparound indexing for continuous data storage without memory allocation.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eDelay time\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eDuration between input and output of processed audio signal, measured in samples or seconds.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eFeedback\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003ePortion of delayed output fed back into input for multiple echoes and sustained effects.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eDry signal\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eOriginal, unprocessed audio input without any effect processing applied.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eWet signal\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eProcessed audio output from delay effect, containing the delayed/echoed audio.\u003c/p\u003e","","\u003ch4\u003eDistortion and Audio Effects\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eBasic gain distortion\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eSimplest distortion created by multiplying audio samples by values larger than 1, causing clipping when samples exceed 卤2047 range.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eHard clipping\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eImmediate cutoff distortion where samples exceeding limits are truncated to maximum values, creating harsh digital sound.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","if (signal \u0026gt; 2047) signal = 2047;  // Hard clipping","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eSoft clipping\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eGradual compression distortion using mathematical curves to smoothly limit audio, creating warm musical sound.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","if (signal \u0026gt; threshold) signal = threshold + (excess / 4);  // Soft clipping","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eClipping threshold\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eThe audio level where distortion begins, controlling the character and amount of harmonic saturation.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eGain staging\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eProfessional audio practice of controlling signal levels at each processing stage to optimize sound quality and prevent unwanted distortion.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMusical vs digital distortion\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eDistinction between warm, pleasant-sounding soft clipping algorithms and harsh, unpleasant hard clipping artifacts.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eProgressive distortion\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eEducational approach building distortion complexity from basic multiplication through professional soft-clipping algorithms.\u003c/p\u003e","","\u003ch4\u003eAudio Engineering for Programmers\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eGain compensation\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eAutomatic output level adjustment to maintain consistent volume when effects change signal amplitude, similar to auto-scaling algorithms.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","int compensationGain = 256 / distortionAmount;  // Inverse scaling","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eParameter smoothing\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eGradual transition between parameter values to prevent audio clicks, similar to interpolation techniques in programming.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","smoothedValue = smoothedValue + ((targetValue - smoothedValue) / 8);","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eDynamic range management\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eProfessional audio practice using available bit depth efficiently, similar to optimizing data type usage in programming.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eHeadroom\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eSafety margin in audio processing preventing overflow, similar to buffer space in programming applications.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eSignal-to-noise ratio\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eAudio quality measure comparing useful signal to unwanted artifacts, analogous to clean code vs technical debt.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eAudio range validation\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eSafety practice ensuring audio samples remain within 卤2047 bounds, similar to bounds checking in programming.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eProfessional audio patterns\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eStandard practices including input validation, graceful degradation, and predictable behavior for audio applications.\u003c/p\u003e","","\u003ch4\u003eDigital Audio Effects\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eQuantization\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eBit depth reduction technique using right-shift operations to create digital stepping artifacts and lo-fi distortion.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eSample-and-hold\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eSample rate reduction technique holding audio samples for multiple cycles to create characteristic stepping and aliasing effects.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eDigital artifacts\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eCharacteristic distortions from digital processing including quantization noise, aliasing, and stepping effects.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eBit depth reduction\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eQuality degradation technique reducing effective resolution from 12-bit to lower bit depths for creative digital distortion.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eHarmonic content\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eFrequency spectrum characteristics of waveforms including fundamental frequency and overtones creating timbral character.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eAliasing\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eSampling rate artifacts creating false frequencies when sample rate is insufficient for signal content.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eWaveform generation\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eBasic audio synthesis creating mathematical waveforms including sine, triangle, square, and sawtooth patterns.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eFrequency control\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003ePitch management through phase increment adjustment controlling oscillator fundamental frequency.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eAmplitude control\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eVolume management through gain multiplication and scaling affecting signal loudness and dynamics.\u003c/p\u003e","","\u003ch3\u003eParameter Control\u003c/h3\u003e","","\u003ch4\u003eParameter Processing\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eParameter scaling\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eConverting 0-255 knob values to usable parameter ranges through mathematical transformation.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","int scaledValue = minValue + ((knobValue * (maxValue - minValue)) / 255);","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eParameter smoothing\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eGradual transition between parameter values to prevent audio artifacts and clicking.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","smoothedValue = smoothedValue + ((targetValue - smoothedValue) / 8);","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eZipper noise\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eAudio artifacts from sudden parameter changes causing clicking or zipper sounds. Prevented by parameter smoothing.\u003c/p\u003e","","\u003ch4\u003eScaling Techniques\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eLinear scaling\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eDirect proportional parameter mapping maintaining equal steps.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","int frequency = 100 + ((knobValue * 1900) / 255);","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eExponential scaling\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eNon-linear parameter mapping providing musical feel with more control in lower ranges.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","int scaledKnob = (knobValue * knobValue) / 255;","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eBipolar scaling\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eParameter ranges spanning negative to positive values around center.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","int bipolar = ((knobValue - 127) * 200) / 127;","\u003c/code\u003e\u003c/pre\u003e","","\u003ch3\u003eDevelopment Workflow\u003c/h3\u003e","","\u003ch4\u003eFirmware Types\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eFull patches\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eFirmware replacing entire DSP engine with complete audio processing. Implements \u003ccode\u003eprocess()\u003c/code\u003e function for direct signal control.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMod patches\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eFirmware modifying built-in operators without replacing entire DSP chain. Implements \u003ccode\u003eoperate1()\u003c/code\u003e and/or \u003ccode\u003eoperate2()\u003c/code\u003e functions.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eArchitecture decision\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eCritical choice between Full and Mod patch approaches based on project requirements, performance needs, and complexity trade-offs.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eOperator replacement\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eMod patch capability to replace specific built-in Permut8 operators while maintaining framework integration and automatic features.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eFramework integration\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eAutomatic Permut8 feature integration available in Mod patches including preset system, MIDI handling, and parameter management.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eDirect audio access\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eFull patch advantage providing immediate control over signal arrays for complete audio processing chain replacement.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMemory-based I/O\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eMod patch communication method using read/write operations to memory positions rather than direct signal array access.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMigration strategy\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eSystematic approach for converting between Mod and Full patch architectures, including code restructuring and interface changes.\u003c/p\u003e","","\u003ch4\u003eDevelopment Tools\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003ePikaCmd.exe\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eImpala compiler executable that converts .impala source files to .gazl assembly.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-bash\"\u003e","PikaCmd.exe -compile ringmod_code.impala","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eConsole\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003ePlugin interface for loading firmware and debugging within Permut8 plugin.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003epatch command\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eConsole command to load compiled firmware (.gazl files) into Permut8.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode\u003e","patch bitcrush.gazl","\u003c/code\u003e\u003c/pre\u003e","","\u003ch4\u003eDevelopment Process\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eCompilation\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eProcess converting .impala source code to .gazl executable assembly.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eFirmware loading\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eProcess of installing compiled firmware into Permut8 hardware.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eProfessional development phases\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eSystematic workflow stages including concept, planning, implementation, testing, optimization, documentation, and deployment.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eIncremental development\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eBuilding complexity gradually through successive feature additions, starting with minimal working implementations.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eBuild automation\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eScripted compilation processes using batch files or build systems for consistent, repeatable firmware generation.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eVersion management\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eSystematic tracking of software changes, releases, and compatibility using version numbering and change documentation.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eRelease preparation\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eQuality assurance processes including testing, validation, documentation updates, and deployment packaging.\u003c/p\u003e","","\u003ch4\u003eAudio I/O Fundamentals\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eAudio passthrough\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eDefault behavior where audio flows unchanged through plugin when no processing is applied to signal arrays.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eSignal validation\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eProcess of ensuring audio samples remain within valid range (-2047 to +2047) to prevent distortion and hardware issues.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eI/O troubleshooting\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eSystematic approach to diagnosing audio connectivity issues including signal flow, channel routing, and parameter integration.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eFoundation workflow\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eBasic development process starting with working audio I/O before adding effects processing and advanced features.\u003c/p\u003e","","\u003ch3\u003eMemory Management\u003c/h3\u003e","","\u003ch4\u003eMemory Architecture\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eStatic memory\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eFixed allocation using global arrays with predictable memory usage for real-time constraints.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","global array buffer[1024];  // Static allocation","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eCircular buffer\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eFixed-size array with wraparound indexing for continuous data storage.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","buffer[pos % BUFFER_SIZE] = sample;","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eMemory regions\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eDistinct areas of memory with different access characteristics and purposes.\u003c/p\u003e","","\u003ch4\u003ePerformance Optimization\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eCache optimization\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eMemory layout and access patterns designed for optimal cache performance.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eFixed-point arithmetic\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eInteger math techniques for fractional calculations avoiding floating-point overhead.\u003c/p\u003e","","\u003ch4\u003eDevelopment Testing and Quality Assurance\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eUnit testing\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eComponent-level validation testing individual functions and algorithms in isolation to verify correctness.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eIntegration testing\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eSystem-level validation testing complete signal chain and component interactions under realistic conditions.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003ePerformance profiling\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eSystematic measurement of CPU usage, memory consumption, and execution time to identify optimization opportunities.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eCompilation error\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eBuild-time failures including syntax errors, type mismatches, undefined variables, and linking problems.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eRuntime error\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eExecution-time problems including array bounds violations, arithmetic overflow, and infinite loops.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eDebug by elimination\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eSystematic troubleshooting approach isolating problems by progressively removing code sections to identify root causes.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eSafety patterns\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eDefensive programming practices including bounds checking, parameter validation, and graceful error handling.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eLED debugging\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eVisual troubleshooting technique using displayLEDs arrays to provide real-time feedback on plugin state and parameter values.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eSystematic debugging methodology\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eProfessional debugging approach including problem reproduction, hypothesis formation, testing, and validation procedures.\u003c/p\u003e","","\u003ch3\u003eIntegration Systems\u003c/h3\u003e","","\u003ch4\u003eMIDI Integration\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eMIDI Learn\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eDynamic MIDI CC assignment system for real-time controller mapping.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMIDI Sync\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eMIDI clock synchronization for tempo-locked effects and processing.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMIDI CC\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eMIDI Continuous Controller messages for parameter automation.\u003c/p\u003e","","\u003ch4\u003eAudio Processing Safety\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eAudio range management\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003ePreventing overflow beyond 卤2047 limits to avoid distortion.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eClipping\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eLimiting audio values to prevent distortion and hardware damage.\u003c/p\u003e","\u003cpre class=\"code-block\"\u003e\u003ccode class=\"language-impala\"\u003e","if (result \u0026gt; 2047) result = 2047;","if (result \u0026lt; -2047) result = -2047;","\u003c/code\u003e\u003c/pre\u003e","","\u003cp\u003e\u003cstrong\u003eReal-time processing\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eSample-by-sample audio processing at audio rate with yield() calls.\u003c/p\u003e","","\u003ch3\u003eAssembly Integration\u003c/h3\u003e","","\u003ch4\u003eGAZL Assembly\u003c/h4\u003e","","\u003cp\u003e\u003cstrong\u003eGAZL\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eAssembly language output from Impala compilation targeting Permut8 virtual machine.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eVirtual registers\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eGAZL virtual machine registers (%0, %1, %2) for temporary computation storage.\u003c/p\u003e","","\u003cp\u003e\u003cstrong\u003eMemory operations\u003c/strong\u003e\u003c/p\u003e","\u003cp\u003eGAZL instructions (PEEK/POKE) for loading and storing data in memory.\u003c/p\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003ch3\u003eCross-Reference Index\u003c/h3\u003e","","\u003ch4\u003eBy Complexity Level\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eBeginner\u003c/strong\u003e: Basic language terms, hardware interface, simple audio processing\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eIntermediate\u003c/strong\u003e: Parameter control, memory management, basic effects\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAdvanced\u003c/strong\u003e: Assembly integration, complex effects, optimization techniques\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eExpert\u003c/strong\u003e: MIDI integration, advanced memory patterns, performance optimization\u003c/li\u003e","","\u003ch4\u003eBy Usage Context\u003c/h4\u003e","\u003cli\u003e\u003cstrong\u003eCore Development\u003c/strong\u003e: Language terms, compilation, basic hardware interface\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eAudio Programming\u003c/strong\u003e: Synthesis terms, effects processing, audio safety\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003eSystem Integration\u003c/strong\u003e: MIDI terms, parameter systems, advanced features\u003c/li\u003e","\u003cli\u003e\u003cstrong\u003ePerformance Optimization\u003c/strong\u003e: Memory management, assembly, real-time constraints\u003c/li\u003e","","\u003cp\u003e---\u003c/p\u003e","","\u003cp\u003e\u003cem\u003eThis glossary covers 160+ essential terms for Permut8 firmware development, providing clear definitions, practical examples, and cross-references for all levels of embedded audio programming with Impala. Includes comprehensive coverage of DSP fundamentals, progressive distortion techniques, audio engineering concepts for programmers, architecture decisions, professional development workflow, systematic debugging, and digital audio effects terminology.\u003c/em\u003e\u003c/p\u003e","\u003c/section\u003e","        \u003c/main\u003e","    \u003c/div\u003e","    ","    \u003c!-- Mobile menu button --\u003e","    \u003cbutton class=\"mobile-menu-btn\" onclick=\"toggleMobileMenu()\"\u003e\u003c/button\u003e","    ","    \u003cscript\u003e","        // Smooth scrolling for navigation links","        document.querySelectorAll('.nav-link').forEach(link =\u003e {","            link.addEventListener('click', function(e) {","                e.preventDefault();","                const target = document.querySelector(this.getAttribute('href'));","                if (target) {","                    target.scrollIntoView({ behavior: 'smooth' });","                    // Update active link","                    document.querySelectorAll('.nav-link').forEach(l =\u003e l.classList.remove('active'));","                    this.classList.add('active');","                }","            });","        });","        ","        // Search functionality","        document.getElementById('search-box').addEventListener('input', function() {","            const searchTerm = this.value.toLowerCase();","            const sections = document.querySelectorAll('.doc-section');","            ","            sections.forEach(section =\u003e {","                const text = section.textContent.toLowerCase();","                if (text.includes(searchTerm) || searchTerm === '') {","                    section.style.display = 'block';","                } else {","                    section.style.display = 'none';","                }","            });","        });","        ","        // Mobile menu toggle","        function toggleMobileMenu() {","            document.getElementById('nav-sidebar').classList.toggle('open');","        }","        ","        // Auto-update active navigation on scroll","        window.addEventListener('scroll', function() {","            const sections = document.querySelectorAll('.doc-section');","            const scrollPos = window.scrollY + 100;","            ","            sections.forEach((section, index) =\u003e {","                const top = section.offsetTop;","                const bottom = top + section.offsetHeight;","                ","                if (scrollPos \u003e= top \u0026\u0026 scrollPos \u003c= bottom) {","                    document.querySelectorAll('.nav-link').forEach(link =\u003e {","                        link.classList.remove('active');","                    });","                    const activeLink = document.querySelector(`a[href=\"#section-${index + 1}\"]`);","                    if (activeLink) activeLink.classList.add('active');","                }","            });","        });","    \u003c/script\u003e","\u003c/body\u003e","\u003c/html\u003e"],"stylingDirectives":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],"colorizedLines":null,"csv":null,"csvError":null,"dependabotInfo":{"showConfigurationBanner":false,"configFilePath":null,"networkDependabotPath":"/madeofants/Permut8-Firmware-Tutorial/network/updates","dismissConfigurationNoticePath":"/settings/dismiss-notice/dependabot_configuration_notice","configurationNoticeDismissed":false},"displayName":"Permut8-Documentation.html","displayUrl":"https://github.com/madeofants/Permut8-Firmware-Tutorial/blob/main/Permut8-Documentation.html?raw=true","headerInfo":{"blobSize":"983 KB","deleteTooltip":"Delete this file","editTooltip":"Edit this file","ghDesktopPath":"x-github-client://openRepo/https://github.com/madeofants/Permut8-Firmware-Tutorial?branch=main\u0026filepath=Permut8-Documentation.html","isGitLfs":false,"onBranch":true,"shortPath":"bcba7b0","siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Fmadeofants%2FPermut8-Firmware-Tutorial%2Fblob%2Fmain%2FPermut8-Documentation.html","isCSV":false,"isRichtext":false,"toc":null,"lineInfo":{"truncatedLoc":"27691","truncatedSloc":"21682"},"mode":"file"},"image":false,"isCodeownersFile":null,"isPlain":false,"isValidLegacyIssueTemplate":false,"issueTemplate":null,"discussionTemplate":null,"language":"HTML","languageID":146,"large":false,"planSupportInfo":{"repoIsFork":null,"repoOwnedByCurrentUser":null,"requestFullPath":"/madeofants/Permut8-Firmware-Tutorial/blob/main/Permut8-Documentation.html","showFreeOrgGatedFeatureMessage":null,"showPlanSupportBanner":null,"upgradeDataAttributes":null,"upgradePath":null},"publishBannersInfo":{"dismissActionNoticePath":"/settings/dismiss-notice/publish_action_from_dockerfile","releasePath":"/madeofants/Permut8-Firmware-Tutorial/releases/new?marketplace=true","showPublishActionBanner":false},"rawBlobUrl":"https://github.com/madeofants/Permut8-Firmware-Tutorial/raw/refs/heads/main/Permut8-Documentation.html","renderImageOrRaw":false,"richText":null,"renderedFileInfo":null,"shortPath":null,"symbolsEnabled":true,"tabSize":8,"topBannersInfo":{"overridingGlobalFundingFile":false,"globalPreferredFundingPath":null,"showInvalidCitationWarning":false,"citationHelpUrl":"https://docs.github.com/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-citation-files","actionsOnboardingTip":null},"truncated":false,"viewable":true,"workflowRedirectUrl":null,"symbols":{"timed_out":false,"not_analyzed":true,"symbols":[]}},"copilotInfo":{"documentationUrl":"https://docs.github.com/copilot/overview-of-github-copilot/about-github-copilot-for-individuals","notices":{"codeViewPopover":{"dismissed":false,"dismissPath":"/settings/dismiss-notice/code_view_copilot_popover"}},"userAccess":{"hasSubscriptionEnded":false,"orgHasCFBAccess":false,"userHasCFIAccess":false,"userHasOrgs":false,"userIsOrgAdmin":false,"userIsOrgMember":false,"business":null,"featureRequestInfo":null}},"copilotAccessAllowed":false,"modelsAccessAllowed":false,"modelsRepoIntegrationEnabled":false,"csrf_tokens":{"/madeofants/Permut8-Firmware-Tutorial/branches":{"post":"cM7prfVY25v-9IsVycNVybLfUmsb8c5Dntax-yLHlKpOkOAcjnAFHOYebMoVZX3Pickk75TFbYBsbZCmxWruEw"},"/repos/preferences":{"post":"RpaSHHnQ6K64J8zzIYYe2x81Yxp1P_-lcpj9L4Cp_tW4X5PcurxaLDlYR9FMdDnPZfEgV9YUu4nPqypl6ThUDQ"}}},"title":"Permut8-Firmware-Tutorial/Permut8-Documentation.html at main 路 madeofants/Permut8-Firmware-Tutorial","appPayload":{"helpUrl":"https://docs.github.com","findFileWorkerPath":"/assets-cdn/worker/find-file-worker-263cab1760dd.js","findInFileWorkerPath":"/assets-cdn/worker/find-in-file-worker-1b17b3e7786a.js","githubDevUrl":"https://github.dev/","enabled_features":{"code_nav_ui_events":false,"react_blob_overlay":true,"accessible_code_button":true}}}</script>
  <div data-target="react-app.reactRoot"></div>
</react-app>
</turbo-frame>



  </div>

</turbo-frame>

    </main>
  </div>

  </div>

          <footer class="footer pt-8 pb-6 f6 color-fg-muted p-responsive" role="contentinfo" >
  <h2 class='sr-only'>Footer</h2>

  


  <div class="d-flex flex-justify-center flex-items-center flex-column-reverse flex-lg-row flex-wrap flex-lg-nowrap">
    <div class="d-flex flex-items-center flex-shrink-0 mx-2">
      <a aria-label="GitHub Homepage" class="footer-octicon mr-2" href="https://github.com">
        <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-mark-github">
    <path d="M12 1C5.9225 1 1 5.9225 1 12C1 16.8675 4.14875 20.9787 8.52125 22.4362C9.07125 22.5325 9.2775 22.2025 9.2775 21.9137C9.2775 21.6525 9.26375 20.7862 9.26375 19.865C6.5 20.3737 5.785 19.1912 5.565 18.5725C5.44125 18.2562 4.905 17.28 4.4375 17.0187C4.0525 16.8125 3.5025 16.3037 4.42375 16.29C5.29 16.2762 5.90875 17.0875 6.115 17.4175C7.105 19.0812 8.68625 18.6137 9.31875 18.325C9.415 17.61 9.70375 17.1287 10.02 16.8537C7.5725 16.5787 5.015 15.63 5.015 11.4225C5.015 10.2262 5.44125 9.23625 6.1425 8.46625C6.0325 8.19125 5.6475 7.06375 6.2525 5.55125C6.2525 5.55125 7.17375 5.2625 9.2775 6.67875C10.1575 6.43125 11.0925 6.3075 12.0275 6.3075C12.9625 6.3075 13.8975 6.43125 14.7775 6.67875C16.8813 5.24875 17.8025 5.55125 17.8025 5.55125C18.4075 7.06375 18.0225 8.19125 17.9125 8.46625C18.6138 9.23625 19.04 10.2125 19.04 11.4225C19.04 15.6437 16.4688 16.5787 14.0213 16.8537C14.42 17.1975 14.7638 17.8575 14.7638 18.8887C14.7638 20.36 14.75 21.5425 14.75 21.9137C14.75 22.2025 14.9563 22.5462 15.5063 22.4362C19.8513 20.9787 23 16.8537 23 12C23 5.9225 18.0775 1 12 1Z"></path>
</svg>
</a>
      <span>
        &copy; 2025 GitHub,&nbsp;Inc.
      </span>
    </div>

    <nav aria-label="Footer">
      <h3 class="sr-only" id="sr-footer-heading">Footer navigation</h3>

      <ul class="list-style-none d-flex flex-justify-center flex-wrap mb-2 mb-lg-0" aria-labelledby="sr-footer-heading">

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to Terms&quot;,&quot;label&quot;:&quot;text:terms&quot;}" href="https://docs.github.com/site-policy/github-terms/github-terms-of-service" data-view-component="true" class="Link--secondary Link">Terms</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to privacy&quot;,&quot;label&quot;:&quot;text:privacy&quot;}" href="https://docs.github.com/site-policy/privacy-policies/github-privacy-statement" data-view-component="true" class="Link--secondary Link">Privacy</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to security&quot;,&quot;label&quot;:&quot;text:security&quot;}" href="https://github.com/security" data-view-component="true" class="Link--secondary Link">Security</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to status&quot;,&quot;label&quot;:&quot;text:status&quot;}" href="https://www.githubstatus.com/" data-view-component="true" class="Link--secondary Link">Status</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to docs&quot;,&quot;label&quot;:&quot;text:docs&quot;}" href="https://docs.github.com/" data-view-component="true" class="Link--secondary Link">Docs</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to contact&quot;,&quot;label&quot;:&quot;text:contact&quot;}" href="https://support.github.com?tags=dotcom-footer" data-view-component="true" class="Link--secondary Link">Contact</a>
          </li>

          <li class="mx-2" >
  <cookie-consent-link>
    <button
      type="button"
      class="Link--secondary underline-on-hover border-0 p-0 color-bg-transparent"
      data-action="click:cookie-consent-link#showConsentManagement"
      data-analytics-event="{&quot;location&quot;:&quot;footer&quot;,&quot;action&quot;:&quot;cookies&quot;,&quot;context&quot;:&quot;subfooter&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;cookies_link_subfooter_footer&quot;}"
    >
       Manage cookies
    </button>
  </cookie-consent-link>
</li>

<li class="mx-2">
  <cookie-consent-link>
    <button
      type="button"
      class="Link--secondary underline-on-hover border-0 p-0 color-bg-transparent"
      data-action="click:cookie-consent-link#showConsentManagement"
      data-analytics-event="{&quot;location&quot;:&quot;footer&quot;,&quot;action&quot;:&quot;dont_share_info&quot;,&quot;context&quot;:&quot;subfooter&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;dont_share_info_link_subfooter_footer&quot;}"
    >
      Do not share my personal information
    </button>
  </cookie-consent-link>
</li>

      </ul>
    </nav>
  </div>
</footer>



    <ghcc-consent id="ghcc" class="position-fixed bottom-0 left-0" style="z-index: 999999"
      data-locale="en"
      data-initial-cookie-consent-allowed=""
      data-cookie-consent-required="false"
    ></ghcc-consent>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error" hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
    </button>
    You cant perform that action at this time.
  </div>

    <template id="site-details-dialog">
  <details class="details-reset details-overlay details-overlay-dark lh-default color-fg-default hx_rsm" open>
    <summary role="button" aria-label="Close dialog"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal">
      <button class="Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0" type="button" aria-label="Close dialog" data-close-dialog>
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
      </button>
      <div class="octocat-spinner my-6 js-details-dialog-spinner"></div>
    </details-dialog>
  </details>
</template>

    <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box color-shadow-large" style="width:360px;">
  </div>
</div>

    <template id="snippet-clipboard-copy-button">
  <div class="zeroclipboard-container position-absolute right-0 top-0">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0" data-copy-feedback="Copied!" data-tooltip-direction="w">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none m-2">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div>
</template>
<template id="snippet-clipboard-copy-button-unpositioned">
  <div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div>
</template>


    <style>
      .user-mention[href$="/madeofants"] {
        color: var(--color-user-mention-fg);
        background-color: var(--bgColor-attention-muted, var(--color-attention-subtle));
        border-radius: 2px;
        margin-left: -2px;
        margin-right: -2px;
      }
      .user-mention[href$="/madeofants"]:before,
      .user-mention[href$="/madeofants"]:after {
        content: '';
        display: inline-block;
        width: 2px;
      }
    </style>


    </div>

    <div id="js-global-screen-reader-notice" class="sr-only mt-n1" aria-live="polite" aria-atomic="true" ></div>
    <div id="js-global-screen-reader-notice-assertive" class="sr-only mt-n1" aria-live="assertive" aria-atomic="true"></div>
  </body>
</html>

